/*! Alopex UI - v2.7.8 - 2017-04-06
* http://ui.alopex.io
* Copyright (c) 2017 alopex.ui; Licensed Copyright. SK C&C. All rights reserved. */
function isAlopexWindowPopup(){try{return $.alopex.util.isValid(window.opener)?window.opener.closed?!1:$.alopex.util.isValid(window.opener.$)&&$.alopex.util.isValid(window.opener.$.alopex)?!0:!1:!1}catch(a){return!1}}function checkAlopexWindowParent(){try{return $.alopex.util.isValid(window.parent)&&$.alopex.util.isValid(window.parent.$)&&$.alopex.util.isValid(window.parent.$.alopex)?!0:(window.parent=window,!1)}catch(a){return!1}}function isAlopexIframeChild(a){try{return $.alopex.util.isValid(a)&&$.alopex.util.isValid(a.$)&&$.alopex.util.isValid(a.$.alopex)?!0:!1}catch(b){return!1}}var __ALOPEX_DEBUG=!1,__ALOG=function(){};if(__ALOPEX_DEBUG)try{__ALOG=Function.prototype.bind?console.log.bind(console):function(){console.log(jQuery.makeArray(arguments).join(" "))}}catch(e){}!function(a){a.alopex=a.extend(a.alopex,{configMethods:{},widget:{},util:{},config:{pressedClassName:"af-pressed",hoveredClassName:"af-hover",selectedClassName:"af-selected Selected",disabledClassName:"af-disabled Disabled",themeName:"af-default",classLoader:!0,defaultComponentClass:{autocomplete:"Autocomplete",accordion:"Accordion",button:"Button",carousel:"Carousel",checkbox:"Checkbox",dateinput:"Dateinput",daterange:"Daterange",dialog:"Dialog",divselect:"Divselect",dropdown:"Dropdown",dropdownbutton:"Dropdownbutton",group:"Group",groupbutton:"Groupbutton",icon:"Icon",list:"List",navmenu:"Navmenu",overlay:"Overlay",paging:"Paging",panel:"Panel",progressbar:"Progressbar",radio:"Radio",scrollview:"Scrollview",select:"Select",slider:"Slider",spinner:"Spinner",table:"Table",tabs:"Tabs",textarea:"Textarea",textinput:"Textinput",togglebutton:"Toggle",tooltip:"Tooltip",tree:"Tree"},componentSelector:{".Paging > .link":"button"}},inherit:function(b,c){var d=a.extend({},b,c);return d.eventHandlers=a.extend({},b.eventHandlers,c.eventHandlers),b.getters=b.getters||[],b.setters=b.setters||[],c.getters=c.getters||[],c.setters=c.setters||[],d.getters=b.getters.concat(c.getters),d.setters=b.setters.concat(c.setters),d.properties=a.extend({},b.properties,c.properties),d.parent=b,d.markup=c.markup,d.style=c.style,d.event=c.event,d.init=c.init,d.defer=c.defer,d},setup:function(b,c){if("string"==typeof b){if(a.alopex.widget[b])a.extend(a.alopex.widget[b].properties,c);else if(a.isFunction(a.alopex.configMethods[b])){var d=a.makeArray(arguments).slice(1);a.alopex.configMethods[b].apply(null,d)}}else c=b,a.extend(!0,a.alopex.config,c)},registerSetup:function(b,c){a.alopex.configMethods[b]=c},convert:function(b){var c={markup:[],style:[],event:[],init:[],defer:[]};if(a.alopex.util.isValid(b)||(b="body"),a.alopex.config.classLoader){for(var d in a.alopex.config.defaultComponentClass)a(b).findAll("."+a.alopex.config.defaultComponentClass[d]).each(function(b,c){a(c).attr({"data-type":d,"data-classinit":"true"})});for(var d in a.alopex.config.componentSelector)a(b).findAll(d).each(function(b,c){a.alopex.widget[a.alopex.config.componentSelector[d]]&&a(c).attr({"data-type":a.alopex.config.componentSelector[d],"data-classinit":"true"})})}a(b).findAll("[data-type]").each(function(){var b=a.alopex.widget.object._getInitHandlers(this);c.markup=c.markup.concat(b.markup),c.style=c.style.concat(b.style),c.event=c.event.concat(b.event),c.init=c.init.concat(b.init),c.defer=c.defer.concat(b.defer)});for(var d=0;d<c.markup.length;d++){var e=c.markup[d];a.alopex.util.isConverted(e.element)||e.constructor.call(e.widget,e.element,a.alopex.util.getOptions(e.element))}for(var d=0;d<c.style.length;d++){var e=c.style[d];a.alopex.util.isConverted(e.element)||e.constructor.call(e.widget,e.element,a.alopex.util.getOptions(e.element))}for(var d=0;d<c.init.length;d++){var e=c.init[d];a.alopex.util.isConverted(e.element)||e.constructor.call(e.widget,e.element,a.alopex.util.getOptions(e.element))}for(var d=0;d<c.event.length;d++){var e=c.event[d];a.alopex.util.isConverted(e.element)||e.constructor.call(e.widget,e.element,a.alopex.util.getOptions(e.element))}for(var d=0;d<c.defer.length;d++){var e=c.defer[d];a.alopex.util.isConverted(e.element)||e.constructor.call(e.widget,e.element,a.alopex.util.getOptions(e.element))}},checkBrowser:function(){window.browser=a.alopex.util.getBrowserName()},_getter:function(b,c){if(this.length<1)return this;var d=this[0],e=this.prop("alopextype")?this.prop("alopextype"):[];if(a.alopex.util.isValid(d.getAttribute("data-type"))&&(e=a.alopex.util.arrayjoin(new Array(d.getAttribute("data-type")),e)),a.alopex.util.isValid(e))for(var f=0;f<e.length;f++){var g=a.alopex.widget[e[f]],h=g[b];if(h&&"function"==typeof h&&a.alopex.util.isValid(g)){for(var i=[d],f=0;f<c.length;f++)i.push(c[f]);if(a.alopex.util.isValid(d.alopex)){if(!a.alopex.util.isConverted(this)){var j=g,k=i;a(d).one("initcomplete.alopexui",function(){return j[b].apply(j,k)})}}else g._constructor.apply(g,[this,a.extend(a.alopex.util.getOptions(this),c.length>0?c[0]:void 0)]);return g[b].apply(g,i)}}},_setter:function(b,c){return this.each(function(){var d=a(this).prop("alopextype")?a(this).prop("alopextype"):[];if(a.alopex.util.isValid(this.getAttribute("data-type"))&&(d=a.alopex.util.arrayjoin(new Array(this.getAttribute("data-type")),d)),d.length>0){for(var e=[this],f=0;f<c.length;f++)e.push(c[f]);for(var f=0;f<d.length;f++){var g=a.alopex.widget[d[f]],h=g[b];if(d[f]==b){if(g&&g._constructor){g._constructor.apply(g,[this,a.extend(a.alopex.util.getOptions(this),c.length>0?c[0]:void 0)]);break}}else if(h&&"function"==typeof h&&a.alopex.util.isValid(g)){if(a.alopex.util.isValid(this.alopex))if(a.alopex.util.isConverted(this))g[b].apply(g,e);else{var i=g,j=e;a(this).one("initcomplete.alopexui",function(){i[b].apply(i,j)})}else g._constructor.apply(g,[this,a.extend(a.alopex.util.getOptions(this),c.length>0?c[0]:void 0)]),g[b].apply(g,e);break}}}else if(a.alopex.widget[b]){var g=a.alopex.widget[b];g.pre&&g.pre.apply(g,[this])}})}}),a.fn.convert=function(){return this.each(function(){a.alopex.convert(this)})},a.fn.setEnabledAll=function(b){var c=this;c.find("input[data-type], select[data-type], button[data-type], textarea[data-type]").each(function(){a(this).setEnabled(b)})}}(jQuery),function(a){function b(a,b){var c=a.match(b);return""==a||null!=c&&c[0]==a?!0:!1}function c(c,d){if(d){var f,g;f=g=a(c).val();for(var h="";!b(f,d);)h=f,f=h.substr(0,h.length-1);f!==g&&e(f,c)}}function d(c,d){if(d){var f,g;f=g=a(c).val();for(var h="",i="";!b(f,d);){h=f,f=h.substr(0,h.length-1);var j=h.substr(h.length-1);b(j,d)&&(i=j+i)}f+i!=g&&e(f+i,c)}}function e(b,c){if(a(c).blur(),a(c).val(b),"number"==typeof c.selectionStart)c.selectionStart=c.selectionEnd=c.value.length;else if("undefined"!=typeof c.createTextRange){c.focus();var d=c.createTextRange();d.collapse(!1),d.select()}}function f(a,b){var c="",d="keydown"===b.toLowerCase()?l:h;a=g(a);for(var e=a.split("|"),f=0;f<e.length;f++){var i=e[f];d[i]&&(c+=d[i])}return c}function g(a){return-1!==a.indexOf("korean")&&-1===a.indexOf("singlespace")?a+"|singlespace":a}window.didKeyupHandler="Y";var h={digits:"0-9",lowercase:"a-z",uppercase:"A-Z",english:"a-zA-Z",korean:"ㄱ-ㅣ가-힣",singlespace:" ",decimal:"0-9.-"},i={},j={0:h.digits,a:h.lowercase,A:h.uppercase,b:h.digits+h.lowercase,B:h.digits+h.uppercase,E:h.english,"*":h.digits+h.english},k={0:new RegExp("["+j[0]+"]",""),a:new RegExp("["+j.a+"]",""),A:new RegExp("["+j.A+"]",""),b:new RegExp("["+j.b+"]",""),B:new RegExp("["+j.B+"]",""),E:new RegExp("["+j.E+"]",""),"*":new RegExp("["+j["*"]+"]","")},l={digits:"0-9",lowercase:"A-Z",uppercase:"A-Z",english:"A-Z",korean:"å",singlespace:" ",decimal:"0-9.-"},m={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pausebreak",20:"capslock",21:"han/young",25:"chinese",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"win-left",92:"win-right",93:"function",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock"},n={188:"44",109:"45",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",173:"45",187:"61",186:"59",189:"45",96:"48",97:"49",98:"50",99:"51",100:"52",101:"53",102:"54",103:"55",104:"56",105:"57",109:"45",110:"46",111:"47"},o={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:"'",44:"<",46:">",47:"?"},p="keyfilter",q="maskedinput",r=function(a,b){"keypress"!==b.type&&n.hasOwnProperty(a)&&(a=n[a]);var c=String.fromCharCode(a),d=a>=65&&90>=a?!0:!1,e=b.shiftKey?b.shiftKey:16==a?!0:!1;return c.toUpperCase()===c&&c.toLowerCase()!==c&&!e||c.toUpperCase()!==c&&c.toLowerCase()===c&&e||((c.toLowerCase()===c&&c.toUpperCase()!==c&&!e||c.toLowerCase()!==c&&c.toUpperCase()===c&&e)&&d&&!e?c=String.fromCharCode(a+32):e&&o.hasOwnProperty(a)&&(c=o[a])),c},s=function(c){var d=c.which||c.charCode||c.keyCode;if((!c.ctrlKey&&!c.metaKey||67!==d&&86!==d)&&!m[d]){229===d&&(window.didKeyupHandler="N",a(c.currentTarget).bind("blur.datafilter",c.currentTarget,t));var e=a(c.currentTarget).attr("data-"+p+"-rule");if("string"==typeof e){var g=f(e,c.type);if(""!==g){g=new RegExp("["+g+"]","g");var h=r(d,c);if(!a(c.currentTarget).attr("data-"+p)&&!b(h,g))return c.preventDefault(),!1}}}};a(document).on("keydown.datafilter","[data-"+p+"-rule],[data-"+p+"]",s);var t=function(b){a(b.currentTarget).unbind("blur.datafilter",t),"N"===window.didKeyupHandler&&u(b)},u=function(b){if(window.didKeyupHandler="Y",!m[b.which]){var e="",g=a(b.currentTarget),h=g.attr("data-"+p+"-rule");if($a.util.isValid(i[h]))e=i[h],c(b.currentTarget,e);else{"string"==typeof h&&(e=f(h,b.type));var j=g.attr("data-"+p);"string"==typeof j&&(e+=j),""!==e&&(e=new RegExp("["+e+"]","g"),d(b.currentTarget,e))}}};a(document).on("keyup.datafilter","[data-"+p+"-rule],[data-"+p+"]",u);var v=function(a,b){var c=null;for(var d in j)if(b.charAt(a)===d.toString()){c=k[d];break}return c},w=function(c,d,e){var f=a(c),g=f.attr("data-"+q+"-rule");if("string"==typeof g){var c=e.currentTarget,h=c.value,i=h.length;if(i>=g.length)return e.preventDefault(),!1;var j=c.maskedinputOptions.indexInfo,k=h,l=!1,m=null,n=r(d,e),o=A(c);if(o===h.length){for(;j[i]&&!l;){if(m=j[i].regexp,m instanceof RegExp){if(!b(n,m))break;l=!0}else k+=m;i++}if(l){for(var p="",s=!0;j[i];){if(m=j[i].regexp,m instanceof RegExp){s=!1;break}p+=m,i++}return s?(c.value=k+n+p,e.preventDefault(),!1):(c.value=k,!0)}return e.preventDefault(),!1}if(c.value=a.alopex.maskedinputRegExpCheck(c,h.slice(0,o)+n+h.slice(o,h.length)),c.value!==h){for(var t=o,u=0;j[t]&&(m=j[t].regexp,!(m instanceof RegExp));)u++,t++;B(c,o+1+u)}return e.preventDefault(),!1}},x=function(a,c,d){if(a.value.length>=a.maskedinputOptions.format.length)return d.preventDefault(),!1;var e=r(c,d);if(!b(e,a.maskedinputOptions.reverseOneRegExp))return d.preventDefault(),!1;for(var f=a.value,g=A(a),h=r(c,d),i=f.slice(0,g)+h+f.slice(g,f.length),j=a.maskedinputOptions,k=i.replace(j.reverseOneRegExpOpposite,""),l=k.length,m=j.format,n=m.length-1,o=null,p="",q=l-1,s=q;s>=0;s--)o=m.charAt(n),o===j.reverseOneChar?p=k.charAt(s)+p:(p=k.charAt(s)+o+p,n--),n--;a.value=p,B(a,g+(p.length-f.length))},y=function(a){var c=a.currentTarget,d=a.which||a.charCode||a.keyCode;if((a.ctrlKey||a.metaKey)&&86===d)return c.maskedinputOptions.previousValue=c.value,void setTimeout(function(){c.value=$a.maskedinputRegExpCheck(c)},100);if(!c.maskedinputOptions.isRegExp){if(229===d)return a.preventDefault(),!1;if(c.maskedinputOptions.isDigitAndDigitEnglishOnly&&(!a.ctrlKey&&!a.metaKey||65!==d&&67!==d&&86!==d&&88!==d&&82!==d)&&!m[d]){if(c.maskedinputOptions.reverse){var c=a.currentTarget;return c.value.length>=c.maskedinputOptions.format.length||!b(r(d,a),c.maskedinputOptions.reverseOneRegExp)?(a.preventDefault(),!1):void 0}return!0}}};a(document).on("keydown.maskedinput","[data-"+q+"-rule]",y);var z=function(a){var b=a.currentTarget,c=a.which||a.charCode||a.keyCode;return b.maskedinputOptions.reverse?(x(b,c,a),a.preventDefault(),!1):w(b,c,a)};a(document).on("keypress.maskedinput","[data-"+q+"-rule]",z);var A=function(a){if(a&&"INPUT"===a.nodeName){if("selectionStart"in a)return a.selectionStart;if(document.selection){a.focus();var b=document.selection.createRange(),c=document.selection.createRange().text.length;return b.moveStart("character",-a.value.length),b.text.length-c}}},B=function(a,b){if(a&&"INPUT"===a.nodeName)if(a.createTextRange){var c=a.createTextRange();c.move("character",b),c.select()}else a.selectionStart?(a.focus(),a.setSelectionRange(b,b)):a.focus()};a.alopex||(a.alopex={}),a.alopex.keyfilter={add:function(a,b,c){a&&(b&&(l[a]=b),c&&(h[a]=c))},addKeyUpRegexpRule:function(a,b){"string"==typeof arguments[0]&&""!==arguments[0]&&("string"==typeof arguments[1]&&""!==arguments[1]?h[arguments[0]]=arguments[1]:arguments[1]instanceof RegExp&&(i[arguments[0]]=arguments[1]))},addKeyDownKeycodeRule:function(a,b){"string"==typeof arguments[0]&&""!==arguments[0]&&"string"==typeof arguments[1]&&""!==arguments[1]&&(l[arguments[0]]=arguments[1])}},a.alopex.maskedinput=function(b,c,d){var e=a(b);if(0!==e.length&&("string"==typeof c||c instanceof RegExp)){if(b.maskedinputOptions||(b.maskedinputOptions={}),b.maskedinputOptions=a.extend(!0,{},b.maskedinputOptions,a.alopex.maskedinput.setup,d),b.maskedinputOptions.previousValue=b.value,b.maskedinputOptions.format=c,c instanceof RegExp)b.maskedinputOptions.isRegExp=!0;else if("string"==typeof c){b.maskedinputOptions.indexInfo=[];var f=null,g=!0,h="",i="";if(a.each(c.split(""),function(a,d){var e=v(a,c);e?(0===a?f=d:null!==f&&f!==d&&(f=!1),"0"!==d&&"*"!==d&&g&&(g=!1),-1===h.indexOf(j[d])&&(h+=j[d]),b.maskedinputOptions.indexInfo.push({index:a,regexp:e}),i+="["+e+"]{1}"):b.maskedinputOptions.indexInfo.push({index:a,regexp:d})}),b.maskedinputOptions.regExpFromFormat=new RegExp(i),""!==h&&(b.maskedinputOptions.everyRule=h,b.maskedinputOptions.everyRuleRegExpOpposite=new RegExp("[^"+b.maskedinputOptions.everyRule+"]","g")),b.maskedinputOptions.isDigitAndDigitEnglishOnly=g,b.maskedinputOptions.reverse&&f)b.maskedinputOptions.reverseOneChar=f,b.maskedinputOptions.reverseOneRegExp=new RegExp("["+j[f]+"]","g"),b.maskedinputOptions.reverseOneRegExpOpposite=new RegExp("[^"+j[f]+"]","g");else if(b.maskedinputOptions.reverse&&!f)return void console.error("reverse:true property needs a format with only one charactor")}e.attr("data-maskedinput-rule",c);var k=e.val();""!==k&&e.val(a.alopex.maskedinputRegExpCheck(b,k)),e.off("focus.maskedinput, blur.maskedinput"),e.on("focus.maskedinput",function(b){var c=this.value;""!==c&&(this.value=a.alopex.maskedinputRegExpCheck(this,c),B(this,this.value.length))}),e.on("blur.maskedinput",function(b){var c=this.value;""!==c&&(this.value=a.alopex.maskedinputRegExpCheck(this,c))})}},a.alopex.maskedinput.setup={reverse:!1,lengthCheck:!1},a.alopex.maskedinput.notAllowStartZeroFn=function(a){return 0!==a.length&&a.length===a.match(/^0*/)[0].length?"0":a.replace(/^0*/,"")},a.alopex.maskedinput.getUserOption=function(a){return{format:a.maskedinputOptions.format,reverse:a.maskedinputOptions.reverse,lengthCheck:a.maskedinputOptions.lengthCheck}},a.alopex.maskedinputRegExpCheck=function(b,c){var d=null,e=null;c?(d=c,e=c):(d=b.value,e=b.value),e=e.toString(),b.maskedinputOptions.everyRuleRegExpOpposite instanceof RegExp&&(e=e.replace(b.maskedinputOptions.everyRuleRegExpOpposite,""),b.maskedinputOptions.notAllowStartZero&&(e=a.alopex.maskedinput.notAllowStartZeroFn(e)));var f=!0;if(b.getAttribute("data-maskedinput-rule")&&b.maskedinputOptions.isRegExp){var g=b.maskedinputOptions.format;g.test(e)||(f=!1,e=b.maskedinputOptions.previousValue)}else{var h=(b.maskedinputOptions.indexInfo.length,0);if(a.each(b.maskedinputOptions.indexInfo,function(a,b){b.regexp instanceof RegExp&&h++}),e.length===h||b.maskedinputOptions.lengthCheck===!1){var i=0,j="",k="";b.maskedinputOptions.reverse&&(e=e.split("").reverse().join(""),b.maskedinputOptions.indexInfo.reverse()),a.each(b.maskedinputOptions.indexInfo,function(a,c){var d=c.regexp,g=e.charAt(i);if(d instanceof RegExp){var h=d.test(g);if(!h)return f=!1,e=b.maskedinputOptions.previousValue,!1;j+=k+g,k="",i++}else k+=d}),e=j,f=!0}else f=!1}if(b.maskedinputOptions.reverse&&(e=e.split("").reverse().join(""),b.maskedinputOptions.indexInfo.reverse()),!f&&""!==d){var l=a.alopex.maskedinput.getUserOption(b);console.error("User Value '"+d+"' is mismatched with MaskedInput Option : "+JSON.stringify(l)),e=b.maskedinputOptions.previousValue}return e}}(jQuery),function(a){a.alopex.widget.object={widgetName:"object",parent:null,defaultClassName:"af-object",getters:["getEnabled"],setters:["addPressHighlight","addHoverHighlight","setEnabled","refresh"],properties:{enabled:!0,_markup:null,_wrapper:null},eventHandlers:{},refresh:function(b){var c=this._getProperty(b,"_wrapper"),d=this._getProperty(b,"_markup");c&&d&&(d=a(d)[0],a(c).replaceWith(d),a(d)[this.widgetName]())},markup:function(b,c){b.alopex=a.extend({},this.properties,c),b.alopexoptions||(b.alopexoptions={}),b.alopexoptions=a.extend(b.alopexoptions,this.properties,c),this._setProperty(b,"_markup",b.outerHTML);var d=this.renderTo(b,c);if(d){var e=a(d),f=this._generateMarkup(e[0],b);this._setProperty(b,"_wrapper",f)}},style:function(a,b){this._addDefaultClass(a)},event:function(a,b){this._addEventListener(a)},init:function(b,c){var d=a(b).prop("alopextype")?a(b).prop("alopextype"):[];d.push(a(b).attr("data-type")),a(b).prop("alopextype",d)},defer:function(b,c){this.setEnabled&&(this.setEnabled(b,a.alopex.util.parseBoolean(b.alopexoptions.enabled)),a.alopex.util.isValid(b.alopexoptions.disabled)&&this.setEnabled(b,!a.alopex.util.parseBoolean(b.alopexoptions.disabled))),a(b).attr("data-converted","true"),a(b).trigger("initcomplete.alopexui")},_getInitHandlers:function(b){function c(a,b,c){this.element=a,this.widget=b,this.constructor=c}var d=[],e=[],f=[],g=[],h=[],i=a(b).attr("data-type"),j=a.alopex.widget[i];if(j)for(var k=j;k;)k.markup&&d.unshift(new c(b,j,k.markup)),k.style&&e.unshift(new c(b,j,k.style)),k.event&&f.unshift(new c(b,j,k.event)),k.init&&g.unshift(new c(b,j,k.init)),k.defer&&h.push(new c(b,j,k.defer)),k=k.parent;return{markup:d,style:e,event:f,init:g,defer:h}},_constructor:function(b,c){if(b){for(var d=a.alopex.widget.object._getInitHandlers(b),e=[],f=1;f<arguments.length;f++)e[f]=arguments[f];for(var f=0;f<d.markup.length;f++)e[0]=d.markup[f].element,d.markup[f].constructor.apply(d.markup[f].widget,e);for(var f=0;f<d.style.length;f++)e[0]=d.style[f].element,d.style[f].constructor.apply(d.style[f].widget,e);for(var f=0;f<d.init.length;f++)e[0]=d.init[f].element,d.init[f].constructor.apply(d.init[f].widget,e);for(var f=0;f<d.event.length;f++)e[0]=d.event[f].element,d.event[f].constructor.apply(d.event[f].widget,e);for(var f=0;f<d.defer.length;f++)e[0]=d.defer[f].element,d.defer[f].constructor.apply(d.defer[f].widget,e)}},_addEventListener:function(b){var c=a(b);for(var d in this.eventHandlers){var e=[this.eventHandlers[d].event];this.eventHandlers[d].selector&&e.push(this.eventHandlers[d].selector),this.eventHandlers[d].data&&e.push(this.eventHandlers[d].data),e.push(this[this.eventHandlers[d].handler]),c.on.apply(c,e)}},_addDefaultClass:function(b){var c,d=" "+a.alopex.config.themeName;if(b.getAttribute("data-theme")&&(d=" "+b.getAttribute("data-theme")),b.getAttribute("data-classinit"));else{if(c=void 0!==b.className&&""!==b.className?" af-default"!==d?b.className+d:b.className:this.defaultClassName+d,a.alopex.util.isValid(b.getAttribute("data-style"))||a.alopex.util.isValid(b.getAttribute("data-addclass"))){var e=b.getAttribute("data-addclass")||b.getAttribute("data-style");c+=" "+e}a(b).addClass(c)}},addPressHighlight:function(b,c){c?(a(b).on("move",c,{classname:a.alopex.config.pressedClassName},this._removeClassName),a(b).on("pressed",c,{classname:a.alopex.config.pressedClassName},this._addClassName),a(b).on("unpressed",c,{classname:a.alopex.config.pressedClassName},this._removeClassName)):(a(b).on("move",{classname:a.alopex.config.pressedClassName},this._removeClassName),a(b).on("pressed",{classname:a.alopex.config.pressedClassName},this._addClassName),a(b).on("unpressed",{classname:a.alopex.config.pressedClassName},this._removeClassName))},addHoverHighlight:function(b,c){c?(a(b).on("mouseenter focusin",c,{classname:a.alopex.config.hoveredClassName},this._addClassName),a(b).on("mouseleave focusout",c,{classname:a.alopex.config.hoveredClassName},this._removeClassName)):(a(b).on("mouseenter focusin",{classname:a.alopex.config.hoveredClassName},this._addClassName),a(b).on("mouseleave focusout",{classname:a.alopex.config.hoveredClassName},this._removeClassName))},removePressHighlight:function(b,c){c?(a(b).off("move",c,{classname:a.alopex.config.pressedClassName},this._removeClassName),a(b).off("pressed",c,{classname:a.alopex.config.pressedClassName},this._addClassName),a(b).off("unpressed",c,{classname:a.alopex.config.pressedClassName},this._removeClassName)):(a(b).off("move",{classname:a.alopex.config.pressedClassName},this._removeClassName),a(b).off("pressed",{classname:a.alopex.config.pressedClassName},this._addClassName),a(b).off("unpressed",{classname:a.alopex.config.pressedClassName},this._removeClassName))},removeHoverHighlight:function(b,c){c?(a(b).off("mouseenter focusin",c,{classname:a.alopex.config.hoveredClassName},this._addClassName),a(b).off("mouseleave focusout",c,{classname:a.alopex.config.hoveredClassName},this._removeClassName)):(a(b).off("mouseenter focusin",{classname:a.alopex.config.hoveredClassName},this._addClassName),a(b).off("mouseleave focusout",{classname:a.alopex.config.hoveredClassName},this._removeClassName))},_eventBlockHandler:function(a){return a.preventDefault(),a.stopPropagation(),!1},_setProperty:function(a,b,c){a.alopex&&(a.alopex[b]=c)},_getProperty:function(a,b){return a.alopex[b]},setEnabled:function(b,c){var d=a(b);"boolean"!=typeof c&&(c=a.alopex.util.parseBoolean(c)),c?(this._setProperty(b,"enabled",!0),this._removeDisabledStyle(b),b.removeAttribute("disabled"),b.attributes.tabindex&&-1==d.attr("tabindex")&&(b.originalTabIndex?b.setAttribute("tabindex",b.originalTabIndex):b.setAttribute("tabindex","0"))):(this._setProperty(b,"enabled",!1),this._addDisabledStyle(b),b.setAttribute("disabled","disabled"),b.attributes.tabindex&&-1!=d.attr("tabindex")&&(b.originalTabIndex=d.attr("tabindex"),b.setAttribute("tabindex","-1")))},getEnabled:function(a){return this._getProperty(a,"enabled")},_addClassName:function(b){var c=b.currentTarget;switch(c.getAttribute("data-type")){case 0:break;default:a(c).addClass(b.data.classname)}},_removeClassName:function(b){var c=b.currentTarget;switch(c.getAttribute("data-type")){case 0:break;default:a(c).removeClass(b.data.classname)}},_addDisabledStyle:function(b){a(b).addClass(a.alopex.config.disabledClassName),(a(b).hasClass("Checkbox")||a(b).hasClass("Radio"))&&a(b).parent().get(0)&&"LABEL"===a(b).parent().get(0).tagName&&(a(b).parent().hasClass("ImageRadio")||a(b).parent().hasClass("ImageCheckbox"))&&a(b).parent().addClass(a.alopex.config.disabledClassName)},_removeDisabledStyle:function(b){a(b).removeClass(a.alopex.config.disabledClassName),(a(b).hasClass("Checkbox")||a(b).hasClass("Radio"))&&a(b).parent().get(0)&&"LABEL"===a(b).parent().get(0).tagName&&(a(b).parent().hasClass("ImageRadio")||a(b).parent().hasClass("ImageCheckbox"))&&a(b).parent().removeClass(a.alopex.config.disabledClassName)},_cancelEventHandler:function(a){return a.preventDefault(),a.stopPropagation(),!1},renderTo:function(){return null},markupIdentifier:"af-dynamic",_generateMarkup:function(b,c){var d;b.attributes[this.markupIdentifier]&&(d=b.cloneNode(!0),d.innerHTML="",b.removeAttribute(this.markupIdentifier),a(c).wrap(d),c=c.parentNode);for(var e=0;e<b.children.length;e++){var f=b.children[e];if(f.attributes[this.markupIdentifier]){if(e>0){var g=f.cloneNode(!0);a(g).insertAfter(c.children[e-1])}else{if(1===b.children.length)break;var g=f.cloneNode(!0);a(c).prepend(g)}f.removeAttribute(this.markupIdentifier)}}for(var e=0;e<b.children.length;e++)this._generateMarkup(b.children[e],c.children[e]);return d?d:c}}}(jQuery),function(a){function b(a){return null!=a&&void 0!=a&&""!=a&&Number(a)===a&&a%1===0&&a>-1}function c(a,b){var c=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)}function d(a){return null===a||void 0===a||""===a||"undefined"===a?!1:!0}function e(b,c){for(var d=a.extend([],b),e=0;e<c.length;e++){for(var f=!1,g=0;g<b.length;g++)if(b[e]==c[g]){f=!0;break}f||d.push(c[e])}return d}function f(a){switch(String(a).toLowerCase()){case"true":case"1":case"yes":case"y":return!0;case"false":case"0":case"no":case"n":return!1;default:return!1}}function g(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}function h(b,c){a.alopex.util.hasClass(b,c)||(b.className+=" "+c)}function i(b,c){if(a.alopex.utilhasClass(b,c)){var d=new RegExp("(\\s|^)"+c+"(\\s|$)");b.className=b.className.replace(d," ")}}function j(){return a(window).height()}function k(){return a(window).width()}function l(){return a(document).height()}function m(){return a(document).width()}function n(a){var b={},c=0,d=0;if(a.offsetParent)for(d=a.offsetTop,c=a.offsetLeft;a=a.offsetParent;){if("fixed"==a.style.position&&"body"==a.tagName.toLowerCase()){d+=a.style.top?parseInt(a.style.top):0,c+=a.style.left?parseInt(a.style.left):0;break}d+=a.offsetTop,c+=a.offsetLeft}return b.top=d,b.left=c,b}function o(a){var b={},c=0,d=0;if(a&&a.offsetParent)for(d=a.offsetTop,c=a.offsetLeft,a=a.offsetParent;a;)d+=a.offsetTop,c+=a.offsetLeft,a=a.offsetParent;return b.top=d,b.left=c,b}function p(a){var b={},c=0,d=0;if(a.offsetParent)for(d=a.offsetTop-a.scrollTop,c=a.offsetLeft-a.scrollLeft;a=a.offsetParent;)d+=a.offsetTop-a.scrollTop,c+=a.offsetLeft-a.scrollLeft;return b.top=d,b.left=c,b}function q(){var b,c,d;return void 0===d&&(b=a('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),c=b.children(),d=c.innerWidth()-c.height(99).innerWidth(),b.remove()),d}function r(a){var b=null;try{return b=JSON.parse(a)}catch(c){return console.error("JSON.parse() error : "+a),!1}}function s(a){var b=null;try{return b=JSON.stringify(a)}catch(c){return console.error("JSON.stringify() error"),console.error(a),!1}}function t(b){return a.alopex.util.regexp.number.test(b)}function u(a){return"[object String]"===Object.prototype.toString.call(a)}function v(b){return a.alopex.util.regexp.date.test(b)}function w(b){return"true"===a(b).attr("data-converted")}function x(a,b){if(a instanceof Date){var c=a.getFullYear(),d=a.getMonth()+1,e=a.getDate();return d=(10>d?"0":"")+d,e=(10>e?"0":"")+e,b.replace("yyyy",c).replace("MM",d).replace("dd",e)}}function y(b){for(var c,d,e="ddmm",f=0;f<b.length;f++)if(c=b[f].match(a.alopex.util.regexp.divider),d=b[f].split(c),4===d[0].length&&(d.push(d[0]),d.shift(),b[f]=d.join("/")),parseInt(d[0],10)>12){e="mmdd";break}if("mmdd"===e)for(f=0;f<b.lengh;f++){c=b[f].match(a.alopex.util.regexp.divider),d=b[f].split(c);var g=d[0];d[0]=d[1],d[1]=g,b[f]=d.join("/")}return b}function z(b,c){void 0===c&&(c=b.tagName);for(var d=document.createElement(c),e=0;e<b.attributes.length;e++){var f=b.attributes[e];a(d).attr(f.name,f.value)}return d}function A(a,b,c,d,e){if(!a||!a.length)return a;if(a.length<2)return a;d=d||0,e=e||a.length;var f=e-d;if(2>f)return a;var g,h,i,j=a.slice(d,e);for(g=1;g<j.length;g++){if(i=j[g],h=g,c)for(;h>0&&b(j[h-1],i)>0;)j[h]=j[h-1],h--;else for(;h>0&&b(j[h-1],i)<0;)j[h]=j[h-1],h--;j[h]=i}for(var g=0;g<j.length;g++)a[d+g]=j[g];return a}function B(a,b,c,d,e){if(!a||!a.length)return a;if(a.length<2)return a;d=d||0,e=e||a.length;var f=e-d;if(2>f)return a;var g=d+Math.floor(f/2),h=C(B(a.slice(d,g),b,c),B(a.slice(g,e),b,c),b,c);return h.unshift(d,h.length),a.splice.apply(a,h),a}function C(a,b,c,d){for(var e=new Array;a.length>0&&b.length>0;)c(a[0],b[0])<=0&&d?e.push(a.shift()):e.push(b.shift());for(;a.length>0;)e.push(a.shift());for(;b.length>0;)e.push(b.shift());return e}function D(a,b){return a>b?1:b>a?-1:0}function E(a,b){var c=(""+a).split("."),d=(""+b).split("."),e=0;c[1]&&(e=c[1].length),d[1]&&d[1].length>e&&(e=d[1].length);var e=Math.pow(10,e),f=0==e?a+b:parseFloat(Math.round(a*e+b*e))/e;return f}function F(a,b){var c=parseFloat(a[0].replace(/[^0-9.-]/g,""));isNaN(c)&&(c=0);var d=parseFloat(b[0].replace(/[^0-9.-]/g,""));return isNaN(d)&&(d=0),c-d}function G(b,c){var d=a.alopex.util.getDate(b[0]),e=a.alopex.util.getDate(c[0]);return d>e?1:d===e?0:-1}function H(a,b){var c,d,e;void 0===b&&(b="mmdd");var f="/";f=a.match(/\-|\/|\./);var g=a.split(f);return c=g[2],"ddmm"===b?(d=g[1],e=g[0]):(d=g[0],e=g[1]),new Date(c,d,e)}function I(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function J(){var b=[];return a(document).find(":hidden").each(function(){if(this.parentNode){var a=this.tagName.toLowerCase();switch(a){case"head":case"meta":case"link":case"script":case"option":case"style":return}b.push({node:this,parent:this.parentNode}),this.parentNode.removeChild(this)}}),b}function K(a){for(var b=0;b<a.length;b++)a[b].parent&&a[b].parent.appendChild(a[b].node)}function L(b){for(var c={},d=0;d<b.attributes.length;d++)if(0===b.attributes[d].name.indexOf("data-")){var e=b.attributes[d].name.replace("data-","").replace("-","");if("type"===e)continue;var f=b.attributes[d].value;c[e]=f}for(var d in c)("true"===c[d]||"false"===c[d])&&(c[d]=a.alopex.util.parseBoolean(c[d])),a.alopex.util.isNumberType(c[d])&&(c[d]=parseInt(c[d],10));return c}function M(a,b){if(a instanceof Array)for(var c=0;c<a.length;c++)a[c]==b&&a.splice(c,1)}function N(b){var c,d={};if(b)for("?"==b.substr(0,1)&&(b=b.substr(1));c=W.exec(b);){var e=X(c[1]),f=X(c[2]);void 0!==d[e]?(a.isArray(d[e])||(d[e]=[d[e]]),d[e].push(f)):d[e]=f}return d}function O(){var a={"Windows NT 6.3":"Windows 8.1","Windows NT 6.2":"Windows 8","Windows NT 6.1":"Windows 7","Windows NT 6.0":"Windows Vista","Windows NT 5.2":"Windows Server 2003; Windows XP x64 Edition","Windows NT 5.1":"Windows XP","Windows NT 5.01":"Windows 2000, Service Pack 1 (SP1)","Windows NT 5.0":"Windows 2000","Windows NT 4.0":"Microsoft Windows NT 4.0","Windows 98; Win 9x 4.90":"Windows Millennium Edition (Windows Me)","Windows 98":"Windows 98","Windows 95":"Windows 95","Windows CE":"Windows CE","Open BSD":"OpenBSD","Sun OS":"SunOS",Linux:"Linux",x11:"Linux",Mac_PowerPC:"Mac OS",Macintosh:"Mac OS",QNX:"QNX",BeOS:"BeOS","OS/2":"OS/2",Search:"Search Bot",nuhk:"Search Bot",Googlebot:"Search Bot",Yammybot:"Search Bot",Openbot:"Search Bot",Slurp:"Search Bot",MSNBot:"Search Bot","Ask Jeeves/Teoma":"Search Bot",ia_archiver:"Search Bot"};for(var b in a)if(-1!=navigator.userAgent.indexOf(b))return a[b];return"Others"}function P(){return void 0!==window.isMobileOrTablet?window.isMobileOrTablet:(window.isMobileOrTablet=!1,function(a){try{(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(window.isMobileOrTablet=!0);
}catch(b){window.isMobileOrTablet=!1}}(navigator.userAgent||navigator.vendor||window.opera),window.isMobileOrTablet)}function Q(){var a,b,c,d=navigator.userAgent;return"ontouchstart"in document.documentElement||"ontouchstart"in window?window.browser="mobile":-1!=(c=d.indexOf("Opera"))?(a="Opera",b=d.substring(c+6),-1!=(c=d.indexOf("Version"))&&(b=d.substring(c+8))):-1!=(c=d.indexOf("Trident"))?(a="Microsoft Internet Explorer",b="11.0"+d.substring(c+12)):-1!=(c=d.indexOf("MSIE"))?(a="Microsoft Internet Explorer",b=d.substring(c+5)):-1!=(c=d.indexOf("Chrome"))?(a="Chrome",b=d.substring(c+7)):-1!=(c=d.indexOf("Safari"))?(a="Safari",b=d.substring(c+7),-1!=(c=d.indexOf("Version"))&&(b=d.substring(c+8))):-1!=(c=d.indexOf("Firefox"))?(a="Firefox",b=d.substring(c+8)):(nameOffset=d.lastIndexOf(" ")+1)<(c=d.lastIndexOf("/"))&&(a=d.substring(nameOffset,c),b=d.substring(c+1),a.toLowerCase()==a.toUpperCase()&&(a=navigator.appName)),a+" "+b}function R(a,b,c){var d=b.split("."),e=a;if(d.length<1)return!1;for(var f=0;f<d.length-1;f++){var g=d[f];e[g]||(e[g]={}),e=e[g]}return null!=c&&void 0!=c&&(e[d[d.length-1]]=c),!0}function S(a,b){if(""==b)return a;var c=b.split("."),d=a;if(!(c.length<1)){for(var e=0;e<c.length-1;e++){var f=c[e];if(!d[f])return;d=d[f]}return d[c[c.length-1]]}}function T(a){var b=a.tagName.toLowerCase();return a.id?b+="#"+a.id:(a.getAttribute("data-id")||a.setAttribute("data-id",this.generateRandomName()),b+='[data-id="'+a.getAttribute("data-id")+'"]'),a.className&&a.className.replace&&(b+="."+a.className.replace(/ /gi,".")),b}function U(){var b=document.styleSheets,c=!1,d="",e=[];return a.each(b,function(a,b){if(b.href){d=b.href.toString(),e=d.split("/");var f=e[e.length-1];if(f=f.split(".css")[0],"alopex-ui-dark"==f||"alopex-ui-dark-gradation"==f||"alopex-ui-default"==f||"alopex-ui-mustard"==f||"alopex-ui-sk"==f||"alopex-ui-white"==f||"alopex-ui-white-gradation"==f||"alopex-ui-hynix"==f)for(var g=b.rules||b.cssRules,h=0;h<g.length;h++){if(".Css-version"===g[h].selectorText){c=!0;break}if(".Dialog-contents"===g[h].selectorText){c=!0;break}}}}),c}if(!a.alopex.util.regexp){var V={number:/^[0-9]+$/,"float":/\d+(\.\d+)?/gi,date:/(^\d{1,2}(\-|\/|\.)\d{1,2}(\-|\/|\.)\d{4}$)|(^\d{4}(\-|\/|\.)\d{1,2}(\-|\/|\.)\d{1,2}$)/,divider:/^\-|\/|\./},W=/([^&=]+)=?([^&]*)/g,X=function(a){return decodeURIComponent(a.replace(/\+/g," "))};a.extend(a.alopex.util,{isPlusInt:b,regexp:V,delayFunction:c,isValid:d,parseBoolean:f,hasClass:g,addClass:h,removeClass:i,getWindowHeight:j,getWindowWidth:k,getDocumentHeight:l,getDocumentWidth:m,getPagePosition:n,getRelativePosition:o,getScrolledPosition:p,getScrollbarWidth:q,isStringType:u,isNumberType:t,isDateType:v,formatDate:y,copyNode:z,insertSort:A,mergeSort:B,sort_default:D,sort_numeric:F,sort_date:G,getDate:H,trim:I,erase:J,restore:K,getOptions:L,isConverted:w,addFloat:E,arrayjoin:e,arrayremove:M,parseQuerystring:N,getDateString:x,getOSName:O,getBrowserName:Q,setValueOnObject:R,getValueOnObject:S,getElementSelector:T,isAlopexTheme:U,parseJsonWithValidation:r,stringifyJsonWithValidation:s,isMobileOrTablet:P}),a.fn.hasEventHandler=function(b,c){var d=a._data(window,"events");if(void 0!==d&&void 0!==d[b])for(var e=d[b],f=0;f<e.length;f++)if(e[f].handler===c)return!0;return!1}}}(jQuery),function(a){a.alopex.widget.accordion=a.alopex.inherit(a.alopex.widget.object,{widgetName:"accordion",defaultClassName:"af-accordion Accordion",setters:["accordion","expandAll","collapseAll","setDataSource","expand","collapse","expandByMenuId","collapseByMenuId"],getters:[],eventHandlers:{},init:function(b,c){var d=a(b),e=this;a.extend(b,this.options,c),d.find("li").each(function(){for(var b=this,c=0;c<b.children.length;c++)if("a"===b.children[c].tagName.toLowerCase()&&b.children.length>1){a(b).addClass("af-expandable Expandable");break}}),d.find("li > a").each(function(){e.addHoverHighlight(this),e.addPressHighlight(this),a(this).next().addClass("af-accordion-sub")}),d.find(".af-accordion-sub").each(function(){a(this).css("display","none");var b=a(this).parent("li.af-expandable.Expandable");b.removeClass("af-accordion-expand Expanded")}),d.find("li > a").bind("click",function(b){var c=a(b.target),e=c.next(".af-accordion-sub"),f=c.parent("li.af-expandable.Expandable");f.is("li.af-expandable.Expandable")&&(f.toggleClass("af-accordion-expand Expanded"),f.hasClass("af-accordion-expand Expanded")?(e.css("display",""),d.trigger("open",[c[0]])):(e.css("display","none"),d.trigger("close",[c[0]])))})},_changeStatus:function(b,c,d){var e=a(b),f=a(c),g=f.prev("a"),h=g.parent("li.af-expandable.Expandable");if(d){for(;f.length;)f.css("display",""),h.addClass("af-accordion-expand Expanded"),h=f.parent("li.af-expandable.Expandable"),f=h.parent("ul.af-accordion-sub");h.addClass("af-accordion-expand Expanded"),e.trigger("open",[g[0]])}else f.css("display","none"),e.trigger("close",[g[0]]),h.removeClass("af-accordion-expand Expanded"),f.find("li.af-expandable.Expandable").removeClass("af-accordion-expand Expanded"),f.find("ul.af-accordion-sub").css("display","none")},expand:function(b,c){a(b).find(".af-accordion-sub").eq(c).each(function(){var c=this;a.alopex.widget.accordion._changeStatus(b,c,!0)})},expandAll:function(b){a(b).find(".af-accordion-sub").each(function(){var c=this;a.alopex.widget.accordion._changeStatus(b,c,!0)})},collapse:function(b,c){a(b).find(".af-accordion-sub").eq(c).each(function(){var c=this;a.alopex.widget.accordion._changeStatus(b,c,!1)})},collapseAll:function(b){a(b).find(".af-accordion-sub").each(function(){var c=this;a.alopex.widget.accordion._changeStatus(b,c,!1)})},setDataSource:function(b,c){a(b).empty(),this._createNode(b,c),b.phase=void 0,a(b).accordion()},expandByMenuId:function(b,c){var d=a(b).find("[data-menuid="+c+"]");d.children(".af-accordion-sub").length?a.alopex.widget.accordion._changeStatus(b,d.children(".af-accordion-sub"),!0):d.parent(".af-accordion-sub").length&&a.alopex.widget.accordion._changeStatus(b,d.parent(".af-accordion-sub"),!0)},collapseByMenuId:function(b,c){var d=a(b).find("[data-menuid="+c+"]");d.children(".af-accordion-sub").length&&a.alopex.widget.accordion._changeStatus(b,d.children(".af-accordion-sub"),!1)},_createNode:function(b,c){for(var d=0;d<c.length;d++){var e=c[d],f=a("<li></li>").appendTo(b)[0];a.alopex.util.isValid(e.id)&&a(f).attr("data-id",e.id);var g=a("<a></a>").appendTo(f)[0];if(a.alopex.util.isValid(e.linkUrl)&&a(g).attr("href",e.linkUrl),a.alopex.util.isValid(e.iconUrl)&&a("<img/>").attr("src",e.iconUrl).appendTo(f),a(g).text(e.text),a.alopex.util.isValid(e.items)){var h=a("<ul></ul>").appendTo(f)[0];this._createNode(h,e.items)}}}})}(jQuery),function(a){function b(b,c){if(0!=a(".af-dialog-mask:hidden").length&&a(".af-dialog-mask:hidden").remove(),0==a(document).find(".messagebox").length){var d="";d="object"==typeof c?c.msg:c;var e='<div id="dialog_messagebox" data-type="dialog" class="messagebox container"><div class="messageWrap clearfix"><div class="msg_icon '+b+'"></div><div class="msg_txt" id="text"></div></div><div class="msgBtnWrap"><button id="msgBtn" data-type="button"><span class="btn_icon"></span><span class="btn_txt">OK</span></button></div></div>',f=a(e).appendTo(document.body).convert().open({modal:!0}),g=f.find("#text");g.html(d.replace("\n","<br>")),a("#msgBtn").on("click",function(a){f.close().remove()}).focus(),a("#dialog_messagebox").close(function(){a("#dialog_messagebox").remove(),c.ok&&c.ok()})}}function c(c){if(0!=a(".af-dialog-mask:hidden").length&&a(".af-dialog-mask:hidden").remove(),0==a(document).find(".messagebox").length){var d,e='<div id="dialog_messagebox" data-type="dialog" class="messagebox container"><div class="messageWrap clearfix"><div class="msg_icon confirm"></div><div class="msg_txt" id="text"></div></div><div class="msgBtnWrap"><button id="msgBoxOk" class="btn_common black noicon"><span class="btn_icon"></span><span class="btn_txt">OK</span></button><button id="msgBoxCancel" class="btn_common black noicon"><span class="btn_icon"></span><span class="btn_txt">Cancel</span></button></div></div>';if(void 0!=c.id)$a.service("SKENS.CM.Biz.MsgMgmtBiz#GetMsgDetail",{MESSAGEID:c.id},function(f){if(0!=f.recordSets.table1.nc_list.length){d=f.recordSets.table1.nc_list[0].MESSAGEBODY;var g=a(e).appendTo(document.body).convert().open({modal:!0}),h=g.find("#text");h.html(d.replace("\n","<br>"));var i;c.cancel&&(i=c.cancel),a("#msgBoxOk").on("click",function(b){c.ok?(a("#dialog_messagebox").close().remove(),c.ok()):a("#dialog_messagebox").close().remove()}).focus(),a("#msgBoxCancel").on("click",function(){a("#dialog_messagebox").close().remove()}),a("#dialog_messagebox").close(function(){a("#dialog_messagebox").remove(),i&&i()})}else b("error","잘못된 Message ID를 입력했습니다.")});else if(void 0!=c.msg){d=c.msg;var f=a(e).appendTo(document.body).convert().open({modal:!0}),g=f.find("#text");g.html(d.replace("\n","<br>"));var h;c.cancel&&(h=c.cancel),a("#msgBoxOk").on("click",function(b){c.ok?(a("#dialog_messagebox").close(function(){c.ok()}),a("#dialog_messagebox").close().remove()):a("#dialog_messagebox").close().remove()}).focus(),a("#msgBoxCancel").on("click",function(){a("#dialog_messagebox").close().remove()}),a("#dialog_messagebox").close(function(){a("#dialog_messagebox").remove(),h&&h()})}else b("error","잘못된 Parameter 입니다.")}}a.extend(a.alopex,{info:function(a){return b("error",a)},error:function(a){b("error",a)},confirm:function(a){c(a)}})}(jQuery),function(a){a.alopex.widget.autocomplete=a.alopex.inherit(a.alopex.widget.object,{widgetName:"autocomplete",setters:["autocomplete","setOptions","setEnabled","select","setCustomFilter","clear"],getters:["getSelectedData"],properties:{textinput:null,dropdown:null,noresultstr:"No Results",lastKeyword:"",req:{before:void 0,useServiceId:!1},url:null,method:"GET",datatype:"json",paramname:null,source:void 0,minlength:0,fitwidth:!0,maxheight:"",select:null,selectedDataDefault:void 0,selected:void 0,maxresult:100,resetbutton:!1,customfilter:null,enterselectfirst:!1,initdata:!1},init:function(b,c){if(a.extend(b,this.properties,c),0===a(b).find("input").length&&a(b).append('<input class="Textinput">'),b.textinput=a(b).find("input").first().attr("class","Textinput")[0],$a.convert(b.textinput),a(b).is("[data-dynamic-dropdown]")?(b.dropdown=null,b.dropdown=a.alopex.widget.autocomplete._makeDropdown(b)):0===a(b).find("ul").length&&(a(b).append('<ul class="Dropdown"></ul>'),b.dropdown=a(b).find("ul").first().attr("class","Dropdown")[0]),$a.convert(b.dropdown),b.resetbutton&&a.alopex.widget.autocomplete._resetButtonHandler(b),b.openbutton&&a.alopex.widget.autocomplete._openButtonHandler(b),b.enterselectfirst&&a(b.textinput).on("keydown.selectFirst",a.alopex.widget.autocomplete._selectFirstHandler),b.fitwidth&&a(b.dropdown).width(a(b.textinput).outerWidth()-2*parseInt(a(b.textinput).css("border-left-width"))),a(b.dropdown).css("minWidth",a(b.textinput).outerWidth()),a(b.dropdown).css("maxHeight",b.maxheight),a(b.dropdown).css("overflow-y","auto"),a(b.textinput).on("keyup.autocomplete",a.alopex.widget.autocomplete._keyupHandler),a(b.dropdown).addHandler(a.alopex.widget.autocomplete._selectHandler),a.alopex.util.isValid(b.source)&&0==b.minlength)b.source=JSON.parse(b.source),a.alopex.widget.autocomplete._filterSource(b,a(b.textinput).val());else if(b.url&&b.initdata){var d={url:b.url,method:b.method,dataType:b.datatype,data:{}};a.extend(d,b.req),b.paramname?d.data[b.paramname]=b.textinput.value:d.data=b.textinput.value,d.success=function(c){c.length>b.maxresult&&(c.length=b.maxresult),a.alopex.widget.dropdown.setDataSource(b.dropdown,c),a.alopex.widget.autocomplete._noResultHandler(b),a(b.dropdown).close()},$a.request(null,d)}this.setEnabled(b,b.enabled);var e=a.alopex.widget.autocomplete._hasPercentageWidthParent(b);e!==!1&&a(window).on("resize",{object:b,width:e},a.alopex.widget.autocomplete._resizeHandler)},_hasPercentageWidthParent:function(b){var c=a(b),d=null,e="temp_autocomplete_wrap",f=document.getElementById(e);f?d=c.clone().appendTo(wrap):(d=c.clone().appendTo("body").wrap('<div id="'+e+'" style="display: none"></div>'),f=document.getElementById(e));var g=d.css("width");return d.remove(),f.parentElement.removeChild(f),$a.util.isValid(g)&&g.toString().indexOf("%")>=0?g.toString():!1},_resizeHandler:function(b){var c=b.data.object,d=b.data.width;if("DIV"===c.tagName&&c.className.indexOf("Autocomplete")>=0){var e=a(c);e.is(":visible")&&(c.style.width=d,a(c.textinput).css("width",e.css("width")))}},_resetButtonHandler:function(b){var c=$a.util.getBrowserName();if(-1!=c.indexOf("Microsoft Internet Explorer 9")||-1!=c.indexOf("Chrome")){var d=a(b.textinput).outerWidth();a(b.textinput).css("padding-right","30px"),a(b.textinput).outerWidth(d)}a(b.textinput).next().hasClass("Clear")?b.resetbuttonEl=a(b.textinput).next():b.resetbuttonEl=a('<div class="Clear">x</div>').insertAfter(b.textinput),b.resetbuttonEl[0].element=b,b.resetbuttonEl.on("click.reset",a.alopex.widget.autocomplete._resetHandler)},_resetHandler:function(b){var c=b.currentTarget,d=a(c.element);d.is(".af-disabled Disabled")||(a.alopex.widget.autocomplete.clear(c.element),c.element.selected=void 0,b.preventDefault(),b.stopPropagation())},_openButtonHandler:function(b){var c=$a.util.getBrowserName();if(-1!=c.indexOf("Microsoft Internet Explorer 9")||-1!=c.indexOf("Chrome")){var d=a(b).outerWidth();a(b.textinput).css("padding-right","30px"),a(b.textinput).outerWidth(d)}a(b).find(".Opener").length?b.openbuttonEl=a(b).find(".Opener"):b.openbuttonEl=a('<div class="Opener"></div>').insertAfter(b.textinput),b.openbuttonEl[0].element=b,b.openbuttonEl.off("click.opener",a.alopex.widget.autocomplete._openerHandler),b.openbuttonEl.on("click.opener",a.alopex.widget.autocomplete._openerHandler)},_openerHandler:function(b){var c=b.currentTarget.parentElement;return!c.dropdown&&a(c).is("[data-dynamic-dropdown]")?(b.currentTarget=c.textinput,void a(c.textinput).trigger("click.autocomplete")):void a(c.dropdown).toggle()},_selectHandler:function(b){var c,d=a(b.currentTarget).parent(".Dropdown")[0];c=a(d).attr("data-base")?a(a(d).attr("data-base")).parent(".Autocomplete")[0]:b.currentTarget.parentElement.parentElement,c.lastKeyword=b.currentTarget.innerText,c.selected=b.currentTarget.parentElement.userInputDataSource[a(d).find("li").index(b.currentTarget)],"empty"!=a(b.currentTarget).attr("data-role")&&a(c.textinput).val(b.currentTarget.innerText),"function"==typeof c.select&&c.select(b,c.selected)},setOptions:function(b,c){c.before&&"function"==typeof c.before&&(b.req.before=c.before,delete c.before),a.extend(b,c),b.dropdown&&a.alopex.util.isValid(c.source)&&a.alopex.widget.dropdown.setDataSource(b.dropdown,c.source),c.enterselectfirst?(a(b.textinput).off("keydown.selectFirst"),a(b.textinput).on("keydown.selectFirst",a.alopex.widget.autocomplete._selectFirstHandler)):c.enterselectfirst===!1&&a(b.textinput).off("keydown.selectFirst"),a(b.textinput).on("keyup.autocomplete",a.alopex.widget.autocomplete._keyupHandler)},_keyupHandler:function(b){var c=b.currentTarget,d=a(c).val(),e=c.parentElement,f={};if(f.data={},f.el=e,(40!==b.keyCode&&38!=b.keyCode&&13!=b.keyCode||40==b.keyCode&&a(e).data("dynamic-dropdown")&&!e.dropdown)&&(""!=d||!e.url||e.initdata!==!1))if(13!==b.keyCode&&!e.dropdown&&a(e).attr("data-dynamic-dropdown")&&(e.dropdown=a.alopex.widget.autocomplete._makeDropdown(e)),13!==b.keyCode&&e.lastKeyword!=d||a(e).data("dynamic-dropdown"))e.initdata=!0,e.lastKeyword=d,e.minlength<=d.length?e.url?(a.extend(f,e.req),f.url=e.url,e.paramname?f.data[e.paramname]=d:f.data=d,f.method=e.method,f.dataType=e.datatype,f.success=function(b){b.length>this.el.maxresult&&(b.length=this.el.maxresult),a.alopex.widget.dropdown.setDataSource(this.el.dropdown,b),a.alopex.widget.autocomplete._noResultHandler(this.el),a(this.el.dropdown).open()},$a.request(null,f)):("object"==typeof e.source||"string"==typeof e.source)&&("string"==typeof e.source&&(e.source=JSON.parse(e.source)),a.alopex.widget.autocomplete._filterSource(e,d),a(c.dropdown).open()):c.dropdown&&(c.dropdown.userInputDataSource=null,a(c.dropdown).close());else{if(13===b.keyCode||e.lastKeyword!=d||!c.dropdown.userInputDataSource)return;a(c.dropdown).open()}},_filterSource:function(b,c){var d,e=b.dropdown;d=b.customfilter&&"function"==typeof b.customfilter?b.customfilter(b,b.source,c):a.alopex.widget.autocomplete._defaultFilter(b,b.source,c),a.alopex.widget.dropdown.setDataSource(e,d),a.alopex.widget.autocomplete._noResultHandler(b)},_generateReg:function(b,c){if(c=c.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),a.alopex.util.isValid(b)){var d=b.replace(/ /g,"").split("|"),e="";-1!==d.indexOf("ignoreWhitespace")&&(c=c.replace(/ /g,"")),(-1!==d.indexOf("prefix")||-1!==d.indexOf("equal"))&&(e+="^"),e+=c,(-1!==d.indexOf("suffix")||-1!==d.indexOf("equal"))&&(e+="$");var f;return f=-1!==d.indexOf("caseSensitive")?new RegExp(e):new RegExp(e,"i")}return new RegExp(c,"i")},_defaultFilter:function(b,c,d){var e=a.alopex.widget.autocomplete._generateReg(b.filter,d),f=[];if(""==d)return b.source;for(var g=0;g<c.length;g++){var h=c[g];if(void 0!==h.text){if(0==e.test(h.text))continue}else{if("string"!=typeof h)continue;if(0==e.test(h))continue}f.push(h)}return f.length>b.maxresult&&(f.length=b.maxresult),f},setCustomFilter:function(b,c){"function"==typeof c?b.customfilter=c:0==a.alopex.util.parseBoolean(c)&&(b.customfilter=null)},setEnabled:function(b,c){a(b.textinput).setEnabled(c),c?(b.dropdown&&(a(b.textinput).off(b.dropdown.opentrigger,a.alopex.widget.dropdown._toggle),a(b.textinput).on(b.dropdown.opentrigger,a.alopex.widget.dropdown._toggle),a(b.dropdown).setEnabled(c)),b.openbuttonEl?(a(b.openbuttonEl).off("click.opener",a.alopex.widget.autocomplete._openerHandler),a(b.openbuttonEl).on("click.opener",a.alopex.widget.autocomplete._openerHandler)):b.resetbuttonEl&&(a(b.resetbuttonEl).off("click.reset",a.alopex.widget.autocomplete._resetHandler),a(b.resetbuttonEl).on("click.reset",a.alopex.widget.autocomplete._resetHandler))):(b.dropdown&&(a(b.textinput).off(b.dropdown.opentrigger,a.alopex.widget.dropdown._toggle),a(b.dropdown).setEnabled(c)),b.openbuttonEl?a(b.openbuttonEl).off("click.opener",a.alopex.widget.autocomplete._openerHandler):b.resetbuttonEl&&a(b.resetbuttonEl).off("click.reset",a.alopex.widget.autocomplete._resetHandler))},_setDataSource:function(b,c){switch(typeof c){case"string":$el.html(c);break;case"object":a.alopex.widget.autocomplete._htmlGenerator(b,c)}a(b).refresh(),b.userInputDataSource=c},_noResultHandler:function(b){0===a(b.dropdown).find("li").length&&a(b.dropdown).append('<li class="af-disabled Disabled" data-role="empty">'+b.noresultstr+"</li>")},_htmlGenerator:function(b,c){var d;a(b).html("");for(var e=0;e<c.length;e++)d=document.createElement("li"),void 0!==c[e].id&&(d.id=c[e].id),void 0!==c[e].text?d.innerText=c[e].text:void 0!==c[e].value?d.innerText=c[e].value:d.innerText=c[e],d.data=c[e],a(b).append(d)},getSelectedData:function(b){return a.alopex.util.isValid(b.selected)&&b.selected.text===a(b.textinput).val()?b.selected:b.selectedDataDefault},clear:function(b){if(a(b.textinput).val(""),a.alopex.util.isValid(b.source)&&b.dropdown){var c={currentTarget:b.textinput,keyCode:65};a.alopex.widget.autocomplete._keyupHandler(c),a(b.dropdown).close()}else a.alopex.util.isValid(b.url)&&b.dropdown&&(a(b.dropdown).html(""),b.dropdown.userInputDataSource=null,a(b.dropdown).close())},_select:function(b,c){a(b.dropdown).select(c)},select:function(b,c){switch(a(b).is("[data-dynamic-dropdown]")&&(b.dropdown=null,b.dropdown=a.alopex.widget.autocomplete._makeDropdown(b),a.alopex.widget.autocomplete._filterSource(b,a(b).find("input").val())),typeof c){case"number":a(b.dropdown).select(c);break;case"string":var d=a(b.dropdown).find("li>a").filter(function(){return a(this).text()===c?!0:!1});if(d&&0!==d.length){d[0].click();var e=d.parent("li.af-menuitem");0!==e.length&&a.alopex.widget.dropdown._focus(b,e[0])}break;case"object":a(b.dropdown).select(c)}},_makeDropdown:function(b){a(b.textinput).off("click"),a(b.textinput).off("click.autocomplete");var c="Alopex_base_"+parseInt(1e4*Math.random());b.textinput.id=c;var d=a("<ul class='Dropdown' data-base='#"+c+"'><li></li></ul>").appendTo(document.body)[0];return $a.convert(d),b.dropdown=d,b.dropdown.userInputDataSource=null,b.fitwidth&&a(b.dropdown).width(a(b.textinput).outerWidth()-2*parseInt(a(b.textinput).css("border-left-width"))),a(d).css({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","word-wrap":"normal"}),a(d).addHandler(a.alopex.widget.autocomplete._selectHandler),a(d).on("close.dropdown",a.alopex.widget.autocomplete._removeDropdown),a(b.dropdown).css("minWidth",a(b.textinput).outerWidth()),a(b.dropdown).css("maxHeight",b.maxheight),a(b.dropdown).css("overflow-y","auto"),d},_removeDropdown:function(b){var c=b.currentTarget;a(c.base).removeAttr("data-base"),a(c.base).off("keydown",a.alopex.widget.dropdown._inputBaseKeyDownHandler),a(c.base).on("click.autocomplete",function(b){var c=b.currentTarget.parentElement;if(!c.textinput.disabled){var d=a.alopex.widget.autocomplete._makeDropdown(c);if(c.dropdown=d,c.lastKeyword="",c.textinput.value.length>=c.minlength){var b={currentTarget:c.textinput,keyCode:65};a.alopex.widget.autocomplete._keyupHandler(b),a(c.dropdown).click()}else c.dropdown.userInputDataSource=null}}),a(c).remove(),c.base.parentElement.dropdown=null},_selectFirstHandler:function(b){var c=b.currentTarget.parentElement;return 13===b.keyCode&&0===a(c.dropdown).find("li.Focused").length&&a.alopex.widget.autocomplete._select(c,0),!0}})}(jQuery),function(a){a.alopex.widget.basebutton=a.alopex.inherit(a.alopex.widget.object,{widgetName:"basebutton",defaultClassName:"af-basebutton",setters:["basebutton"],getters:[],properties:{},eventHandlers:{cancel:{event:"dragstart selectstart",handler:"_cancelEventHandler"}},event:function(a){this.addHoverHighlight(a),this.addPressHighlight(a)},init:function(a){"a"===a.tagName.toLowerCase()&&a.setAttribute("tabindex","0"),a.getAttribute("type")||a.setAttribute("type","button")}})}(jQuery),$.alopex.widget.baseinput=$.alopex.inherit($.alopex.widget.object,{widgetName:"baseinput",eventHandlers:{},event:function(a){this.addHoverHighlight(a)},init:function(a){},properties:{}}),function(a){a.alopex.widget.baseselect=a.alopex.inherit(a.alopex.widget.object,{widgetName:"baseselect",defaultClassName:"af-baseselect",getters:["getValues","getTexts"],setters:["baseselect","setPlaceholder","setSelected","clear","refresh","selectionInitialization"],init:function(a,b){var c=this._getProperty(a,"placeholder");c&&this.setPlaceholder(a,c)},setPlaceholder:function(b,c){var d=a(b);0==d.find("[data-placeholder]").length&&(d.prepend('<option value="" selected="selected" data-placeholder="true" disabled>'+c+"</option>"),d[0].options[0].selected=!0,b.divSelect&&a(b.divSelect).refresh())},selectionInitialization:function(b){var c=a(b);void 0!=c[0].options&&(c[0].options[0].disabled&&"true"==c[0].options[0].getAttribute("data-placeholder")&&(c[0].options[0].disabled=!1),c[0].options[0].selected=!0,c[0].options[0].disabled=!0)},setSelected:function(b,c){if(0!==b.children.length){var d,e=!0;for(d=0;d<b.children.length;d++)b.children[d].text===c&&(a(b.children[d]).prop("selected",!0),e=!1);if(e)for(d=0;d<b.children.length;d++)b.children[d].value===c&&a(b.children[d]).prop("selected",!0);a(b).trigger("change")}},getValues:function(b){var c=[];if(b.multi)return a(b).find("option:selected").each(function(){c.push(a(this).val())}),c;var d=[];return a(b).find("option:selected").each(function(){d.push(this.value)}),d},getTexts:function(b){var c=[];if(b.multi)return a(b).find("option:selected").each(function(){c.push(a(this).text())}),c;var d=[];return a(b).find("option:selected").each(function(){d.push(a(this).text())}),d},clear:function(b){var c=a(b);c.empty();var d=b.parentNode,e=null;a.alopex.util.isValid(b.getAttribute("data-placeholder"))?e=b.getAttribute("data-placeholder"):d&&"DIV"===d.tagName&&"divselect"===d.getAttribute("data-type")&&a.alopex.util.isValid(d.getAttribute("data-placeholder"))&&(e=d.getAttribute("data-placeholder")),e&&(c.prepend('<option value="" selected="selected" disabled>'+e+"</option>"),c[0].options[0].selected=!0,b.originWidth=c.width()),this.refresh(b)},refresh:function(b){var c=a(b),d=!1;if((a(b.parentNode)&&"divselect"==a(b.parentNode).attr("data-type")||b.divSelect)&&(d=!0),d||a.alopex.util.parseBoolean(b.alopexoptions.wrap)){var e=c.find(":selected").text()||"";a.alopex.widget.divselect._setText(b.parentNode,e)}}})}(jQuery),function(a){a.alopex.widget.button=a.alopex.inherit(a.alopex.widget.basebutton,{widgetName:"button",defaultClassName:"af-button Button",setters:["button"],getters:[],init:function(b){var c=a(b);"toggle"==c.attr("data-role")&&c.attr("data-type","togglebutton").togglebutton()}})}(jQuery),function(a){a.alopex.widget.carousel=a.alopex.inherit(a.alopex.widget.object,{widgetName:"carousel",defaultClassName:"af-carousel Carousel",setters:["carousel","nextSlide","prevSlide","setIndex","stopAutoSlide","startAutoSlide","setAutoSlideDuration","setSwipe"],getters:[],eventHandlers:{},properties:{width:0,currentpage:1,totalpage:0,position:0,maxPosition:0,pages:null,prevButton:null,nextButton:null,paging:null,playControlButton:null,playButton:null,pauseButton:null,slidable:null,animationDuration:400,autoSlidemode:!1,autoSlideDuration:5e3,swipemode:!0},setEnabled:null,init:function(b,c){var d=a(b);a.alopex.widget.object;if(d.css({overflow:"hidden",position:"relative"}),a.extend(b,a.alopex.widget.carousel.properties,c),b.pages=d.find('[data-role="page"], .Page'),b.pagingHeight=50,b.pageHeight=b.pages[0].offsetHeight>0?b.pages[0].offsetHeight:b.offsetHeight-b.pagingHeight,b.width=b.offsetWidth,b.totalpage=b.pages.length,b.playControlButton=d.attr("data-playControlButton"),b.prevButton=d.find('[data-role="prev"]').addClass("prev"),b.nextButton=d.find('[data-role="next"]').addClass("next"),0==b.prevButton.length&&(b.prevButton=d.find(".Prev")),0==b.nextButton.length&&(b.nextButton=d.find(".Next")),b.paging=d.find('[data-role="pagination"], .Paging'),"true"===b.playControlButton){var e=document.createElement("div");a(e).attr("class","Display-inblock"),a(e).attr("style","margin-top: -2px;");var f=document.createElement("span");a(f).attr("class","Icon Play"),e.appendChild(f);var g=document.createElement("span");a(g).attr("class","Icon Pause"),e.appendChild(g),b.paging.append(e),b.playButton=d.find(".Paging>div .Play"),b.pauseButton=d.find(".Paging>div .Pause")}if(b.maxPosition=-1*b.width*(b.totalpage-1),b.paging.attr({"data-type":"pagination","data-generatelink":"mobile","data-maxpage":b.pages.length,"data-totalpage":b.pages.length}).pagination(),b.slidable=b.querySelector(".Scroller"),b.slidable||(b.slidable=document.createElement("div")),b.slidable.element=b,b.appendChild(b.slidable),a(b.slidable).css({width:b.width*b.pages.length+"px",transform:"translate3d(0px, 0px,0px)","-ms-transform":"translateZtranslate3d(0px, 0px,0px)",padding:"0"}),a.alopex.util.isValid(b.pages)){b.pages.css({width:b.width+"px",position:"relative","float":"left"}).each(function(a){this.index=a});for(var h=0;h<b.pages.length;h++)b.slidable.appendChild(b.pages[h])}"true"===a(b).attr("data-autoSlidemode")&&(b.autoSlidemode=!0,a(b).attr("data-autoSlideDuration")>0&&(b.autoSlideDuration=a(b).attr("data-autoSlideDuration")),this._evt_autoSlide(b,!0))},event:function(b,c){var d=a.alopex.widget.carousel;b.paging.on("pagechange",d._evt_pagechange),b.prevButton.on("click",d._evt_prev_btn),b.nextButton.on("click",d._evt_next_btn),"true"===b.playControlButton&&(b.playButton.on("click",d._evt_play_btn),b.pauseButton.on("click",d._evt_pause_btn)),b.swipemode&&(a(b.slidable).on("pressed",d._evt_pressed),"mobile"==window.browser?a(b.slidable).on("touchmove",d._evt_move):(a(b.slidable).on("swipemove",d._evt_swipemove),this._addSwipeEvent(b))),a(window).on("resize",{object:b},this._evt_resize)},_evt_resize:function(b){el=b.data.object,el.width=el.offsetWidth,a(el.slidable).css("width",el.width*el.pages.length+"px"),el.pages.css("width",el.width+"px").css("position","relative"),el.position=-1*(el.currentpage-1)*el.width,a.alopex.widget.carousel._slide(el,el.position)},_addSwipeEvent:function(b,c){var d="on";c&&(d="one");var e=this._evt_swipe;b.buttons&&(e=a.alopex.widget.tabs._evt_swipe),a(b.slidable)[d]("swipecancel",this._evt_swipecancel),a(b.slidable)[d]("swipe",{distanceX:60},e)},_removeSwipeEvent:function(b){a(b.slidable).off("swipemove",this._evt_swipemove),a(b.slidable).off("swipecancel",this._evt_swipecancel),a(b.slidable).off("swipe",{distanceX:60},this._evt_swipe)},_slide:function(b,c,d){if(a.alopex.widget.carousel.transitionSupport)a(b.slidable).css({transition:"all "+d+"ms ease-in-out","-ms-transition":"all "+d+"ms ease-in-out"}),a(b.slidable).css("transform","translate("+c+"px,0)"),a(b.slidable).css("transform","translate3d("+c+"px,0,0)"),setTimeout(function(){a(b.slidable).css({transition:"all 0 ms ease-in-out","-ms-transition":"all 0 ms ease-in-out"})},d);else{a(b.slidable).css({position:"absolute"});var e=a(b).css("height");a(b.slidable).animate({left:c+"px"},d),void 0!=e&&a(b).css("height",e)}},_evt_pagechange:function(b,c){var d=a(b.currentTarget).parent('[data-type="carousel"]')[0],e=d.currentpage-c;d.position=d.position+e*d.width,d.currentpage=c,a.alopex.widget.carousel._slide(d,d.position,300)},_evt_prev_btn:function(b){var c=a(b.currentTarget).parent('[data-type="carousel"]')[0];a(c).prevSlide()},_evt_next_btn:function(b){var c=a(b.currentTarget).parent('[data-type="carousel"]')[0];a(c).nextSlide()},_evt_play_btn:function(b){var c=a(b.currentTarget).parent().parent().parent();a(c).nextSlide(),a(c).startAutoSlide(c)},_evt_pause_btn:function(b){var c=a(b.currentTarget).parent().parent().parent();a(c).stopAutoSlide(c)},_evt_move:function(b){var c=b.currentTarget.element;if(!c.pressed)return!1;var d,e=b.touches||b.originalEvent.touches;e&&e.length>0?(e=e[0],d={x:e.clientX?e.clientX:0,y:e.clientY?e.clientY:0}):d={x:b.clientX,y:b.clientY},"vertical"==c.mode?__ALOG("==== 현재 스크롤 ====== "):"horizontal"==c.mode?(b.preventDefault(),__ALOG("==== 현재 스와이프  ====== "),distanceX=d.x-c.presspoint.x,Math.abs(distanceX)>c.width&&(distanceX=distanceX/distanceX*c.width),b.preventDefault(),a.alopex.widget.carousel._slide(c,c.position+distanceX,0)):(a.alopex.widget.carousel._removeSwipeEvent(c),Math.abs(c.presspoint.y-d.y)>10?(c.mode="vertical",__ALOG("==== 버티컬 모드로 진입 ====== ")):(__ALOG("==== 스와이프  모드로 진입 ====== "),c.mode="horizontal",a.alopex.widget.carousel._addSwipeEvent(c,!0)))},_evt_pressed:function(b,c){var d=a(b.currentTarget).parent('[data-type="carousel"]')[0];if(d.mode=null,d.pressed=!0,a(d.slidable).css({transition:"all 0s ease-in-out","-ms-transition":"all 0s ease-in-out"}),"mobile"==window.browser){var e=b.touches||b.originalEvent.touches||b.originalEvent.originalEvent.touches;e&&e.length>0&&(e=e[0],d.presspoint={x:e.clientX?e.clientX:0,y:e.clientY?e.clientY:0})}else d.presspoint={x:b.clientX,y:b.clientY}},_evt_swipemove:function(b,c){var d=a(b.currentTarget).parent('[data-type="carousel"]')[0];d.pressed&&(Math.abs(c.distanceX)>d.width&&(c.distanceX=c.distanceX/c.distanceX*d.width),b.preventDefault(),a.alopex.widget.carousel._slide(d,d.position+c.distanceX,0))},_evt_swipe:function(b,c){var d=a(b.currentTarget).parent('[data-type="carousel"]')[0],e=(d.width-Math.abs(c.distanceX))/c.speed*1e3;e>500&&(e=500),c.distanceX<0?a(d).nextSlide({animationDuration:e}):a(d).prevSlide({animationDuration:e}),d.press=!1,a(d).trigger("swipechange",[d.currentpage-1])},_evt_swipecancel:function(b,c){var d=a(b.currentTarget).parent('[data-type="carousel"]')[0];a.alopex.widget.carousel._slide(d,d.position,200),d.pressed=!1},_evt_autoSlide:function(b,c,d){var d=d?d:b.autoSlideDuration;c?(clearInterval(b.autoSlideTime),b.autoSlideTime=setInterval(function(){b.currentpage<b.totalpage?a(b).nextSlide():b.currentpage==b.totalpage&&a(b).setIndex(0)},d)):clearInterval(b.autoSlideTime)},stopAutoSlide:function(a){this._evt_autoSlide(a,!1);
},startAutoSlide:function(a){this._evt_autoSlide(a,!0)},setAutoSlideDuration:function(a,b){a.autoSlideDuration=b,this._evt_autoSlide(a,!0,b)},nextSlide:function(b,c){var d=c&&c.animationDuration?c.animationDuration:b.animationDuration;b.currentpage<b.totalpage&&(b.position-=b.width,b.currentpage++,b.paging.setSelectedPage(b.currentpage,!0)),a.alopex.widget.carousel._slide(b,b.position,d)},prevSlide:function(b,c){var d=c&&c.animationDuration?c.animationDuration:b.animationDuration;b.currentpage>1&&(b.position+=b.width,b.currentpage--,b.paging.setSelectedPage(b.currentpage,!0)),a.alopex.widget.carousel._slide(b,b.position,d)},setIndex:function(b,c,d){if(!(0>c||c>=b.pages.length)){var e=d&&void 0!=d.animationDuration?d.animationDuration:b.animationDuration;b.position=b.width*c*-1,b.currentpage=c+1,b.paging.setSelectedPage(b.currentpage,!0),a.alopex.widget.carousel._slide(b,b.position,e)}},transitionSupport:function(){return-1!==navigator.userAgent.indexOf("MSIE")&&-1===navigator.userAgent.indexOf("MSIE 10")?!1:!0}(),setSwipe:function(b,c){var d=a.alopex.widget.carousel;b.swipemode=a.alopex.util.parseBoolean(c),1==b.swipemode?(this._removeSwipeEvent(b),a(b.slidable).on("pressed",d._evt_pressed),"mobile"==window.browser?a(b.slidable).on("touchmove",d._evt_move):(a(b.slidable).on("swipemove",d._evt_swipemove),this._addSwipeEvent(b))):0==b.swipemode&&this._removeSwipeEvent(b)}})}(jQuery),function(a){a.alopex.widget.checkbox=a.alopex.inherit(a.alopex.widget.object,{widgetName:"checkbox",defaultClassName:"af-checkbox Checkbox",defaultTextClassName:"af-checkbox-text",defaultWrapClassName:"af-wrapcheckbox",defaultWrapSpanClassName:"af-wrapcheckbox-span",getters:["getValues","getTexts","getCheckedLength"],setters:["checkbox","setCheckAll","setChecked","setValues","toggle"],properties:{wrap:!1},init:function(b,c){var d=a(b);b.options=a.extend(!0,{},this.properties,c);try{d.attr("type","checkbox")}catch(e){}(b.options.wrap||a.alopex.util.parseBoolean(b.alopexoptions.wrap))&&(b.className?(-1!==b.className.indexOf(this.defaultClassName)&&d.addClass(this.defaultWrapClassName),d.after('<span class="'+b.className+'-span"></span>')):d.after('<span class="'+this.defaultWrapSpanClassName+'"></span>')),d.on("change",function(b){b.currentTarget.checked?(a(b.currentTarget).attr("checked","checked"),a(b.currentTarget).parent("label").addClass("Checked")):(a(b.currentTarget).removeAttr("checked"),a(b.currentTarget).parent("label").removeClass("Checked"))}),(b.checked||"checked"==b.getAttribute("checked"))&&(a(b).parent().addClass("Checked"),a(b).prop("checked",!0))},style:function(b){b.id?a('label[for="'+b.id+'"]').addClass(this.defaultTextClassName):a(b).parent("label").addClass(this.defaultTextClassName)},properties:{quickResponse:!1},setQuickResonse:function(a,b){},setCheckAll:function(b,c,d){a.alopex.util.isValid(c)||(c=!0),a.alopex.util.isValid(d)||(d=!0);var e=a("input[name="+b.name+"]");e.prop("checked",c),e.parent("label").addClass("Checked"),d&&e.trigger("change")},setChecked:function(b,c,d){a.alopex.util.isValid(c)||(c=!0),a.alopex.util.isValid(d)||(d=!0),"INPUT"===b.tagName&&(a(b).prop("checked",c),a(b).parent("label").addClass("Checked")),d&&a(b).trigger("change")},getValues:function(b){for(var c=[],d=a("input[name="+b.name+"]:checked"),e=0;e<d.length;e++){var f=d[e];c.push(a(f).val())}return c},setValues:function(b,c,d){a.alopex.util.isValid(d)||(d=!0);for(var e=a("input[name="+b.name+"]").prop("checked",!1),f=0;f<e.size();f++)for(var g=e.get(f),h=0;h<c.length;h++)g.value===c[h]&&(a(g).prop("checked",!0),c.splice(h,1));d&&e.trigger("change")},getTexts:function(b){for(var c=[],d=a("input[name="+b.name+"]:checked"),e=0;e<d.length;e++){var f=d[e],g=a(f).attr("id"),h=a(document.body).find('label[for="'+g+'"]');0==h.length&&(h=a(f).parent("label")),c.push(h.text())}return c},getCheckedLength:function(b){var c=a("input[name="+b.name+"]:checked");return c.size()},toggle:function(b,c){a.alopex.util.isValid(c)||(c=!0);for(var d=a("input[name="+b.name+"]"),e=0;e<d.size();e++){var f=d.get(e);a(f).prop("checked")?a(f).prop("checked",!1):a(f).prop("checked",!0)}c&&d.trigger("change")}})}(jQuery),function(a){a.alopex.widget.dateinput=a.alopex.inherit(a.alopex.widget.object,{widgetName:"dateinput",defaultClassName:"af-dateinput Dateinput",classNames:{clearButton:"Clear",calendar:"Calendar"},setters:["dateinput","setEnabled","update","clear"],getters:[],properties:{date:new Date,format:"yyyy-MM-dd",image:!1,selectyear:!1,selectmonth:!1,pickertype:"daily",position:"bottom|left",mindate:null,maxdate:null,callback:null,resetbutton:!1,blurcallback:null,certaindatestxt:{unavailabletxt:""},placeholder:!0,weekday:!1,locale:"ko"},_validationDate:function(a,b){var c=a.options.format.replace(/[^a-z]/gi,"");if("mmddyyyy"==c.toLowerCase()||"yyyymmdd"==c.toLowerCase()){var d=/^(1|2|3|4|5|6|7|8|9)\d{3}(0[1-9]|1[0-2])(0[1-9]|1\d|2\d|3[01])$/;return"mmddyyyy"==c.toLowerCase()&&(d=/^(0[1-9]|1[0-2])(0[1-9]|1\d|2\d|3[01])(1|2|3|4|5|6|7|8|9)\d{3}$/),b=b.replace(/[^\d]+/g,""),new RegExp(d).test(b)?b:""}return b},generateDate:function(a,b){var c=a.options.format;if(c=c.replace(" ","").replace("EEEE","").replace("EEE",""),c.indexOf("MMM")>=0)return new Date(b);b=b.replace(" ","").replace(/[ㄱ-ㅎ|가-힣|a-z|A-Z]+/,"");var d=c.indexOf("yyyy"),e=c.indexOf("MM"),f=c.indexOf("dd"),g=/^\d{4}[.\/-]\d{2}[.\/-]\d{2}$/,h=/^\d{2}[.\/-]\d{2}[.\/-]\d{4}$/,i=/^\d{4}[.\/-]\d{2}$/;if("daily"===a.options.pickertype||"weekly"===a.options.pickertype){if(!isNaN(Number(b))&&8==b.length)return d>f?new Date(b.substr(0,2)+"/"+b.substr(2,2)+"/"+b.substr(4,4)):new Date(b.substr(0,4)+"/"+b.substr(4,2)+"/"+b.substr(6,2));if(b.match(g)||b.match(h))return new Date(b);if(b.length>=8)return new Date(b.substr(d,4)+"/"+b.substr(e,2)+"/"+b.substr(f,2))}else if("monthly"===a.options.pickertype){if(!isNaN(Number(b))&&6==b.length)return d>e?new Date(b.substr(2,4)+"/"+b.substr(4,2)):new Date(b.substr(0,4)+"/"+b.substr(4,2));if(b.match(i))return new Date(b);if(b.length>=8)return new Date(b.substr(d,4)+"/"+b.substr(e,2))}return new Date},_generateDate:function(b,c){var d,e,f,g=b.options.format,h=g.replace("yyyy","").replace("MM","").replace("dd","").substring(0,1),i=g.indexOf("yyyy"),j=g.indexOf("MM"),k=g.indexOf("dd");return"daily"===b.options.pickertype||"weekly"===b.options.pickertype?(-1==c.indexOf(h)&&8==c.length&&(c=i>0?c.substr(0,2)+h+c.substr(2,2)+h+c.substr(4,4):c.substr(0,4)+h+c.substr(4,2)+h+c.substr(6,2),a(b).trigger("change")),a.alopex.util.isValid(c)?a.alopex.util.isValid(h)?i>0&&i>j?(d=c.split(h)[2],0==j?(e=Number(c.split(h)[0])-1,f=c.split(h)[1]):(e=Number(c.split(h)[1])-1,f=c.split(h)[0]),new Date(d,e,f)):i>0&&j>i?new Date(c.split(h)[1],Number(c.split(h)[2])-1,c.split(h)[0]):(d=c.split(h)[0],j>k?(e=Number(c.split(h)[2])-1,f=c.split(h)[1]):(e=Number(c.split(h)[1])-1,f=c.split(h)[2]),new Date(d,e,f)):new Date(c.substr(i,4),Number(c.substr(j,2))-1,c.substr(k,2)):new Date):"monthly"===b.options.pickertype?(-1==c.indexOf(h)&&6==c.length&&(c=i>0?c.substr(0,2)+h+c.substr(2,4):c.substr(0,4)+h+c.substr(4,2),a(b).trigger("change")),a.alopex.util.isValid(c)?a.alopex.util.isValid(h)?i>0?new Date(c.split(h)[1],Number(c.split(h)[0])-1):new Date(c.split(h)[0],Number(c.split(h)[1])-1):new Date(c.substr(i,4),Number(c.substr(j,2))-1):new Date):void 0},init:function(b,c){var d,e=!1;"div"==b.tagName.toLowerCase()&&(d=b,b=b.querySelector("input"),e=!0);var f=a(b);if(b.options=a.extend(!0,{},this.properties,c),b.options.position=c.pickerposition,this.refresh_format(b,c),b.options.format.indexOf("EEEE")?f.attr("maxlength",b.options.format.length+6):f.attr("maxlength",b.options.format.length),b.options.placeholder&&f.attr("placeholder",b.options.format),b.options.defaultdate&&f.attr("defaultdate",b.options.defaultdate),this.addHoverHighlight(b),this.addPressHighlight(b),e){var g=a(d);g.find("."+this.classNames.calendar).length>0&&(b.imagebutton=g.find("."+this.classNames.calendar)),g.find("."+this.classNames.clearButton).length>0&&(b.resetbutton=g.find("."+this.classNames.clearButton))}else b.options.image!==!1&&(b.imagebutton=a("<div></div>").insertAfter(b).addClass("af-dateinput-image"),""!==b.options.image&&a(b.imagebutton).css("background-image","url("+b.options.image+")")),b.options.resetbutton&&(b.resetbutton=a("<div>x</div>").insertAfter(b).addClass("af-reset-button"));b.options.format&&"auto"==b.options.inputwidth?b.options.format.indexOf("EEEE")>=0&&"en"==b.options.locale?f.css("width",8*(b.options.format.length+7)):f.css("width",8*(b.options.format.length+3)):isNaN(Number(b.options.inputwidth))||f.css("width",b.options.inputwidth),b.imagebutton&&(b.imagebutton[0].element=b),b.resetbutton&&(b.resetbutton[0].element=b,b.resetbutton.on("click",function(b){var c=b.currentTarget,d=a(c.element);d.is(".af-disabled Disabled")||(c.daterange?a(c.daterange).clear():a.alopex.widget.dateinput.clear(c.element),b.preventDefault(),b.stopPropagation())})),a.alopex.util.isValid(f.attr("type"))||f.attr("type","text"),this.setEnabled(b,b.options.enabled),f.on("blur",this._blurHandler)},_blurHandler:function(b){var c=a.alopex.widget.dateinput,d=b.currentTarget,e=a(d).val(),f=d.options.format,g=d.options.locale?d.options.locale.toUpperCase():"KO";if(e=a.alopex.widget.dateinput._validationDate(d,e),""===e&&d.options.defaultdate===!1||""===e&&a(d).hasClass("af-disabled Disabled"))return void a(d).val("");var h=c.generateDate(d,e),i=a.alopex.widget.dateinput._getDateString(h,f,g);if(void 0===h||isNaN(h.getTime()))a(d).val(""),a(d).trigger("change"),d.options.blurcallback&&d.options.blurcallback(d,e);else if(i!=e)return void a(d).val(i)},update:function(b,c){"div"==b.tagName.toLowerCase()&&(b=b.querySelector("input")),a.extend(!0,b.options,c),this.refresh_format(b,c),"auto"==b.options.inputwidth&&b.options.format.indexOf("EEEE")>=0&&"en"==b.options.locale&&a(b).css("width",8*(b.options.format.length+7))},refresh_format:function(b,c){if(a.alopex.util.isValid(c.pickertype)&&void 0===c.format&&("daily"!==c.pickertype&&"weekly"!==c.pickertype||-1!==b.options.format.indexOf("dd")||(b.options.format="yyyy-MM-dd",a(b).attr("data-format",b.options.format)),"monthly"===c.pickertype&&-1!==b.options.format.indexOf("dd"))){var d=b.options.format;if(8===d.length)d=d.replace("dd","");else{var e,f=d.replace("yyyy","").replace("MM","").replace("dd","");e=0===f.length?"":f.substring(0,1);var g=d.indexOf("yyyy"),h=d.indexOf("MM");d=g>h?"MM"+e+"yyyy":"yyyy"+e+"MM"}b.options.format=d,a(b).attr("data-format",b.options.format)}a.alopex.util.isValid(c.format)&&void 0===c.pickertype&&(-1!==c.format.indexOf("dd")&&"monthly"===b.options.pickertype&&(b.options.pickertype="daily",a(b).attr("data-pickertype",b.options.pickertype)),-1===c.format.indexOf("dd")&&"daily"===b.options.pickertype&&(b.options.pickertype="monthly",a(b).attr("data-pickertype",b.options.pickertype))),a.alopex.util.isValid(c.format)&&a.alopex.util.isValid(c.pickertype)&&(-1!==c.format.indexOf("dd")&&"monthly"===c.pickertype&&(b.options.pickertype="daily",a(b).attr("data-pickertype",b.options.pickertype)),-1!==c.format.indexOf("dd")||"daily"!==c.pickertype&&"weekly"!==c.pickertype||(b.options.pickertype="monthly",a(b).attr("data-pickertype",b.options.pickertype)))},setEnabled:function(b,c){"div"==b.tagName.toLowerCase()&&(b=b.querySelector("input"));var d=a(b);c=a.alopex.util.parseBoolean(c),a(b).off("click",this._clickEventHandler),a(b.imagebutton).off("click",this._clickEventHandler),c?(b.imagebutton?a(b.imagebutton).on("click",this._clickEventHandler):d.on("click",this._clickEventHandler),d.add(b.imagebutton).removeClass("af-disabled Disabled"),d.removeAttr("readonly")):(d.add(b.imagebutton).addClass("af-disabled Disabled"),d.attr("readonly",!0))},clear:function(b){"div"==b.tagName.toLowerCase()&&(b=b.querySelector("input")),a(b).val(""),a(b).trigger("change")},_clickEventHandler:function(b){var c=a.alopex.widget.dateinput,d=b.currentTarget.element||b.currentTarget,e=a(d).val(),f=c.generateDate(d,e);f=isNaN(f.getYear())?null:f;var g=a.extend(!0,{},a.alopex.widget.dateinput.properties,d.options,{date:f}),h=a(d).attr("data-mindate");h&&(g.mindate=c.generateDate(d,h));var i=a(d).attr("data-maxdate");i&&(g.maxdate=c.generateDate(d,i));var j=null;"daterange"===a(d).parent().parent().attr("data-type")&&(j=$a.widget.daterange._dynamicBindingCheck(a(d).parent().parent()[0]),a(d).parent().hasClass("Startdate")&&!a(d).parent().hasClass("NoLimit")&&(g.maxdate=""===j.maxdate?null:j.maxdate),a(d).parent().hasClass("Enddate")&&!a(d).parent().hasClass("NoLimit")&&(g.mindate=""===j.mindate?null:j.mindate)),a(d).showDatePicker(function(b,c,e,f,h){if(!f||f.isClickToClose)"weekly"===d.options.pickertype?"daterange"===a(d).parent().parent().attr("data-type")?"startdate"===a(d).attr("data-role")?a(d).val(c.startdate):a(d).val(c.enddate):a(d).val(c.startdate+" ~ "+c.enddate):a(d).val(c),a(d).trigger("change"),d.options.callback&&d.options.callback.call(d,b,c,e,f,h);else if(a.alopex.util.isValid(g.certaindatestxt.unavailabletxt)){var i=g.certaindatestxt.unavailabletxt;i=i.split("{0}").join(e),alert(i)}},g)},_getDateString:function(b,c,d){if(b instanceof Date){var e=b.getFullYear(),f=b.getMonth()+1,g=b.getDate();if(c.indexOf("dd")>0&&(g=(10>g?"0":"")+g),c.indexOf("MMM")>=0){var h=a.alopex.datePicker["MONTHS_"+d][b.getMonth()];h&&h.length>3&&(h=h.substring(0,3)),c=c.replace("yyyy",e).replace("dd",g).replace("d",g),c=c.replace("MMMM",h).replace("MMM",h)}else c.indexOf("MM")>=0&&(f=(10>f?"0":"")+f);if(c=c.replace("yyyy",e).replace("MM",f).replace("M",f).replace("dd",g).replace("d",g),c.indexOf("EEEE")>=0)c=c.replace("EEEE",a.alopex.datePicker["WEEKDAYS_"+d][b.getDay()]);else if(c.indexOf("EEE")>=0){var i=a.alopex.datePicker["WEEKDAYS_"+d][b.getDay()];c=c.replace("EEE",i.length>3?i.substring(0,3):i)}return c}}})}(jQuery),function(a){a.alopex.datePickerMap||(a.alopex.datePickerMap={datePickerObj:{},setObject:function(a,b){this.datePickerObj[a]=b},getObjectByNode:function(b){for(var c=a(b);"af-datepicker"!==c.attr("data-type");)c=c.parent();return this.datePickerObj[c.attr("id")]},getObjectById:function(a){var b="";return b=a.indexOf("datepicker_")<0?"datepicker_"+a:a,this.datePickerObj[b]},removeObjectById:function(a){var b="";b=a.indexOf("datepicker_")<0?"datepicker_"+a:a,delete this.datePickerObj[b]},removeObjectByNode:function(b){for(var c=a(b);"af-datepicker"!==c.attr("data-type");)c=c.parent();delete this.datePickerObj[c.attr("id")]}},a.alopex.datePicker={MONTHS_KO:["1","2","3","4","5","6","7","8","9","10","11","12"],MONTHS_EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],MONTHS_JA:["1","2","3","4","5","6","7","8","9","10","11","12"],MONTHS_ZH:["1","2","3","4","5","6","7","8","9","10","11","12"],WEEKDAYS_KO:["일","월","화","수","목","금","토"],WEEKDAYS_EN:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],WEEKDAYS_JA:["日","月","火","水","木","金","土"],WEEKDAYS_ZH:["日","一","二","三","四","五","六"],POSTFIX_KO:["년","월","일"],POSTFIX_EN:["","",""],POSTFIX_JA:["年","月","日"],POSTFIX_ZH:["年","月","日"],DESC_PREVYEAR_KO:"이전년도",DESC_PREVYEAR_EN:"previous year",DESC_PREVYEAR_JA:"前年",DESC_PREVYEAR_ZH:"前一年",DESC_NEXTYEAR_KO:"다음년도",DESC_NEXTYEAR_EN:"next year",DESC_NEXTYEAR_JA:"翌年",DESC_NEXTYEAR_ZH:"明年",DESC_PREVMONTH_KO:"이전 월",DESC_PREVMONTH_EN:"previous month",DESC_PREVMONTH_JA:"先月",DESC_PREVMONTH_ZH:"上个月",DESC_NEXTMONTH_KO:"다음 월",DESC_NEXTMONTH_EN:"next month",DESC_NEXTMONTH_JA:"来月",DESC_NEXTMONTH_ZH:"下个月",DESC_CLOSE_KO:"닫기",DESC_CLOSE_EN:"close",DESC_CLOSE_JA:"終了",DESC_CLOSE_ZH:"关闭",DESC_YEARSELECT_KO:"년도 선택",DESC_YEARSELECT_EN:"year select",DESC_YEARSELECT_JA:"年を選択",DESC_YEARSELECT_ZH:"年份选择",DESC_MONTHSELECT_KO:"월 선택",DESC_MONTHSELECT_EN:"month select",DESC_MONTHSELECT_JA:"月選択",DESC_MONTHSELECT_ZH:"月份选择",DESC_MONTH_SUMMARY_KO:"월을 선택할 수 있는 달력입니다.",DESC_MONTH_SUMMARY_EN:"you can select month.",DESC_MONTH_SUMMARY_JA:"月を 選べるカレンダーです.",DESC_MONTH_SUMMARY_ZH:"选择月份的日历.",DESC_MONTH_CAPTION_KO:"월 달력",DESC_MONTH_CAPTION_EN:"month picker",DESC_MONTH_CAPTION_JA:"月カレンダー",DESC_MONTH_CAPTION_ZH:"月份日历",DESC_DAY_SUMMARY_KO:"날짜를 선택할 수 있는 달력입니다.",DESC_DAY_SUMMARY_EN:"you can select a day.",DESC_DAY_SUMMARY_JA:"日にちを選べるカレンダーです.",DESC_DAY_SUMMARY_ZH:"选择日期的日历.",DESC_DAY_CAPTION_KO:"달력",DESC_DAY_CAPTION_EN:"datepicker",DESC_DAY_CAPTION_JA:"カレンダー",DESC_DAY_CAPTION_ZH:"日历",DESC_TODAY_BTN_KO:"오늘",DESC_TODAY_BTN_EN:"Today",DESC_TODAY_BTN_JA:"今日",DESC_TODAY_BTN_ZH:"今天",currentDate:null,weekdays:[],months:[],dateFormat:null,datePostfix:[],localeInfo:"ko",locale:"ko",certainDates:[],mindate:null,maxdate:null,descPrevYear:null,descNextYear:null,descPrevMonth:null,descNextMonth:null,descClose:null,descYearSelect:null,descMonthSelect:null,descMonthSummary:null,descMonthCaption:null,descDaySummary:null,descDayCaption:null,descTodayBtn:null,daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],calendarBody:null,calendarMonth:null,calendarYear:null,prevMonth:null,nextMonth:null,prevYear:null,nextYear:null,btn_close:null,_renderCache:[],targetElem:null,_callback:null,closeCallback:null,calendarContainer:null,datePickerTheme:"af-default",datePickerInlineTheme:"af-inline Inline",currentArea:null,inline:!1,pickertype:"daily",selectyear:!1,selectmonth:!1,showothermonth:!1,showbottom:!1,bottomdate:null,weekperiod:1,defaultdate:!0,position:"left|bottom",setDefaultDate:function(b){try{if(this.currentDate=new Date,a.alopex.util.isValid(b)&&b.hasOwnProperty("defaultdate")&&(this.defaultdate=b.defaultdate),a.alopex.util.isValid(b)&&b.hasOwnProperty("date")){var c=b.date;if(c instanceof Date)this.currentDate=c;else{if(!a.alopex.util.isValid(c.year)||!a.alopex.util.isNumberType(c.year)||c.year<1900||c.year>2100||!a.alopex.util.isValid(c.month)||!a.alopex.util.isNumberType(c.month)||c.month<1||c.month>12||!a.alopex.util.isValid(c.day)||!a.alopex.util.isNumberType(c.day)||c.day>31||c.day<1)throw"[DatePicker Error] Invalid Date => "+c.year+"-"+c.month+"-"+c.day;this.currentDate=new Date(c.year,c.month-1,c.day)}}}catch(d){}},setFormat:function(b){var c="yyyyMMdd";if(a.alopex.util.isValid(b)&&b.hasOwnProperty("format")&&a.alopex.util.isValid(b.format)){var d=/[Y|m|D|e]/g;d.test(b.format)||(c=b.format)}this.dateFormat=c},setLocale:function(b){switch(a.alopex.util.isValid(b)&&b.hasOwnProperty("locale")?localeStr=b.locale:localeStr=this.localeInfo,localeStr){case"en":this.weekdays=this.WEEKDAYS_EN,this.months=this.MONTHS_EN,this.datePostfix=this.POSTFIX_EN,this.descPrevYear=this.DESC_PREVYEAR_EN,this.descNextYear=this.DESC_NEXTYEAR_EN,this.descPrevMonth=this.DESC_PREVMONTH_EN,this.descNextMonth=this.DESC_NEXTMONTH_EN,this.descClose=this.DESC_CLOSE_EN,this.descYearSelect=this.DESC_YEARSELECT_EN,this.descMonthSelect=this.DESC_MONTHSELECT_EN,this.descMonthSummary=this.DESC_MONTH_SUMMARY_EN,this.descMonthCaption=this.DESC_MONTH_CAPTION_EN,this.descDaySummary=this.DESC_DAY_SUMMARY_EN,this.descDayCaption=this.DESC_DAY_CAPTION_EN,this.descTodayBtn=this.DESC_TODAY_BTN_EN,this.localeInfo="en";break;case"ko":this.weekdays=this.WEEKDAYS_KO,this.months=this.MONTHS_KO,this.datePostfix=this.POSTFIX_KO,this.descPrevYear=this.DESC_PREVYEAR_KO,this.descNextYear=this.DESC_NEXTYEAR_KO,this.descPrevMonth=this.DESC_PREVMONTH_KO,this.descNextMonth=this.DESC_NEXTMONTH_KO,this.descClose=this.DESC_CLOSE_KO,this.descYearSelect=this.DESC_YEARSELECT_KO,this.descMonthSelect=this.DESC_MONTHSELECT_KO,this.descMonthSummary=this.DESC_MONTH_SUMMARY_KO,this.descMonthCaption=this.DESC_MONTH_CAPTION_KO,this.descDaySummary=this.DESC_DAY_SUMMARY_KO,this.descDayCaption=this.DESC_DAY_CAPTION_KO,this.descTodayBtn=this.DESC_TODAY_BTN_KO,this.localeInfo="ko";break;case"ja":this.weekdays=this.WEEKDAYS_JA,this.months=this.MONTHS_JA,this.datePostfix=this.POSTFIX_JA,this.descPrevYear=this.DESC_PREVYEAR_JA,this.descNextYear=this.DESC_NEXTYEAR_JA,this.descPrevMonth=this.DESC_PREVMONTH_JA,this.descNextMonth=this.DESC_NEXTMONTH_JA,this.descClose=this.DESC_CLOSE_JA,this.descYearSelect=this.DESC_YEARSELECT_JA,this.descMonthSelect=this.DESC_MONTHSELECT_JA,this.descMonthSummary=this.DESC_MONTH_SUMMARY_JA,this.descMonthCaption=this.DESC_MONTH_CAPTION_JA,this.descDaySummary=this.DESC_DAY_SUMMARY_JA,this.descDayCaption=this.DESC_DAY_CAPTION_JA,this.descTodayBtn=this.DESC_TODAY_BTN_JA,this.localeInfo="ja";break;case"zh":this.weekdays=this.WEEKDAYS_ZH,this.months=this.MONTHS_ZH,this.datePostfix=this.POSTFIX_ZH,this.descPrevYear=this.DESC_PREVYEAR_ZH,this.descNextYear=this.DESC_NEXTYEAR_ZH,this.descPrevMonth=this.DESC_PREVMONTH_ZH,this.descNextMonth=this.DESC_NEXTMONTH_ZH,this.descClose=this.DESC_CLOSE_ZH,this.descYearSelect=this.DESC_YEARSELECT_ZH,this.descMonthSelect=this.DESC_MONTHSELECT_ZH,this.descMonthSummary=this.DESC_MONTH_SUMMARY_ZH,this.descMonthCaption=this.DESC_MONTH_CAPTION_ZH,this.descDaySummary=this.DESC_DAY_SUMMARY_ZH,this.descDayCaption=this.DESC_DAY_CAPTION_ZH,this.descTodayBtn=this.DESC_TODAY_BTN_ZH,this.localeInfo="zh";break;default:this.weekdays=this.WEEKDAYS_KO,this.months=this.MONTHS_KO,this.datePostfix=this.POSTFIX_KO,this.descPrevYear=this.DESC_PREVYEAR_KO,this.descNextYear=this.DESC_NEXTYEAR_KO,this.descPrevMonth=this.DESC_PREVMONTH_KO,this.descNextMonth=this.DESC_NEXTMONTH_KO,this.descClose=this.DESC_CLOSE_KO,this.descYearSelect=this.DESC_YEARSELECT_KO,this.descMonthSelect=this.DESC_MONTHSELECT_KO,this.descMonthSummary=this.DESC_MONTH_SUMMARY_KO,this.descMonthCaption=this.DESC_MONTH_CAPTION_KO,this.descDaySummary=this.DESC_DAY_SUMMARY_KO,this.descDayCaption=this.DESC_DAY_CAPTION_KO,this.descTodayBtn=this.DESC_TODAY_BTN_KO,this.localeInfo="ko"}this.locale=this.localeInfo},setCertainDates:function(b){a.alopex.util.isValid(b)&&b.hasOwnProperty("certainDates")&&(this.certainDates=b.certainDates)},setThemeClass:function(b){a.alopex.util.isValid(b)&&b.hasOwnProperty("themeClass")&&(this.datePickerTheme=b.themeClass)},setInline:function(b){a.alopex.util.isValid(b)&&b.hasOwnProperty("inline")&&(this.inline=b.inline)},setMenuSelect:function(b){a.alopex.util.isValid(b)&&(b.hasOwnProperty("selectyear")||b.hasOwnProperty("selectmonth")||b.hasOwnProperty("selectYear")||b.hasOwnProperty("selectMonth"))&&(this.selectyear=b.selectyear||b.selectYear,this.selectmonth=b.selectmonth||b.selectMonth)},setPickerType:function(b){a.alopex.util.isValid(b)&&(b.hasOwnProperty("pickertype")||b.hasOwnProperty("pickerType"))&&(this.pickertype=b.pickertype||b.pickerType)},setShowOtherMonth:function(b){a.alopex.util.isValid(b)&&(b.hasOwnProperty("showOtherMonth")||b.hasOwnProperty("showOthermonth")||b.hasOwnProperty("showotherMonth")||b.hasOwnProperty("showothermonth"))&&(this.showothermonth=b.showOtherMonth||b.showOthermonth||b.showotherMonth||b.showothermonth)},setShowBottom:function(b){a.alopex.util.isValid(b)&&(b.hasOwnProperty("showBottom")||b.hasOwnProperty("showbottom"))&&(this.showbottom=b.showBottom||b.showbottom)},setBottomDate:function(b){a.alopex.util.isValid(b)&&(b.hasOwnProperty("bottomDate")||b.hasOwnProperty("bottomdate"))&&(this.bottomdate=b.bottomDate||b.bottomdate)},setWeekPeriod:function(b){a.alopex.util.isValid(b)&&(b.hasOwnProperty("weekPeriod")||b.hasOwnProperty("weekperiod"))&&(this.weekperiod=b.weekPeriod||b.weekperiod)},setCloseCallback:function(b){a.alopex.util.isValid(b)&&b.hasOwnProperty("closeCallback")&&(this.closeCallback=b.closeCallback)},setMinDate:function(b){var c=new Date;a.alopex.util.isValid(b)&&(a.alopex.util.isValid(b.mindate)||a.alopex.util.isValid(b.minDate))?(this.mindate=b.mindate||b.minDate,this.mindate.setHours(0),this.mindate.setMinutes(0),this.mindate.setMilliseconds(0)):this.selectyear?this.mindate=new Date(c.getFullYear()-10,0,1,0,0,0):this.mindate=new Date(c.getFullYear()-100,0,1,0,0,0)},setMaxDate:function(b){var c=new Date;a.alopex.util.isValid(b)&&(a.alopex.util.isValid(b.maxdate)||a.alopex.util.isValid(b.maxDate))?(this.maxdate=b.maxdate||b.maxDate,this.maxdate.setHours(0),this.maxdate.setMinutes(0),this.maxdate.setMilliseconds(0)):this.selectyear?this.maxdate=new Date(c.getFullYear()+10,11,31,0,0,0):this.maxdate=new Date(c.getFullYear()+100,11,31,0,0,0),this.maxdate<this.mindate&&(this.selectyear?(this.mindate=new Date(c.getFullYear()-10,0,1,0,0,0),this.maxdate=new Date(c.getFullYear()+10,11,31,0,0,0)):(this.mindate=new Date(c.getFullYear()-100,0,1,0,0,0),this.maxdate=new Date(c.getFullYear()+100,11,31,0,0,0)))},_isCertainDate:function(a){for(var b=0;b<this.certainDates.length;b++)for(var c=this.certainDates[b],d=0;d<c.dates.length;d++)if(this.currentYearView===c.dates[d].getFullYear()&&this.currentMonthView===c.dates[d].getMonth()&&Number(a)===c.dates[d].getDate())return c;return!1},_isCertainDateOtherMonth:function(a,b){if(b){for(var c=0;c<this.certainDates.length;c++)for(var d=this.certainDates[c],e=0;e<d.dates.length;e++)if(this.currentYearView===d.dates[e].getFullYear()&&this.currentMonthView-1===d.dates[e].getMonth()&&Number(a)===d.dates[e].getDate())return d}else for(var c=0;c<this.certainDates.length;c++)for(var d=this.certainDates[c],e=0;e<d.dates.length;e++)if(this.currentYearView===d.dates[e].getFullYear()&&this.currentMonthView+1===d.dates[e].getMonth()&&Number(a)===d.dates[e].getDate())return d;return!1},_isBelowMinDate:function(a){var b;return b=1===arguments.length?new Date(this.currentYearView,this.currentMonthView,a,0,0,0):new Date(this.currentYearView,arguments[0],arguments[1],0,0,0),b<this.mindate?!0:!1},_isBelowMinDateOtherMonth:function(a,b){var c;return c=b?new Date(this.currentYearView,this.currentMonthView-1,a,0,0,0):new Date(this.currentYearView,this.currentMonthView+1,a,0,0,0),c<this.mindate?!0:!1},_isAboveMaxDate:function(a){var b;return b=1===arguments.length?new Date(this.currentYearView,this.currentMonthView,a,0,0,0):new Date(this.currentYearView,arguments[0],arguments[1],0,0,0),this.maxdate<b?!0:!1},_isAboveMaxDateOtherMonth:function(a,b){var c;return c=b?new Date(this.currentYearView,this.currentMonthView-1,a,0,0,0):new Date(this.currentYearView,this.currentMonthView+1,a,0,0,0),this.maxdate<c?!0:!1},getDateByFormat:function(b,c,d,e){var f={year:b.year+"",month:b.month+"",day:b.day+""},g=this._getFormattedDate(b,c);this._callback(f,g,d.name,d,e),a.alopex.util.isValid(this.closeCallback)&&this.closeCallback()},getWeekDateByFormat:function(b,c,d,e){var f={startdate:{year:b[0].year+"",month:b[0].month+"",day:b[0].day+""},enddate:{year:b[1].year+"",month:b[1].month+"",day:b[1].day+""}},g={startdate:this._getFormattedDate(f.startdate,c),enddate:this._getFormattedDate(f.enddate,c)};this._callback(f,g,d.name,d,e),a.alopex.util.isValid(this.closeCallback)&&this.closeCallback()},_getFormattedDate:function(b,c){function d(a){return"y"===a||"M"===a||"d"===a||"E"===a||void 0===a||null===a||""===a?!0:!1}var e="",f=new Date(b.year,b.month-1,b.day),g=0,h=0,i=0,j=0,k=0,l=[],m=[],n=[];a.alopex.util.isValid(c)||(c="yyyyMMdd");for(var o=c.split(""),p="";g<o.length;)"y"===o[g]?(h=c.split("y").length-1,g+=h,m.push("y-"+h),d(o[g])&&l.push("")):"M"===o[g]?(i=c.split("M").length-1,g+=i,m.push("M-"+i),d(o[g])&&l.push("")):"d"===o[g]?(j=c.split("d").length-1,g+=j,m.push("d-"+j),d(o[g])&&l.push("")):"E"===o[g]?(k=c.split("E").length-1,g+=k,m.push("E-"+k),d(o[g])&&l.push("")):(p+=o[g],d(o[g+1])&&(l.push(p),p=""),g++);for(g=0;g<m.length;g++){var q=m[g].split("-");switch(q[0]){case"y":var r=f.getFullYear();"2"===q[1]?n.push(r.toString().substring(2,4)):"4"===q[1]?n.push(r.toString()):n.push(r.toString());break;case"M":var s=f.getMonth();"1"===q[1]?n.push(s+1):"2"===q[1]?n.push(10>s+1?"0"+(s+1):s+1):"3"===q[1]?n.push(this._monthToStr(s,!1)):"4"===q[1]?n.push(this._monthToStr(s,!0)):n.push(10>s+1?"0"+(s+1):s+1);break;case"d":if("monthly"==this.pickertype)break;var t=f.getDate();"1"===q[1]?n.push(t):"2"===q[1]?n.push(10>t?"0"+t:t):n.push(10>t?"0"+t:t);break;case"E":var u=f.getDay();"3"===q[1]?n.push(this._dayToStr(u,!1)):"4"===q[1]?n.push(this._dayToStr(u,!0)):n.push(this._dayToStr(u,!1))}}for(g=0;g<n.length;g++)e+=n[g],0!==l.length&&g<=l.length&&(e+=l[g]);return e},_close:function(b){var c=null;a.alopex.util.isValid(b)?(c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget),c.overlayElement&&setTimeout(function(){a(c.overlayElement).remove()},300),c.inline||(a(c.targetElem).focus(),a(c.calendarContainer).remove(),a.alopex.datePickerMap.removeObjectByNode(b.currentTarget))):(c=this,c.overlayElement&&setTimeout(function(){a(c.overlayElement).remove()},300),c.inline||(a(c.targetElem).focus(),a(c.calendarContainer).remove(),a.alopex.datePickerMap.removeObjectById(c.calendarContainerId))),a(window).unbind("hashchange",c._onHashChange),a(window).unbind("resize",c._resizeHandler),a(document.body).unbind("pressed",c._mouseDownHandler),a(document.body).unbind("keydown",c._addKeyEvent)},_addKeyEvent:function(b){var c,d=b.data.obj,e=!1,f=!1;d.currentArea=a(document.activeElement),c=a(d.currentArea)[0].value,b.ctrlKey&&(e=!0),b.shiftKey&&(f=!0);var g,h=b.keyCode?b.keyCode:b.which;switch(h){case 13:case 32:a(d.currentArea).trigger("click"),"prevYear"!==c&&"nextYear"!==c&&"prevMonth"!==c&&"nextMonth"!==c&&"af-datepicker"!==a(d.currentArea).attr("data-type")&&a(d.targetElem).focus(),b.preventDefault(),b.stopPropagation();break;case 9:f?"af-datepicker"===a(d.currentArea).attr("data-type")&&(a(d.targetElem).focus(),d._close(),b.preventDefault()):"close"===a(d.currentArea)[0].value&&(a(d.calendarContainer).focus(),b.preventDefault());break;case 37:("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a.af-today"),c=void 0==a(d.currentArea)[0]?2:a(d.currentArea)[0].value),0>=c-1?(a(d.prevMonth).trigger("click"),g=d._getNumDaysOfMonth()):g=c-1,d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 39:("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a.af-today"),c=void 0==a(d.currentArea)[0]?0:a(d.currentArea)[0].value),c+1>d._getNumDaysOfMonth()?(a(d.nextMonth).trigger("click"),g=1):g=c+1,d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 38:if("SELECT"===b.target.nodeName)return;("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a.af-today"),c=void 0==a(d.currentArea)[0]?8:a(d.currentArea)[0].value),0>=c-7?(a(d.prevMonth).trigger("click"),g=d._getNumDaysOfMonth()+(c-7)):g=c-7,d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 40:if("SELECT"===b.target.nodeName)return;("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a.af-today"),c=void 0==a(d.currentArea)[0]?-6:a(d.currentArea)[0].value),c+7>d._getNumDaysOfMonth()?(g=c+7-d._getNumDaysOfMonth(),a(d.nextMonth).trigger("click")):g=c+7,d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 27:a(d.targetElem).focus(),d._close(),b.preventDefault();break;case 36:if(e){for(d.currentYearView=d._getCurrentYear(),d.currentMonthView=d._getCurrentMonthToInteger(),this.setText(this.calendarYear,this._addLocalePostfix(this.currentYearView,"y")),this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"));d.calendarBody.hasChildNodes();)d.calendarBody.removeChild(d.calendarBody.lastChild);d.calendarBody.appendChild(d._renderCalendar()),d.currentArea=a(d.calendarContainer).find("a.af-today"),a(d.currentArea).focus()}else d.currentArea=a(d.calendarContainer).find("[href=#1]"),a(d.currentArea).focus();b.preventDefault();break;case 35:d.currentArea=a(d.calendarContainer).find("[href=#"+d._getNumDaysOfMonth()+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 33:("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a.af-today"),
c=a(d.currentArea)[0].value),f?(a(d.prevYear).trigger("click"),g=1===d.currentMonthView&&29===c?28:c):(a(d.prevMonth).trigger("click"),g=d._getNumDaysOfMonth()<c?d._getNumDaysOfMonth():c),d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;case 34:("prevYear"===c||"nextYear"===c||"prevMonth"===c||"nextMonth"===c||"close"===c||"af-datepicker"===a(d.currentArea).attr("data-type"))&&(d.currentArea=a(d.calendarContainer).find("a.af-today"),c=a(d.currentArea)[0].value),f?(a(d.nextYear).trigger("click"),g=1===d.currentMonthView&&29===c?28:c):(a(d.nextMonth).trigger("click"),g=d._getNumDaysOfMonth()<c?d._getNumDaysOfMonth():c),d.currentArea=a(d.calendarContainer).find("[href=#"+g+"]"),a(d.currentArea).focus(),b.preventDefault();break;default:e||f||(a(d.targetElem).focus(),d._close())}},_addLocalePostfix:function(a,b){var c=a+"";switch(b){case"y":c+=this.datePostfix[0];break;case"m":c+=this.datePostfix[1];break;case"d":c+=this.datePostfix[2]}return c},_getCurrentYear:function(){return this.currentDate.getFullYear()},_getCurrentMonthToInteger:function(){return this.currentDate.getMonth()},_getCurrentMonthToString:function(a){var b=this.currentDate.getMonth();return this._monthToStr(b,a)},_getCurrentDay:function(){return this.currentDate.getDate()},_getMonthToInteger:function(){return this.currentMonthView},_getMonthToString:function(a){var b=this.currentMonthView;return this._monthToStr(b,a)},_getNumDaysOfMonth:function(b,c){return a.alopex.util.isValid(b)&&a.alopex.util.isValid(c)?1!==c||3&b||!(b%100)&&b%400?this.daysInMonth[c]:29:1!==this._getMonthToInteger()||3&this.currentYearView||!(this.currentYearView%100)&&this.currentYearView%400?this.daysInMonth[this._getMonthToInteger()]:29},_render:function(a,b,c){var d;if(a in this._renderCache||(this._renderCache[a]=document.createElement(a)),d=this._renderCache[a].cloneNode(!1),null!==b)for(var e in b)d[e]=b[e];return null!==c&&void 0!==c&&("object"==typeof c?d.appendChild(c):d.innerHTML=c),d},_monthToStr:function(a,b){return b===!0?this.months[a]:this.months[a].length>3?this.months[a].substring(0,3):this.months[a]},_dayToStr:function(a,b){return b===!0?this.weekdays[a]:this.weekdays[a].length>3?this.weekdays[a].substring(0,3):this.weekdays[a]},_clickYear:function(){for(this.currentYearView<1900?this.currentYearView=1900:this.currentYearView>2100&&(this.currentYearView=2100),this.currentYearView===this.mindate.getFullYear()&&this.currentMonthView<this.mindate.getMonth()&&(this.currentMonthView=this.mindate.getMonth()),this.currentYearView===this.maxdate.getFullYear()&&this.maxdate.getMonth()<this.currentMonthView&&(this.currentMonthView=this.maxdate.getMonth()),this.setText(this.calendarYear,this._addLocalePostfix(this.currentYearView,"y")),this.calendarMonth&&this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"));this.calendarBody.hasChildNodes();)this.calendarBody.removeChild(this.calendarBody.lastChild);return"daily"===this.pickertype||"weekly"===this.pickertype?this.calendarBody.appendChild(this._renderCalendar()):"monthly"===this.pickertype&&this.calendarBody.appendChild(this._renderMonth()),!1},setText:function(b,c){"input"===b.tagName.toLowerCase()||"select"===b.tagName.toLowerCase()?a(b).val(c):a(b).text(c)},_clickMonth:function(){for(this.currentMonthView<0?(this.currentYearView--,this.currentYearView<1900&&(this.currentYearView=1900),this.currentMonthView=11,this.setText(this.calendarYear,this._addLocalePostfix(this.currentYearView,"y")),this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"))):this.currentMonthView>11?(this.currentYearView++,this.currentYearView>2100&&(this.currentYearView=2100),this.currentMonthView=0,this.setText(this.calendarYear,this._addLocalePostfix(this.currentYearView,"y")),this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"))):this.setText(this.calendarMonth,this._addLocalePostfix(this._getMonthToString(!0),"m"));this.calendarBody.hasChildNodes();)this.calendarBody.removeChild(this.calendarBody.lastChild);return this.calendarBody.appendChild(this._renderCalendar()),!1},_bindYearHandler:function(){var b=this;a(b.prevYear).unbind("click"),a(b.nextYear).unbind("click"),a(b.prevYear).children().unbind("focus"),a(b.prevYear).children().unbind("focusout"),a(b.nextYear).children().unbind("focus"),a(b.nextYear).children().unbind("focusout"),b.mindate.getFullYear()===b.currentYearView?a.alopex.widget.object._addDisabledStyle(a(b.prevYear).children()):(a.alopex.widget.object._removeDisabledStyle(a(b.prevYear).children()),a(b.prevYear).bind("click",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return c.currentYearView--,c._clickYear()}),a(b.prevYear).children().bind("focus",function(b){a(this).trigger("hoverstart")}),a(b.prevYear).children().bind("focusout",function(b){a(this).trigger("hoverend")}),a.alopex.widget.object.addPressHighlight(a(b.prevYear).children()[0]),a.alopex.widget.object.addHoverHighlight(a(b.prevYear).children()[0])),this.maxdate.getFullYear()===this.currentYearView?a.alopex.widget.object._addDisabledStyle(a(b.nextYear).children()):(a.alopex.widget.object._removeDisabledStyle(a(b.nextYear).children()),a(b.nextYear).bind("click",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return c.currentYearView++,c._clickYear()}),a(b.nextYear).children().bind("focus",function(b){a(this).trigger("hoverstart")}),a(b.nextYear).children().bind("focusout",function(b){a(this).trigger("hoverend")}),a.alopex.widget.object.addPressHighlight(a(b.nextYear).children()[0]),a.alopex.widget.object.addHoverHighlight(a(b.nextYear).children()[0]))},_bindMonthHandler:function(){var b=this;("daily"===this.pickertype||"weekly"===this.pickertype)&&(a(b.prevMonth).unbind("click"),a(b.nextMonth).unbind("click"),a(b.prevMonth).children().unbind("focus"),a(b.prevMonth).children().unbind("focusout"),a(b.nextMonth).children().unbind("focus"),a(b.nextMonth).children().unbind("focusout"),this.mindate.getMonth()===this.currentMonthView&&this.mindate.getFullYear()===this.currentYearView?a.alopex.widget.object._addDisabledStyle(a(b.prevMonth).children()):(a.alopex.widget.object._removeDisabledStyle(a(b.prevMonth).children()),a(b.prevMonth).bind("click",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return c.currentMonthView--,c._clickMonth()}),a(b.prevMonth).children().bind("focus",function(b){a(this).trigger("hoverstart")}),a(b.prevMonth).children().bind("focusout",function(b){a(this).trigger("hoverend")}),a.alopex.widget.object.addPressHighlight(a(b.prevMonth).children()[0]),a.alopex.widget.object.addHoverHighlight(a(b.prevMonth).children()[0])),this.maxdate.getMonth()===this.currentMonthView&&this.maxdate.getFullYear()===this.currentYearView?a.alopex.widget.object._addDisabledStyle(a(b.nextMonth).children()):(a.alopex.widget.object._removeDisabledStyle(a(b.nextMonth).children()),a(b.nextMonth).bind("click",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return c.currentMonthView++,c._clickMonth()}),a(b.nextMonth).children().bind("focus",function(b){a(this).trigger("hoverstart")}),a(b.nextMonth).children().bind("focusout",function(b){a(this).trigger("hoverend")}),a.alopex.widget.object.addPressHighlight(a(b.nextMonth).children()[0]),a.alopex.widget.object.addHoverHighlight(a(b.nextMonth).children()[0])))},_bindDayHandler:function(){function b(a){return""===a.innerHTML?!1:-1!==a.className.indexOf("af-disabled Disabled")?!1:!0}function c(c){return b(c.currentTarget)?void a(this).trigger("hoverstart"):!1}function d(c){return b(c.currentTarget)?void a(this).trigger("hoverend"):!1}function e(c){if(!b(c.currentTarget))return c.preventDefault(),c.stopPropagation(),!1;var d,e=a.alopex.datePickerMap.getObjectByNode(c.currentTarget),g=[];"daily"===e.pickertype?d=1==a(c.currentTarget).attr("href").indexOf("next")?{year:e.currentYearView,month:e.currentMonthView+2,day:this.innerHTML}:1==a(c.currentTarget).attr("href").indexOf("prev")?{year:e.currentYearView,month:e.currentMonthView,day:this.innerHTML}:{year:e.currentYearView,month:e.currentMonthView+1,day:this.innerHTML}:"monthly"===e.pickertype?d={year:e.currentYearView,month:this.month,day:1}:"weekly"===e.pickertype&&(1==a(this).find("a").eq(0).attr("href").indexOf("prev")?g.push({year:e.currentYearView,month:e.currentMonthView,day:a(this).find("a").eq(0).text()}):g.push({year:e.currentYearView,month:e.currentMonthView+1,day:a(this).find("a").eq(0).text()}),1==a(this).find("a").eq(6).attr("href").indexOf("next")?g.push({year:e.currentYearView,month:e.currentMonthView+2,day:a(this).find("a").eq(6).text()}):g.push({year:e.currentYearView,month:e.currentMonthView+1,day:a(this).find("a").eq(6).text()})),c.preventDefault(),c.stopPropagation();var h=!0;if("weekly"===e.pickertype){for(var i=0;i<a(this).find("a").length&&!(h=f._isCertainDate(a(this).find("a").eq(i).text()));i++);h?e.getWeekDateByFormat(g,e.dateFormat,h,c):e.getWeekDateByFormat(g,e.dateFormat,!1,c)}else h=f._isCertainDate(this.innerHTML),h?e.getDateByFormat(d,e.dateFormat,h,c):e.getDateByFormat(d,e.dateFormat,!1,c);return e.inline||(!h||h.isClickToClose)&&e._close(c),!1}var f=this;"weekly"===this.pickertype?(a(this.calendarBody).on("focus","tr",c),a(this.calendarBody).on("focusout","tr",d),a(this.calendarBody).on("click","tr",e),a(this.calendarBody).on("click","tr",function(a){return!1}),a.alopex.widget.object.addPressHighlight(this.calendarBody,"tr"),a.alopex.widget.object.addHoverHighlight(this.calendarBody,"tr")):(a(this.calendarBody).on("focus","a",c),a(this.calendarBody).on("focusout","a",d),a(this.calendarBody).on("click","a",e),a(this.calendarBody).on("click","a",function(a){return!1}),a.alopex.widget.object.addPressHighlight(this.calendarBody,"a"),a.alopex.widget.object.addHoverHighlight(this.calendarBody,"a"))},_renderWeekdays:function(){for(var a=this,b=document.createDocumentFragment(),c=0;c<a.weekdays.length;c++)0===c?b.appendChild(a._render("th",{className:"af-datepicker-weekdays holiday Weekdays Holiday"},a.weekdays[c].substring(0,3))):0!==c&&c%6===0?b.appendChild(a._render("th",{className:"af-datepicker-weekdays saturday Weekdays Sat"},a.weekdays[c].substring(0,3))):b.appendChild(a._render("th",{className:"af-datepicker-weekdays Weekdays"},a.weekdays[c].substring(0,3)));return b},_renderQtrly:function(){return""},_renderMonth:function(){for(var b,c=0,d=0,e=3,f=4,g=document.createDocumentFragment();e>c;c++){var h=this._render("tr",{className:"af-datepicker-tableRow Row"},"");for(d=0;f>d;d++){b=4*c+d;var i=this._render("a",{month:b+1,className:"af-datepicker-month Month"+(this._getCurrentMonthToInteger()==b?" af-today Today":""),href:"#"+(c+d+1)},this._addLocalePostfix(this._monthToStr(b,!0),"m"));(this._isBelowMinDate(b,1)||this._isAboveMaxDate(b,1))&&(a.alopex.widget.object._addDisabledStyle(i),a(i).attr("tabindex","-1")),h.appendChild(this._render("td",{className:"af-datepicker-tableCell Cell"},i))}g.appendChild(h)}return this._bindYearHandler(),this._bindMonthHandler(),g},_renderCalendar:function(){var b,c,d=new Date(this.currentYearView,this.currentMonthView,1).getDay(),e=this._getNumDaysOfMonth(),f=0,g=document.createDocumentFragment(),h=this._render("tr");if(this.showothermonth){var i=this.currentYearView,j=this.currentMonthView-1;-1===j&&(j=11,i-=1);var k=this._getNumDaysOfMonth(i,j),l=k-d+1;for(c=1;d>=c;c++){b=this._render("td",{className:"af-datepicker-tableCell Cell"},this._render("a",{className:"af-datepicker-prev-month-day PrevMonthDay",value:l,href:"#prev"+l},l));var m=this._isCertainDateOtherMonth(l,!0);m&&(a(b).children().addClass(m.styleClass),a(b).children().attr("title",m.title)),(this._isBelowMinDateOtherMonth(l,!0)||this._isAboveMaxDateOtherMonth(l,!0))&&(a.alopex.widget.object._addDisabledStyle(a(b).children()),a(b).children().attr("tabindex","-1")),h.appendChild(b),l++,f++}}else for(c=1;d>=c;c++)h.appendChild(this._render("td",{className:"af-datepicker-tableCell Cell"},"&nbsp;")),f++;for(c=1;e>=c;c++){7===f&&(g.appendChild(h),h=this._render("tr"),f=0),b=0===f?this._render("td",{className:"af-datepicker-tableCell Cell"},this._render("a",{className:c===this._getCurrentDay()&&this.currentMonthView===this._getCurrentMonthToInteger()&&this.currentYearView===this._getCurrentYear()?"af-datepicker-day af-today Day Today":"af-datepicker-day holiday Day Holiday",value:c,href:"#"+c},c)):6===f?this._render("td",{className:"af-datepicker-tableCell Cell"},this._render("a",{className:c===this._getCurrentDay()&&this.currentMonthView===this._getCurrentMonthToInteger()&&this.currentYearView===this._getCurrentYear()?"af-datepicker-day af-today Day Today":"af-datepicker-day saturday Day Sat",value:c,href:"#"+c},c)):this._render("td",{className:"af-datepicker-tableCell Cell"},this._render("a",{className:c===this._getCurrentDay()&&this.currentMonthView===this._getCurrentMonthToInteger()&&this.currentYearView===this._getCurrentYear()?"af-datepicker-day af-today Day Today":"af-datepicker-day Day",value:c,href:"#"+c},c));var m=this._isCertainDate(c);m&&(a(b).children().addClass(m.styleClass),a(b).children().attr("title",m.title)),(this._isBelowMinDate(c)||this._isAboveMaxDate(c))&&(a.alopex.widget.object._addDisabledStyle(a(b).children()),a(b).children().attr("tabindex","-1")),h.appendChild(b),f++}if(this.showothermonth)for(c=1;7-f>=c;c++){b=this._render("td",{className:"af-datepicker-tableCell Cell"},this._render("a",{className:"af-datepicker-next-month-day NextMonthDay",value:c,href:"#next"+c},c));var m=this._isCertainDateOtherMonth(c,!1);m&&(a(b).children().addClass(m.styleClass),a(b).children().attr("title",m.title)),(this._isBelowMinDateOtherMonth(c,!1)||this._isAboveMaxDateOtherMonth(c,!1))&&(a.alopex.widget.object._addDisabledStyle(a(b).children()),a(b).children().attr("tabindex","-1")),h.appendChild(b)}else for(c=1;7-f>=c;c++)h.appendChild(this._render("td",{className:"af-datepicker-tableCell Cell"},"&nbsp;"));return g.appendChild(h),this._bindYearHandler(),this._bindMonthHandler(),g},_renderBottom:function(b){function c(c){var d=a.alopex.datePickerMap.getObjectByNode(c.currentTarget),e={};if(c.preventDefault(),c.stopPropagation(),a.alopex.util.isValid(b))e={year:b.getFullYear(),month:b.getMonth()+1,day:b.getDate()};else{var f=new Date;e={year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate()}}return d.getDateByFormat(e,d.dateFormat,!1),d.inline||d._close(c),!1}var d=this._render("div",{className:"af-datepicker-bottom Bottom"}),e=this._render("div",{className:"af-datepicker-childbottom ChildBottom"});d.appendChild(e);var f=this._render("button",{className:"af-datepicker-bottom-button BottomButton"},this.descTodayBtn);e.appendChild(f);var g={};if(a.alopex.util.isValid(b))g={year:b.getFullYear(),month:b.getMonth()+1,day:b.getDate()};else{var h=new Date;g={year:h.getFullYear(),month:h.getMonth()+1,day:h.getDate()}}var i=this._render("span",{className:"af-datepicker-bottom-text BottomText"},this._getFormattedDate(g,this.dateFormat));return e.appendChild(i),a(f).bind("click",c),d},_initialise:function(b){var c=this;this.currentDate<this.mindate?(this.currentYearView=this.mindate.getFullYear(),this.currentMonthView=this.mindate.getMonth()):this.currentDate>this.maxdate?(this.currentYearView=this.maxdate.getFullYear(),this.currentMonthView=this.maxdate.getMonth()):(this.currentYearView=this._getCurrentYear(),this.currentMonthView=this._getCurrentMonthToInteger()),this.calendarContainer=this._render("div",{className:"af-datepicker Datepicker"}),"weekly"===this.pickertype&&a(this.calendarContainer).addClass("Weekly"),a(this.calendarContainer).attr("data-type","af-datepicker"),this.inline&&(a(this.calendarContainer).attr("data-datepicker-inline","true"),a(this.calendarContainer).addClass(this.datePickerInlineTheme)),a(this.calendarContainer).addClass(this.datePickerTheme),this.calendarContainer.id=this.calendarContainerId;var d=this._render("div",{className:"af-datepicker-header Header"}),e=this._render("div",{className:"daily"===this.pickertype||"weekly"===this.pickertype?"af-subHeader-year SubheaderYear":"af-subHeader-year-wide SubheaderYearWide"}),f=this._render("div",{className:"af-subHeader-month SubheaderMonth"});if(this.prevYear=this._render("span",{className:"af-prev-year PrevYear"},this._render("a",{className:"af-datepicker-control Control",value:"prevYear",title:this.descPrevYear},"")),this.selectyear){for(var g="",h=this.currentYearView,i=null===this.mindate?h-10:this.mindate.getFullYear(),j=null===this.maxdate?h+10:this.maxdate.getFullYear(),k=i;j>=k;k++)g+="<option",k===h&&(g+=" selected"),g+=">"+this._addLocalePostfix(""+k,"y")+"</option>";this.calendarYear=this._render("select",{className:"af-current-year-select CurrentYearSelect",title:this.descYearSelect},""),a(this.calendarYear).append(g),a(this.calendarYear).bind("change",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return c.currentYearView=parseInt(a(b.currentTarget).val(),10),c._clickYear()})}else this.calendarYear=this._render("span",{className:"af-current-year CurrentYear"},this._addLocalePostfix(this.currentYearView,"y"));if(this.nextYear=this._render("span",{className:"af-next-year NextYear"},this._render("a",{className:"af-datepicker-control Control",value:"nextYear",title:this.descNextYear},"")),e.appendChild(this.prevYear),e.appendChild(this.nextYear),e.appendChild(this.calendarYear),d.appendChild(e),"daily"===this.pickertype||"weekly"===this.pickertype){if(this.prevMonth=this._render("span",{className:"af-prev-month PrevMonth"},this._render("a",{className:"af-datepicker-control Control",value:"prevMonth",title:this.descPrevMonth},"")),this.selectmonth){for(var g="",k=1;12>=k;k++)g+="<option",this.months[k-1]===this._getMonthToString(!0)&&(g+=" selected"),g+=">"+this._addLocalePostfix(""+this.months[k-1],"m")+"</option>";this.calendarMonth=this._render("select",{className:"af-current-month-select CurrentMonthSelect",title:this.descMonthSelect},""),a(this.calendarMonth).append(g),a(this.calendarMonth).bind("change",function(b){var c=a.alopex.datePickerMap.getObjectByNode(b.currentTarget);return"en"===c.localeInfo?c.currentMonthView=a.inArray(a(b.currentTarget).val(),c.months):c.currentMonthView=parseInt(a(b.currentTarget).val(),10)-1,c._clickMonth()})}else this.calendarMonth=this._render("span",{className:"af-current-month CurrentMonth"},this._addLocalePostfix(this._getMonthToString(!0),"m"));this.nextMonth=this._render("span",{className:"af-next-month NextMonth"},this._render("a",{className:"af-datepicker-control Control",value:"nextMonth",title:this.descNextMonth},"")),f.appendChild(this.prevMonth),f.appendChild(this.nextMonth),f.appendChild(this.calendarMonth),d.appendChild(f)}if(this.calendarContainer.appendChild(d),this.inline||(this.btn_close=this._render("span",{className:"af-btn-close BtnClose"},this._render("a",{className:"af-datepicker-control Control",value:"close",title:this.descClose},"")),a(this.btn_close).children().bind("click",function(a){return a.preventDefault(),a.stopPropagation(),c._close(a),!1}),a(this.btn_close).children().bind("focus",function(b){a(this).trigger("hoverstart")}),a(this.btn_close).children().bind("focusout",function(b){a(this).trigger("hoverend")}),a.alopex.widget.object.addPressHighlight(a(this.btn_close).children()[0]),a.alopex.widget.object.addHoverHighlight(a(this.btn_close).children()[0])),"monthly"===this.pickertype){var l=this._render("table",{summary:this.descMonthSummary}),m=this._render("span",{},this.descMonthCaption);m.style.cssText="visibility:hidden;overflow:hidden;position:absolute;top:0;left:0;width:0;height:0;font-size:0;line-height:0;";var n=this._render("caption",{},m);l.appendChild(n),this.calendarBody=this._render("tbody",{},""),this.calendarBody.appendChild(this._renderMonth()),l.appendChild(this.calendarBody),this.calendarContainer.appendChild(l)}else if("quarterly"===this.pickertype);else{var l=this._render("table",{summary:this.descDaySummary}),m=this._render("span",{},this.descDayCaption);m.style.cssText="visibility:hidden;overflow:hidden;position:absolute;top:0;left:0;width:0;height:0;font-size:0;line-height:0;";var n=this._render("caption",{},m);l.appendChild(n);var o=this._render("thead",{},this._render("tr",{},this._renderWeekdays()));if(l.appendChild(o),this.calendarBody=this._render("tbody",{},this._renderCalendar()),l.appendChild(this.calendarBody),this.calendarContainer.appendChild(l),this.showbottom){var p=this._renderBottom(this.bottomdate);this.calendarContainer.appendChild(p)}}this.inline||this.calendarContainer.appendChild(this.btn_close),this.inline?a(this.targetElem).append(this.calendarContainer):a("body").append(this.calendarContainer),a.alopex.util.isValid(b)?a.alopex.util.isValid(b.postionRight)?1==b.postionRight?this._setPostionRight(this):this._setPosition(this):a.alopex.util.isValid(b.position)?(this.position=b.position,this._setPosition(this,b.position)):this._setPosition(this):this._setPosition(this)},_setPostionRight:function(b){if(!b.inline){var c=a.alopex.widget.dialog,d=1200;if(null!==c&&window.afDialogNumber>0&&(d=c.maxZindex+1),"mobile"===window.browser&&a(window).width()<768){var e=a(window).scrollTop()?a(window).scrollTop()+(a(window).height()-b.calendarContainer.offsetHeight)/2:document.body.scrollTop+(a(window).height()-b.calendarContainer.offsetHeight)/2,f=a(window).scrollLeft()?a(window).scrollLeft()+(a(window).width()-b.calendarContainer.offsetWidth)/2:document.body.scrollLeft+(a(window).width()-b.calendarContainer.offsetWidth)/2;b.calendarContainer.style.cssText="display: none; position: absolute; z-index: "+d+"; top: "+e+"px; left: "+f+"px;",b.overlayElement||(b.overlayElement=document.createElement("div"));var g=a(document).height();b.overlayElement.style.cssText="width:100%; position:absolute;left:0; margin:0; padding:0; background:#000; opacity:0.5; z-index:1004;top:0px;height:"+g+"px;",a("body").append(b.overlayElement)}else{for(var h=a(b.targetElem).offset().top+b.targetElem.offsetHeight+5,i=a(b.targetElem).offset().left,j=b.targetElem.offsetWidth,k=b.offsetParent;k&&k!=document.body&&"relative"!==a(k).css("position")&&"absolute"!==a(k).css("position");)k=k.offsetParent;var l=a.alopex.util.getRelativePosition(b.targetElem),m=a.alopex.util.getRelativePosition(k),n=l.left-m.left,o=a(b.calendarContainer).css("width");i=n-o.split("px")[0]+j,a.alopex.util.isNumberType(i)||(i=a(b.targetElem).offset().left),a(b.calendarContainer).width()!=a(window).width()&&i+a(b.calendarContainer).width()>a(window).width()&&(i-=i+a(b.calendarContainer).width()+10-a(window).width()),h+b.calendarContainer.offsetHeight>=a(document).height()&&(h=a(b.targetElem).offset().top-5-b.calendarContainer.offsetHeight),b.calendarContainer.style.cssText="display: none; position: absolute; z-index:"+d+"; top: "+h+"px; left: "+i+"px;"}a(b.calendarContainer).css("display","block")}},_setPosition:function(b,c){if(!b.inline){var d=a.alopex.widget.dialog,e=1200;if(null!==d&&window.afDialogNumber>0&&(e=d.maxZindex+1),"mobile"===window.browser&&a(window).width()<768){var f=a(window).scrollTop()?a(window).scrollTop()+(a(window).height()-b.calendarContainer.offsetHeight)/2:document.body.scrollTop+(a(window).height()-b.calendarContainer.offsetHeight)/2,g=a(window).scrollLeft()?a(window).scrollLeft()+(a(window).width()-b.calendarContainer.offsetWidth)/2:document.body.scrollLeft+(a(window).width()-b.calendarContainer.offsetWidth)/2;b.calendarContainer.style.cssText="display: none; position: absolute; z-index: "+e+"; top: "+f+"px; left: "+g+"px;",b.overlayElement||(b.overlayElement=document.createElement("div"));var h=a(document).height();b.overlayElement.style.cssText="width:100%; position:absolute;left:0; margin:0; padding:0; background:#000; opacity:0.5; z-index:1004;top:0px;height:"+h+"px;",a("body").append(b.overlayElement)}else{for(var i=a(b.targetElem).offset().top+b.targetElem.offsetHeight+5,j=a(b.targetElem).offset().left,k=b.offsetParent;k&&k!=document.body&&"relative"!==a(k).css("position")&&"absolute"!==a(k).css("position");)k=k.offsetParent;if(a(b.calendarContainer).width()!=a(window).width()&&j+a(b.calendarContainer).width()>a(window).width()&&(j-=j+a(b.calendarContainer).width()+10-a(window).width()),i+b.calendarContainer.offsetHeight>=a(document).height()&&(i=a(b.targetElem).offset().top-5-b.calendarContainer.offsetHeight),a.alopex.util.isValid(c)){var l=b.targetElem.offsetWidth,m=(b.targetElem.offsetHeight,a.alopex.util.getRelativePosition(b.targetElem)),n=a.alopex.util.getRelativePosition(k),o=m.left-n.left,p=m.top-n.top,q=a(b.calendarContainer).outerWidth(),r=a(b.calendarContainer).outerHeight();if(c.toLowerCase().indexOf("right")>=0)if(a(b.targetElem).parent().hasClass("Dateinput")&&a(b.targetElem).next(".Calendar").length){var s=a(b.targetElem).next(".Calendar")[0],t=a(s);m=a.alopex.util.getRelativePosition(s),o=m.left-n.left,j=o+t.outerWidth()-q}else j=o-q+l;c.toLowerCase().indexOf("top")>=0&&(i=p-r-5)}b.calendarContainer.style.cssText="display: none; position: absolute; z-index:"+e+"; top: "+i+"px; left: "+j+"px;"}a(b.calendarContainer).css("display","block")}},_isOpened:function(b){var c="datepicker_"+b;return a.alopex.datePickerMap.datePickerObj.hasOwnProperty(c)?!0:!1},_mouseDownHandler:function(b){for(var c=!1,d=a(b.target),e=0;7>e;e++){if("af-datepicker"===d.attr("data-type")&&"true"!==d.attr("data-datepicker-inline")){c=!0;break}d=d.parent()}if(!c)for(var f in a.alopex.datePickerMap.datePickerObj)a.alopex.datePickerMap.datePickerObj[f]._close()},_resizeHandler:function(b){for(var c in a.alopex.datePickerMap.datePickerObj)a.alopex.datePickerMap.datePickerObj[c]._setPosition(a.alopex.datePickerMap.datePickerObj[c],a.alopex.datePickerMap.datePickerObj[c].position)},_onHashChange:function(b){for(var c in a.alopex.datePickerMap.datePickerObj)a.alopex.datePickerMap.datePickerObj[c]._close()}},a.fn.showDatePicker=function(b,c){if(a.alopex.util.isValid(b)&&"function"==typeof b){a.alopex.util.isValid(c)||(c={});for(var d in a.alopex.datePickerMap.datePickerObj)c.inline||a.alopex.datePickerMap.datePickerObj[d]._close();var e=a.extend(!0,{},a.alopex.datePicker);e.localeInfo=e.locale,e.targetElem=this[0],e._callback=b,e.calendarContainerId="datepicker_"+this[0].id,e.setDefaultDate(c),e.setLocale(c),e.setFormat(c),e.setCertainDates(c),e.setThemeClass(c),e.setMenuSelect(c),e.setMinDate(c),e.setMaxDate(c),e.setInline(c),e.setPickerType(c),"weekly"===c.pickertype&&(c.showOtherMonth=!0,c.showbottom=!1),e.setShowOtherMonth(c),e.setShowBottom(c),e.setBottomDate(c),e.setWeekPeriod(c),e._initialise(c),e._bindYearHandler(),e._bindMonthHandler(),e._bindDayHandler(),e.inline||("mobile"===window.browser&&a(window).width()<768||(a(document.body).bind("pressed",e._mouseDownHandler),a(window).bind("hashchange",e._onHashChange)),a(window).bind("resize",e._resizeHandler),a(document.body).bind("keydown",{obj:e},e._addKeyEvent),a(e.calendarContainer).attr("tabindex",0),a(e.calendarContainer).focus(),a(e.targetElem).bind("pressed",function(a){a.stopPropagation()})),a(e.calendarContainer).bind("selectstart dragstart",function(a){return!1}),a.alopex.datePickerMap.setObject(e.calendarContainerId,e)}},a.fn.closeDatePicker=function(){if(a.alopex.datePicker._isOpened(this[0].id)){var b=a.alopex.datePickerMap.getObjectById(this[0].id);b._close()}},a.alopex.registerSetup("datePicker",function(b){a.extend(a.alopex.datePicker,b)}),a.alopex.registerSetup("datepicker",function(b){a.extend(a.alopex.datePicker,b)}))}(jQuery),function(a){a.alopex.widget.daterange=a.alopex.inherit(a.alopex.widget.object,{widgetName:"daterange",defaultClassName:"af-daterange Daterange",setters:["daterange","setEnabled","clear","refresh"],getters:[],classNames:{startdate:"Startdate",enddate:"Enddate"},id_startdate:"startdate",id_enddate:"enddate",id_widget:"daterange",properties:{date:new Date,format:"yyyy-MM-dd",selectyear:!1,selectmonth:!1,pickertype:"daily",autodisable:!0,resetbutton:!1,callback:null,blurcallback:null,placeholder:!0},init:function(b,c){var d=a(b);b.options=a.extend(!0,{},this.properties,c),a.alopex.widget.dateinput.refresh_format(b,c),"weekly"==b.options.pickertype&&(b.options.showothermonth=!0),b._start=d.find('[data-role="'+this.id_startdate+'"], .'+this.classNames.startdate),b._end=d.find('[data-role="'+this.id_enddate+'"], .'+this.classNames.enddate),b._start.attr("data-type","dateinput").dateinput(a.extend(!0,{},b.options,{callback:this._startEventHandler})),b._end.attr("data-type","dateinput").dateinput(a.extend(!0,{},b.options,{callback:this._endEventHandler})),b.options.resetbutton&&(b._start.length>0&&b._start[0].resetbutton&&b._start[0].resetbutton.length>0&&(b._start[0].resetbutton[0].daterange=b),b._end.length>0&&b._end[0].resetbutton&&b._end[0].resetbutton.length>0&&(b._end[0].resetbutton[0].daterange=b)),this.setEnabled(b,b.options.enabled)},_generateDate:function(b,c){var d,e,f,g=b.options.format,h=g.replace("yyyy","").replace("MM","").replace("dd","").substring(0,1),i=g.indexOf("yyyy"),j=g.indexOf("MM"),k=g.indexOf("dd");return"daily"===b.options.pickertype||"weekly"===b.options.pickertype?(-1==c.indexOf(h)&&8==c.length&&(c=i>0?c.substr(0,2)+h+c.substr(2,2)+h+c.substr(4,4):c.substr(0,4)+h+c.substr(4,2)+h+c.substr(6,2)),a.alopex.util.isValid(c)?a.alopex.util.isValid(h)?i>0&&i>j?(d=c.split(h)[2],0==j?(e=Number(c.split(h)[0])-1,f=c.split(h)[1]):(e=Number(c.split(h)[1])-1,f=c.split(h)[0]),new Date(d,e,f)):i>0&&j>i?new Date(c.split(h)[1],Number(c.split(h)[2])-1,c.split(h)[0]):(d=c.split(h)[0],j>k?(e=Number(c.split(h)[2])-1,f=c.split(h)[1]):(e=Number(c.split(h)[1])-1,f=c.split(h)[2]),new Date(d,e,f)):new Date(c.substr(i,4),Number(c.substr(j,2))-1,c.substr(k,2)):new Date):"monthly"===b.options.pickertype?(-1==c.indexOf(h)&&6==c.length&&(c=i>0?c.substr(0,2)+h+c.substr(2,4):c.substr(0,4)+h+c.substr(4,2)),a.alopex.util.isValid(c)?a.alopex.util.isValid(h)?i>0?new Date(c.split(h)[1],Number(c.split(h)[0])-1):new Date(c.split(h)[0],Number(c.split(h)[1])-1):new Date(c.substr(i,4),Number(c.substr(j,2))-1):new Date):void 0},_dynamicBindingCheck:function(b){var c=a(b._start).find("input").val(),d=a(b._end).find("input").val(),e={};return a.alopex.util.isValid(c)?a.extend(!0,e,{mindate:$a.widget.dateinput.generateDate(b,c)}):a.extend(!0,e,{mindate:""}),a.alopex.util.isValid(d)?a.extend(!0,e,{maxdate:$a.widget.dateinput.generateDate(b,d)}):a.extend(!0,e,{maxdate:""}),e},refresh:function(b){var c=a(b._start).val(),d=a(b._end).val();a.alopex.util.isValid(d)&&a(b._start).update({maxdate:$a.widget.daterange._generateDate(b,d)}),a.alopex.util.isValid(c)&&a(b._end).update({mindate:$a.widget.daterange._generateDate(b,c)})},_startEventHandler:function(b,c,d,e,f){var g=a(this).closest('[data-type="daterange"], .'+a.alopex.config.defaultComponentClass.daterange)[0];if(g.options.autodisable)if("weekly"==g.options.pickertype)a(g._start).findAll("input").val(c.startdate),a(g._end).findAll("input").val(c.enddate);else if(a(g._start).find("input").val()>a(g._end).find("input").val()&&a(g._end).find("input").val(""),!g._end.hasClass("NoLimit")){var h=new Date(b.year,Number(b.month)-1,b.day);g._end.update({mindate:h})}g.options.callback&&g.options.callback.call(g,b,c)},_endEventHandler:function(b,c,d,e,f){var g=a(this).closest('[data-type="daterange"], .'+a.alopex.config.defaultComponentClass.daterange)[0];if(g.options.autodisable)if("weekly"==g.options.pickertype)a(g._start).findAll("input").val(c.startdate),a(g._end).findAll("input").val(c.enddate);else if(a(g._start).find("input").val()>a(g._end).find("input").val()&&a(g._start).find("input").val(""),!g._start.hasClass("NoLimit")){var h=new Date(b.year,Number(b.month)-1,b.day);g._start.update({maxdate:h})}g.options.callback&&g.options.callback.call(g,b,c,d,e,f)},setEnabled:function(b,c){c=a.alopex.util.parseBoolean(c),b._start.setEnabled(c),b._end.setEnabled(c)},clear:function(b){a(b._start).clear(),a(b._end).clear(),a(b._start).update({maxdate:""}),a(b._end).update({mindate:""})}})}(jQuery),function(a){
a.alopex.widget.dialog=a.alopex.inherit(a.alopex.widget.object,{widgetName:"dialog",defaultClassName:"af-dialog Dialog",maxZindex:1001,dialoglist:[],properties:{dialogtype:null,animation:"show",animationtime:500,resizable:!1,dialogmovable:!1,modal:!1,top:null,left:null,modalScroll:!1,modalscrollhidden:!0,modalclose:!1,scroll:!1,toggle:!1,minHeight:100,minWidth:200},element:[],getters:[],setters:["dialog","open","close","ok","cancel","confirm","closed","reposition"],defer:function(b,c){a(b).css("display","none")},init:function(b,c){function d(){var c=document.activeElement;if("iframe"==c.tagName.toLowerCase())h=a(c).offset().top,c=c.contentWindow.document.activeElement;else if("body"==c.tagName.toLowerCase()){if(c=a(c).find(":focus"),!(c.length>0))return!1;c=c[0]}var d=a.alopex.util.getPagePosition(c).top+h,f=d+c.offsetHeight,i=a(window).height();f>=i&&g.windowheight>i?(g.liftedHeight=Math.abs(f-i)+50,g.lifted=!0,e.css("top",parseInt(b.style.top)-g.liftedHeight+"px")):g.windowheight<i&&g.lifted&&(e.css("top",parseInt(b.style.top)+g.liftedHeight+"px"),g.lifted=!1),g.windowheight=i}var e=a(b);for(var f in c)("true"===c[f]||"false"===c[f])&&(c[f]=a.alopex.util.parseBoolean(c[f])),a.alopex.util.isNumberType(c[f])&&(c[f]=parseInt(c[f],10));if(a.extend(b,this.properties,c),b.dialogmovable&&(b.movable=b.dialogmovable),b.dialogmodal&&(b.modal=b.dialogmodal),b.height&&e.css("height",b.height),b.width&&e.css("width",b.width),e.attr("style",(e.attr("style")?e.attr("style"):"")+";position:fixed;z-index:1001;opacity:0;overflow:hidden;"),a.alopex.util.isValid(e.children()[0])&&(b.contents=e.children()),this._setDialogType(b,b.dialogtype),this._setResizable(b,b.resizable),this._setMovable(b,b.movable),this._setModal(b,b.modal),"mobile"!=window.browser&&(e.on("pressed focusin",a.alopex.widget.dialog._clickMoveToTop),e.on("keydown",a.alopex.widget.dialog._addKeydownEvent),e.on("click",function(b){a(b.currentTarget).attr("tabindex","1")})),b.originWidth=e.width(),b.originHeight=e.height(),b.originMinWidth=b.minWidth,b.originMinHeight=b.minHeight,"mobile"==window.browser){var g=b;g.lifted=!1;var h=0;a(window).on("resize",d)}},_addKeydownEvent:function(b){var c=b.currentTarget,d=a(c),e=null!==b.keyCode?b.keyCode:b.which;switch(e){case 27:d.close();break;case 9:if(c.modal){var f="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";if(b.shiftKey){(document.activeElement===a(this)[0]||document.activeElement===a(this).find(f).first()[0])&&(a(d.find(f).last()).focus(),b.preventDefault());break}document.activeElement===a(this).find(f).last()[0]&&(a(d.find(f).first()).focus(),b.preventDefault())}}},_setDialogType:function(b,c){if(a(b.header).remove(),a(b.button).remove(),a(b.closebtn).remove(),a(b.confrimbtn).remove(),a(b.okbtn).remove(),a(b.cancelbtn).remove(),"blank"===c||"close"===c||"confirm"===c||"okcancel"===c){b.header=document.createElement("div"),a(b.header).attr("class","dialog_header Header");var d=a.alopex.util.isAlopexTheme();if(b.toggle&&d){var e=document.createElement("button");e.dialog=b,a(e).attr("class","DialogToggle"),a(e).click(function(c){var d=a.alopex.widget.dialog._dialogStandardHeight(b),f=a.alopex.widget.dialog._dialogHeaderHeight(b);c.currentTarget.dialog.folded?(a(c.currentTarget.dialog).animate({height:d+"px"},300,function(){(b.scroll||"true"===(b.contents&&b.contents.attr("data-dialog-scroll")))&&a.alopex.widget.dialog._calculateHeight(b)}),c.currentTarget.dialog.folded=!1,a(e).removeClass("Expanded")):(c.currentTarget.dialog.defaultHeight=a(c.currentTarget.dialog).height(),c.currentTarget.dialog.folded=!0,a(c.currentTarget.dialog).animate({height:f+"px"},300),a(e).addClass("Expanded")),a(b).trigger("dialogToggleEnd")}),this.addHoverHighlight(e),this.addPressHighlight(e),b.header.appendChild(e)}var f=document.createElement("button");f.dialog=b,a(f).attr("class","dialog_btn DialogBtn"),a(f).attr("type","button");var g=!0;a(f).click(function(c){a.alopex.util.isValid(b.xButtonClickCallback)&&"function"==typeof b.xButtonClickCallback&&(g=b.xButtonClickCallback(b)),g&&a(c.currentTarget.dialog).close()}),this.addHoverHighlight(f),this.addPressHighlight(f),b.header.appendChild(f),a(b).prepend(b.header),a.alopex.util.isValid(b.contents)&&a.each(b.contents,function(a,c){b.appendChild(c)}),"close"===c?(b.button=document.createElement("div"),b.closebtn=document.createElement("button"),b.closebtn.dialog=b,a(b.closebtn).text("Close"),0==d?(a(b.button).attr("class","dialog_btn DialogBtn"),this.addHoverHighlight(b.button),this.addPressHighlight(b.button),b.resizable||a(b.button).attr("style","padding-bottom:0px ;"),a(b.closebtn).attr("data-type","button"),a(b.closebtn).attr("style","float:right;")):(a(b.button).attr("class","Dialog-btnwrap"),this.addHoverHighlight(b.button),this.addPressHighlight(b.button),a(b.closebtn).attr("data-type","button"),a(b.closebtn).attr("class","Button Default")),a(b.closebtn).button(),a(b.closebtn).on("click",function(b){var c=b.currentTarget.dialog;a(c).close()}),b.button.appendChild(b.closebtn),b.appendChild(b.button)):"confirm"===c?(b.button=document.createElement("div"),b.confirmbtn=document.createElement("button"),a(b.confirmbtn).text("Confirm"),0==d?(a(b.button).attr("class","dialog_btn DialogBtn"),this.addHoverHighlight(b.button),this.addPressHighlight(b.button),b.resizable||a(b.button).attr("style","padding-bottom:0px ;"),a(b.confirmbtn).attr("data-type","button"),a(b.confirmbtn).attr("style","float:right;")):(a(b.button).attr("class","Dialog-btnwrap"),this.addHoverHighlight(b.button),this.addPressHighlight(b.button),a(b.confirmbtn).attr("data-type","button"),a(b.confirmbtn).attr("class","Button Default")),a(b.confirmbtn).button(),b.button.appendChild(b.confirmbtn),b.appendChild(b.button)):"okcancel"===c&&(b.button=document.createElement("div"),b.okbtn=document.createElement("button"),a(b.okbtn).text("Ok"),b.cancelbtn=document.createElement("button"),a(b.cancelbtn).text("Cancel"),0==d?(a(b.button).attr("class","dialog_btn DialogBtn"),this.addHoverHighlight(b.button),this.addPressHighlight(b.button),b.resizable||a(b.button).attr("style","padding-bottom:0px ;"),a(b.okbtn).attr("data-type","button"),a(b.okbtn).attr("style","position: absolute;right: 80px;"),a(b.cancelbtn).attr("data-type","button"),a(b.cancelbtn).attr("style","float:right;")):(a(b.button).attr("class","Dialog-btnwrap"),this.addHoverHighlight(b.button),this.addPressHighlight(b.button),a(b.okbtn).attr("data-type","button"),a(b.okbtn).attr("class","Button Default"),a(b.cancelbtn).attr("data-type","button"),a(b.cancelbtn).attr("class","Button Default")),a(b.okbtn).button(),a(b.cancelbtn).button(),b.button.appendChild(b.okbtn),b.button.appendChild(b.cancelbtn),b.appendChild(b.button))}},_setModal:function(b,c){!a.alopex.util.isValid(b.blocker)&&c&&(b.blocker=document.createElement("div"),b.blocker.dialog=b,b.parentNode.appendChild(b.blocker),a(b.blocker).addClass("af-dialog-mask "+a.alopex.config.defaultComponentClass.dialog+"-mask"),a(b.blocker).css({opacity:"0.5",overflow:"hidden",display:"none","z-index":"999",position:"fixed",left:"0",top:"0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)",width:"100%",height:"100%"}),(void 0==b.modalScroll||"true"!==b.modalScroll)&&a(b.blocker).on("touchstart touchmove",function(a){return a.preventDefault(),a.stopPropagation(),!1}),b.modalclose&&a(b.blocker).on("pressed",function(b){var c=b.currentTarget.dialog;a(c).close()}))},_setMovable:function(b,c){var d=a(b);a.alopex.widget.dialog;if(c&&"mobile"!==window.browser){var e=d.children().length;e>0&&(a.alopex.util.isValid(b.header)?(a(b.header).on("pressed",this._preMoveDialog),a(b.header).css("cursor","move")):(a(d.find("[data-dialog-movecursor=true]")[0]).on("pressed",this._preMoveDialog),a(d.find("[data-dialog-movecursor=true]")[0]).css("cursor","move")))}else a.alopex.util.isValid(b.header)?(a(b.header).off("pressed",this._preMoveDialog),a(b.header).css("cursor","")):(a(d.find("[data-dialog-movecursor=true]")[0]).off("pressed",this._preMoveDialog),a(d.find("[data-dialog-movecursor=true]")[0]).css("cursor",""))},_setResizable:function(b,c){a.alopex.widget.dialog;c&&"mobile"!==window.browser?(b.footer=document.createElement("div"),b.resizeHandleLeft=document.createElement("div"),a(b.resizeHandleLeft).attr("style","position:absolute;top:0px;left:0px;width:2px;height:100%;cursor:w-resize;"),b.resizeHandleRight=document.createElement("div"),a(b.resizeHandleRight).attr("style","position:absolute;top:0px;right:0px;width:2px;height:100%;cursor:col-resize;"),b.resizeHandleBottom=document.createElement("div"),a(b.resizeHandleBottom).attr("style","position:absolute;left:0px;bottom:0px;width:100%;height:2px;cursor:s-resize;"),b.resizeHandleBoth=document.createElement("div"),a(b.resizeHandleBoth).attr("class","resizeBtn ResizeBtn"),b.footer.appendChild(b.resizeHandleLeft),b.footer.appendChild(b.resizeHandleRight),b.footer.appendChild(b.resizeHandleBottom),b.footer.appendChild(b.resizeHandleBoth),b.appendChild(b.footer),b.resizeHandleLeft.dialog=b.resizeHandleRight.dialog=b.resizeHandleBottom.dialog=b.resizeHandleBoth.dialog=b,a(b.resizeHandleLeft).on("pressed",this._preResizeDialog),a(b.resizeHandleRight).on("pressed",this._preResizeDialog),a(b.resizeHandleBottom).on("pressed",this._preResizeDialog),a(b.resizeHandleBoth).on("pressed",this._preResizeDialog)):a(b.footer).remove()},_preMoveDialog:function(b,c){document.onselectstart=function(){return!1};var d=(a.alopex.widget.dialog,a(this).offset()),e={};e.x=c.pageX-d.left,e.y=c.pageY-d.top,e.element=b.currentTarget,a(document).on("move.alopexDialogMove",e,a.alopex.widget.dialog._moveDialog).on("unpressed.alopexDialogMove",e,a.alopex.widget.dialog._postMoveDialog)},_moveDialog:function(b,c){var d=c.pageX-a(window).scrollLeft(),e=c.pageY-a(window).scrollTop();if(b.data.element){var f=b.data.element,g=f.parentElement;return a(g).css("left",d-b.data.x+"px"),g.offsetLeft<=0&&a(g).css("left","0px"),g.offsetLeft>=a(window).width()-a(g).width()&&a(g).css("left",a(window).width()-a(g).width()+"px"),a(g).css("top",e-b.data.y+"px"),g.offsetTop<=0&&a(g).css("top","0px"),a(window).height()<=g.offsetTop+a(g).height()&&a(g).css("top",a(window).height()-a(g).height()+"px"),$a.util.isMobileOrTablet()?(b.preventDefault(),!1):void 0}},_postMoveDialog:function(b,c){a(document).off(".alopexDialogMove"),document.onselectstart=function(){return!0}},_preResizeDialog:function(b){var c=b.currentTarget,d=c.dialog;1==d.iframe&&1==d.resizable&&a(d).find("iframe").css("pointer-events","none");a.alopex.widget.dialog;a(d.resizeHandleLeft).on("swipemove",a.alopex.widget.dialog._resizeLeftDialog).on("unpressed",a.alopex.widget.dialog._postResizeDialog),a(d.resizeHandleRight).on("swipemove",a.alopex.widget.dialog._resizeRightDialog).on("unpressed",a.alopex.widget.dialog._postResizeDialog),a(d.resizeHandleBottom).on("swipemove",a.alopex.widget.dialog._resizeBottomDialog).on("unpressed",a.alopex.widget.dialog._postResizeDialog),a(d.resizeHandleBoth).on("swipemove",a.alopex.widget.dialog._resizeBothDialog).on("unpressed",a.alopex.widget.dialog._postResizeDialog),d.endWidth=d.offsetWidth,document.onselectstart=function(){return!1}},_postResizeDialog:function(b){var c=b.currentTarget,d=c.dialog;a(d.resizeHandleLeft).off("swipemove"),a(d.resizeHandleRight).off("swipemove"),a(d.resizeHandleBottom).off("swipemove"),a(d.resizeHandleBoth).off("swipemove"),1==d.iframe&&1==d.resizable&&a(d).find("iframe").css("pointer-events",""),a(d).trigger("dialogResizeEnd"),document.onselectstart=function(){return!0}},_resizeLeftDialogHandler:function(b,c){var d=c.pageX-a(window).scrollLeft(),e=b.currentTarget,f=e.parentElement.parentElement,g=a(window).width()-(f.offsetLeft+a(f).width()),h=f.offsetLeft-d,i=a(f).width()+h,j=a.alopex.widget.dialog._dialogStandardWidth(f),k=a.alopex.widget.dialog._dialogStandardMinWidth(f);if(k>=i)i=k,a(f).css("width",i+5+"px"),a(f).children().each(function(){"BUTTON"!==this.nodeName&&a(this).css("width",i+5+"px")}),g-c.startX<=k;else if(f.offsetLeft<=0)a(f).css("left","3px");else{parseInt(c.pageX)<0?a(f).css("left","0px"):a(f).css("left",d+"px"),0!=f.endWidth&&(j=f.endWidth),parseInt(c.pageX)<0?a(f).css("width",parseInt(c.startX)+j+"px"):a(f).css("width",parseInt(c.startX)-parseInt(c.pageX)+j+"px");a.alopex.util.getScrolledPosition(e);a(f).children().each(function(){"BUTTON"!==this.nodeName&&(parseInt(c.pageX)<0?a(this).css("width",parseInt(c.startX)+j+"px"):a(this).css("width",parseInt(c.startX)-parseInt(c.pageX)+j+"px"))})}},_resizeRightDialogHandler:function(b,c){document.onselectstart=function(){return!1};var d=b.currentTarget,e=d.parentElement.parentElement,f=null;f=$a.util.isMobileOrTablet()&&e.modal?c.pageX:c.pageX-a(window).scrollLeft();var g=f-e.offsetLeft,h=(a.alopex.widget.dialog._dialogStandardWidth(e),a.alopex.widget.dialog._dialogStandardMinWidth(e));h>g&&(g=h),a(e).css("width",g+"px"),a(e).children().each(function(){"BUTTON"!==this.nodeName&&a(this).css("width",g+"px")}),a(e).width()>=a(window).width()-e.offsetLeft&&(a(e).css("width",a(window).width()-e.offsetLeft-3+"px"),a(e).children().each(function(){"BUTTON"!==this.nodeName&&a(this).css("width",a(window).width()-e.offsetLeft+"px")}))},_resizeBottomDialogHandler:function(b,c){document.onselectstart=function(){return!1};var d=b.currentTarget,e=d.parentElement.parentElement,f=null;f=$a.util.isMobileOrTablet()&&e.modal?c.pageY:c.pageY-a(window).scrollTop();var g=f-e.offsetTop,h=(a.alopex.widget.dialog._dialogMinusHeight(e),a.alopex.widget.dialog._dialogScrollValid(e),a.alopex.widget.dialog._dialogResizableValid(e)),i=a.alopex.util.isAlopexTheme(),j=".contents",k=".dialog_btn",l=0;if(i){if(j=".Dialog-contents",k=".Dialog-btnwrap",a.alopex.util.isValid(e.button)){var m=a(e.button).css("margin-bottom").replace("px",""),n=a(e.button).find(".Button").css("line-height").replace("px","");l=Number(m)+Number(n)}1==e.toggle&&(b.currentTarget.dialog.folded=!1,a(e).find(".DialogToggle").removeClass("Expanded"))}if(h){var o=(a.alopex.widget.dialog._dialogStandardHeight(e),a.alopex.widget.dialog._dialogHeaderHeight(e)),p=a.alopex.widget.dialog._dialogStandardMinHeight(e);p>g?(a(e).css("height",p+"px"),a(e).find(j).css("height",p-o-l+"px"),1==e.iframe&&a(e).find("iframe").css("height",p-o-l+"px"),0==e.iframe&&a(e.contents).css("height",p-o+"px")):(a(e).css("height",g+"px"),a(e).find(j).css("height",g-o-l+"px"),1==e.iframe&&a(e).find("iframe").css("height",g-o+"px"),0==e.iframe&&a(e.contents).css("height",g-o+"px")),a(e).height()>=a(window).height()-e.offsetTop&&a(e).css("height",a(window).height()-e.offsetTop-3+"px")}},_resizeLeftDialog:function(b,c){return a.alopex.widget.dialog._resizeLeftDialogHandler(b,c),b.preventDefault(),!1},_resizeRightDialog:function(b,c){return a.alopex.widget.dialog._resizeRightDialogHandler(b,c),b.preventDefault(),!1},_resizeBottomDialog:function(b,c){return a.alopex.widget.dialog._resizeBottomDialogHandler(b,c),b.preventDefault(),!1},_resizeBothDialog:function(b,c){return a.alopex.widget.dialog._resizeRightDialogHandler(b,c),a.alopex.widget.dialog._resizeBottomDialogHandler(b,c),b.preventDefault(),!1},_clickMoveToTop:function(b){var c=a.alopex.widget.dialog,d=!0;a.each(c.dialoglist,function(a,b){return c.dialoglist[a].modal?void(d=!1):void 0}),d&&a.alopex.widget.dialog._moveToTop(b)},_moveToTop:function(b){var c=b?b.currentTarget:this.element[this.element.length-1],d=a(c),e=a.alopex.widget.dialog,f=e.dialoglist.length;return 1>=f?(d.css("z-index",e.maxZindex),void(c.modal&&a(c.blocker).css("z-index",e.maxZindex-1))):void a.each(e.dialoglist,function(b,g){if(e.dialoglist[b]===c){var h=e.dialoglist.splice(b,1);e.maxZindex=1e3+f,d.css("z-index",e.maxZindex),c.modal&&a(c.blocker).css("z-index",e.maxZindex-1),e.dialoglist=h.concat(e.dialoglist);for(var i=e.maxZindex,j=1;f>j;j++)i--,a(e.dialoglist[j]).css("z-index",i),e.dialoglist[j].modal&&a(e.dialoglist[j].blocker).css("z-index",i-1)}})},open:function(b,c,d){var e=a(b);if(!e.is(":visible")||"0"==e.css("opacity")){if(a.alopex.util.isValid(c)){a.alopex.util.isValid(c.height)&&e.css("height",c.height),a.alopex.util.isValid(c.width)&&e.css("width",c.width),a.alopex.util.isValid(c.top)&&(b.top=c.top),a.alopex.util.isValid(c.left)&&(b.left=c.left),void 0!==c.type?(b.dialogtype=c.type,a.alopex.util.isValid(c.toggle)&&(b.toggle=c.toggle),this._setDialogType(b,b.dialogtype)):void 0!==b.dialogtype&&this._setDialogType(b,b.dialogtype),a.alopex.util.isValid(c.resizable)&&this._setResizable(b,c.resizable),a.alopex.util.isValid(c.movable)&&this._setMovable(b,c.movable),a.alopex.util.isValid(c.modal)&&this._setModal(b,c.modal);for(h in c)("true"===c[h]||"false"===c[h])&&(c[h]=a.alopex.util.parseBoolean(c[h])),a.alopex.util.isNumberType(c[h])&&(c[h]=parseInt(c[h],10));a.extend(b,c)}a.alopex.util.isValid(document.activeElement)&&"BODY"!==document.activeElement.tagName?b.target=document.activeElement:a.alopex.util.isValid(window.event)&&(b.target=window.event.srcElement);var f=e.children();if(f.length>0&&a.alopex.util.isValid(b.title)&&null!==b.dialogtype&&"null"!==b.dialogtype){for(var g=a(f[0]).contents(),h=0;h<g.length;h++)3===g[h].nodeType&&f[0].removeChild(g[h]);0==b.title||"false"==b.title?a(f[0]).remove():a(f[0]).append(b.title)}if(b.modal&&(a(b.blocker).css("display","block"),b.modalscrollhidden&&"fixed"!=document.body.style.position&&"absolute"!=document.body.style.position)){this.bodyposition=document.body.style.position,this.bodywidth=document.body.style.width;a.alopex.widget.dialog._scrollbarWidth();"ie"===window.browser||a.alopex.util.isValid(window.browser)&&-1!==window.browser.indexOf("Microsoft Internet Explorer")?b.scrollTopValue=a(document.documentElement).scrollTop():b.scrollTopValue=a(document.body).scrollTop(),a("body").css({top:-1*b.scrollTopValue+"px",position:"fixed",width:a("body").innerWidth()+"px"})}e.css("display","block"),e.css("opacity","1"),(e.closest("[data-carousel]").length>0||e.closest("[data-carousel]").length>0)&&(e.appendTo("body"),a(b.blocker).appendTo("body"));var i=(a(window).height()-b.offsetHeight)/2,j=(a(window).width()-b.offsetWidth)/2;switch(a.alopex.util.isValid(b.top)?e.css("top",b.top+"px"):e.css("top",i+10*this.dialoglist.length+"px"),a.alopex.util.isValid(b.left)?e.css("left",b.left+"px"):e.css("left",j+10*this.dialoglist.length+"px"),b.scroll&&b.contents&&b.contents.attr("data-dialog-scroll",!0),(b.scroll||"true"===(b.contents&&b.contents.attr("data-dialog-scroll")))&&this._calculateHeight(b),b.animation){case"slide":e.css("top",-1*b.offsetHeight+"px"),e.animate({top:a.alopex.util.isValid(b.top)?b.top:i+10*this.dialoglist.length+"px"},b.animationtime);break;case"fade":e.css("opacity","0"),e.animate({opacity:"1"},b.animationtime)}this.element.push(b),this.dialoglist.push(b),this._moveToTop(),b.windowheight=a(window).height(),a(window).bind("resize.dialogWin",function(c){a.alopex.widget.dialog._reposition(c,b)});var k="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";e.find(k).eq(0).focus(),d&&d.apply();var l=/Alopex_Popup_/.test(e.attr("id"));if(0==l){var m=a.alopex.util.isAlopexTheme(),n=".contents",o=".dialog_btn",p=0;if(m&&(n=".Dialog-contents",o=".Dialog-btnwrap",a.alopex.util.isValid(b.button))){var q=a(b.button).css("margin-bottom").replace("px",""),r=a(b.button).find(".Button").css("line-height").replace("px","");p=Number(q)+Number(r)}var s=a.alopex.widget.dialog._dialogStandardWidth(b),t=a.alopex.widget.dialog._dialogStandardHeight(b),u=a.alopex.widget.dialog._dialogHeaderHeight(b);e.find(n).css("width",s+"px"),e.find(o).css("width",s+"px"),e.find(".ResizeBtn").parents("div").eq(0).css("width",s+"px"),a(b.header).css("width",s+"px"),p>0?e.find(n).css("height",t-u-p+"px"):e.find(n).css("height",t-u+"px")}e.trigger("open")}},closed:function(b,c){a(b.closebtn).on("click",function(){c()})},ok:function(b,c){a(b.okbtn).on("click",function(){c()})},cancel:function(b,c){a(b.cancelbtn).on("click",function(){c()})},confirm:function(b,c){a(b.confirmbtn).on("click",function(){c()})},close:function(b,c){var d=a(b);try{if(a.alopex.util.isValid(c)?b.closecallback=c:b.closecallback="",d.is(":hidden"))return;for(var e=0;e<this.element.length;e++)if(b==this.element[e]){this.element.splice(e,1);break}d.css("z-index",1001),a.alopex.util.arrayremove(this.dialoglist,b),0==this.dialoglist.length&&(this.maxZindex=1001);var f=/Alopex_Popup_/.test(d.attr("id"));if(0==f&&b.modal){var g=document.body,h=Math.abs(parseInt(g.style.top));a(g).css({top:"",position:this.bodyposition?this.bodyposition:"",width:this.bodywidth?this.bodywidth:""}),"ie"===window.browser||a.alopex.util.isValid(window.browser)&&-1!==window.browser.indexOf("Microsoft Internet Explorer")?a(document.documentElement).scrollTop(b.scrollTopValue):a(g).scrollTop(h)}b.iframe===!0&&(a(b).find("iframe")[0].src="about: blank"),a(b).trigger("close"),"mobile"==window.browser?setTimeout(function(){a.alopex.widget.dialog._close(b)},400):a.alopex.widget.dialog._close(b),a(window).unbind("resize.dialogWin"),a(b.okbtn).off("click"),a(b.cancelbtn).off("click"),a(b.closebtn).off("click"),a(b.confirmbtn).off("click"),a.alopex.util.isValid(b.target)&&a(b.target).focus()}catch(i){}},_close:function(b){var c=a(b);switch(b.animation){case"slide":c.animate({top:-1*b.offsetHeight+"px"},b.animationtime,function(d){b.modal&&a(b.blocker).css("display","none"),c.css("display","none")});break;case"fade":c.animate({opacity:"0"},b.animationtime,function(d){b.modal&&a(b.blocker).css("display","none"),c.css("display","none")});break;default:b.modal&&a(b.blocker).css("display","none"),c.css("display","none")}a.alopex.util.isValid(b.closecallback)&&b.closecallback()},_calculateHeight:function(b){var c=a(b),d=c.outerHeight(!0),e=0;c.children().each(function(b,c){var d=["meta","title","script","link"];a(c).attr("data-dialog-scroll")||"absolute"===a(c).css("position")||-1!==a.inArray(c.nodeName.toLowerCase(),d)||(e+=a(c).outerHeight(!0))});var f=(a.alopex.widget.dialog._dialogMinusHeight(b),a.alopex.widget.dialog._dialogScrollValid(b)),g=a.alopex.util.isAlopexTheme(),h=".contents",i=".dialog_btn",j=0;if(g&&(h=".Dialog-contents",i=".Dialog-btnwrap",a.alopex.util.isValid(b.button))){var k=a(b.button).css("margin-bottom").replace("px",""),l=a(b.button).find(".Button").css("line-height").replace("px","");j=Number(k)+Number(l)}f?c.find("[data-dialog-scroll=true]").css("height",d-e-j+"px"):c.find("[data-dialog-scroll=true]").css("height",d-e+"px"),c.find("[data-dialog-scroll=true]").css("overflow-y","auto")},reposition:function(b){var c=a(b);if(a.alopex.util.isValid(b.top)){var d=(a(window).height()-c.outerHeight())/2;c.css("top",d+10*a.alopex.widget.dialog.dialoglist.length+"px")}if(a.alopex.util.isValid(b.left)){var e=(a(window).width()-c.outerWidth())/2;c.css("left",e+10*a.alopex.widget.dialog.dialoglist.length+"px")}a.alopex.util.isValid(b)&&b.modal&&(a(b.blocker).css("height",a(document).height()+"px"),a(b.blocker).css("width",a(document).width()+"px"))},_reposition:function(b,c){b.preventDefault();var d=a(c);if(!a.alopex.util.isValid(c.top)){var e=(a(window).height()-d.outerHeight())/2;d.css("top",e+10*a.alopex.widget.dialog.dialoglist.length+"px")}if(!a.alopex.util.isValid(c.left)){var f=(a(window).width()-d.outerWidth())/2;d.css("left",f+10*a.alopex.widget.dialog.dialoglist.length+"px")}a.alopex.util.isValid(c)&&c.modal&&(a(c.blocker).css("height",a(document).height()+"px"),a(c.blocker).css("width",a(document).width()+"px"))},_dialogStandardHeight:function(b){return a.alopex.util.isValid(b)?a.alopex.util.isValid(b.height)?b.height:b.originHeight:0},_dialogStandardWidth:function(b){return a.alopex.util.isValid(b)?a.alopex.util.isValid(b.width)?b.width:b.originWidth:0},_dialogStandardMinHeight:function(b){return a.alopex.util.isValid(b)?a.alopex.util.isValid(b.minHeight)?b.minHeight:b.originMinHeight:0},_dialogStandardMinWidth:function(b){return a.alopex.util.isValid(b)?a.alopex.util.isValid(b.minWidth)?b.minWidth:b.originMinWidth:0},_dialogMinusHeight:function(b){var c=0;return"contents"==a(b.contents).attr("class")&&(c=18),"Dialog-contents"==a(b.contents).attr("class")&&(c=14),c},_dialogHeaderHeight:function(b){return a.alopex.util.isValid(b)&&a.alopex.util.isValid(b.header)?a(b.header).height():0},_dialogScrollValid:function(b){var c=!1;return 1==b.scroll&&(c=!0),(1==a(b.contents).attr("data-dialog-scroll")||"true"==a(b.contents).attr("data-dialog-scroll"))&&(c=!0),c},_scrollbarWidth:function(){var b;if(void 0===b){var c=a("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),d=a("<div>").css({width:"100%"}).appendTo(c).width();c.remove(),b=99-d}return b},_dialogResizableValid:function(b){var c=!1;return 1==b.resizable&&(c=!0),(1==a(b).attr("data-resizable")||"true"==a(b).attr("data-resizable"))&&(c=!0),c},id:{value:null,enumerable:!0,configurable:!1,writable:!0}})}(jQuery),function(a){a.alopex.widget.divselect=a.alopex.inherit(a.alopex.widget.object,{widgetName:"divselect",defaultClassName:"af-select Divselect",eventHandlers:{change:{event:"change",handler:"_changeHandler"}},getters:["getValues","getTexts"],setters:["divselect","setPlaceholder","setSelected","clear","refresh","setEnabled","selectionInitialization"],properties:{select:null},markup:function(a){},init:function(b,c){var d=a(b);if("div"==b.tagName.toLowerCase()){var e=b,f=a(e);d=f.find(">select"),b=d[0],d.on("focus",function(){f.addClass("ui-state-focus")}),d.on("blur",function(){f.removeClass("ui-state-focus")})}else d.wrap('<div class="af-select-wrapper '+b.className+'" af-dynamic data-select-wrapper="true"></div>'),a(b.parentNode).append("<span></span>"),b.divSelect=b.parentNode;c.placeholder&&this.setPlaceholder(b,c.placeholder);var g=d.find(":selected");if(a.alopex.util.isValid(g[0])){var h=g.text();this._setText(b.parentNode,h),b.divSelect?b.divSelect._value=g.val():b._value=g.val()}},selectionInitialization:function(b){var c=null;"div"==b.tagName.toLowerCase()&&(c=a(b).find(">select")[0]),a.alopex.widget.baseselect.selectionInitialization(c),this.refresh(b)},_changeHandler:function(b){var c;c="select"==b.currentTarget.tagName.toLowerCase()?b.currentTarget.parentNode:b.currentTarget;var d=a(b.currentTarget).find(":selected")[0];if(c._value=a(d).val()?a(d).val().toString():"",c._text=a(d).text()?a(d).text().toString():"",a.alopex.util.isValid(d)){var e=a(d).text();a.alopex.widget.divselect._setText(c,e)}},setPlaceholder:function(b,c){"div"==b.tagName.toLowerCase()&&(b=a(b).find(">select")[0]),a.alopex.widget.baseselect.setPlaceholder(b,c)},setSelected:function(b,c){"div"==b.tagName.toLowerCase()&&(b=a(b).find(">select")[0]),a.alopex.widget.baseselect.setSelected(b,c)},refresh:function(b){"div"==b.tagName.toLowerCase()&&(b=a(b).find(">select")[0]),a.alopex.widget.baseselect.refresh(b)},getValues:function(b){return"div"==b.tagName.toLowerCase()&&(b=a(b).find(">select")[0]),a.alopex.widget.baseselect.getValues(b)},getTexts:function(b){return"div"==b.tagName.toLowerCase()&&(b=a(b).find(">select")[0]),a.alopex.widget.baseselect.getTexts(b)},clear:function(b){"div"==b.tagName.toLowerCase()&&(b=a(b).find(">select")[0]),a.alopex.widget.baseselect.clear(b)},setEnabled:function(b,c){"div"==b.tagName.toLowerCase()&&(b=a(b).find(">select")[0]),a.alopex.widget.baseselect.setEnabled(b,c),c?a(b.parentNode).removeClass("af-disabled Disabled"):a(b.parentNode).addClass("af-disabled Disabled")},_setText:function(b,c){c=c||"",a(b).find(">span").text(c)}})}(jQuery),function(a){a.alopex.widget.dropdown=a.alopex.inherit(a.alopex.widget.object,{widgetName:"dropdown",defaultClassName:"af-dropdown Dropdown",setters:["dropdown","addHandler","setDataSource","open","close","toggle","refresh","select"],getters:["getDataSource"],markup:function(b,c){a(b);a.extend(!0,b,{opentrigger:"click",closetrigger:"click",submenutrigger:null,base:a(b).prev(),curstate:"closed",position:"bottom",cssstyle:{position:"absolute",top:"0px",left:"0px"},trigger:"click",margin:3,focusmove:"false",classname:[""],callback:[]},c);var d=a(b.base);0!==d.length&&(b.base=d[0],d.each(function(){this.dropdown=b}),d.attr("tabindex","0"),this.refresh(b))},_baseEventBind:function(b){var c=a(b.base);return 0===c.length?void console.log(b.base+" is an INVALID selector"):(b.base=c[0],c.each(function(){this.dropdown=b}),c.attr("tabindex","0"),this.refresh(b),void 0!==b.opentrigger&&b.opentrigger===b.closetrigger?c.on(b.opentrigger,a.alopex.widget.dropdown._toggle):(b.opentrigger&&c.on(b.opentrigger,a.alopex.widget.dropdown._open),b.closetrigger&&c.on(b.closetrigger,a.alopex.widget.dropdown._close)),c.on("blur",a.alopex.widget.dropdown._blurHandler),void c.on("keydown",a.alopex.widget.dropdown._inputBaseKeyDownHandler))},init:function(b,c){var d=a(b),e=a(b).find("li");if(e.length){var f=[];e.each(function(){var b={};b=a.extend(b,{id:a(this).attr("id"),text:a(this).text()});var c=a(this).find("a");c.length&&(b=a.extend({},b,{link:c.attr("href")})),f.push(b)}),b.userInputDataSource=f}else b.userInputDataSource=a(b).html();d.on("click","li",{element:b},a.alopex.widget.dropdown._clickHandler),d.on("keyup","li",{element:b},a.alopex.widget.dropdown._keyupHandler),"click"===b.submenutrigger?d.on("click","li",{element:b},a.alopex.widget.dropdown._toggleHandler):(d.on("mouseenter","li",{element:b},a.alopex.widget.dropdown._openSubmenu),d.on("mouseleave","li",{element:b},a.alopex.widget.dropdown._closeSubmenu)),d.on("mouseleave mouseenter","li.af-menuitem",function(b){var c=b.currentTarget,d=a(c),e=d.closest("[data-type]");e.find("*").filter(".af-focused.Focused").removeClass("af-focused Focused");var f=a(b.currentTarget).find("input");if(f){var g=a(b.currentTarget).find("input").attr("type");if("checkbox"==g||"text"==g||"button"==g)return}var h=a(b.currentTarget).find("select");h.length>0||-1===c.className.indexOf("af-disabled Disabled")&&d.addClass("af-focused Focused")}),this._baseEventBind(b),a(b).bind("keydown",a.alopex.widget.dropdown._inputBaseKeyDownHandler)},refresh:function(b){var c=a(b);c.find("li").each(function(){var b=a(this);"divider"===b.attr("data-role")?b.addClass("af-dropdown-divider"):"header"===b.attr("data-role")?b.addClass("af-dropdown-header"):b.addClass("af-menuitem")}),c.find("ul").addClass("af-submenu"),c.find(".af-submenu").parent().addClass("af-expandable"),c.find(".af-submenu").parent().addClass("Expandable"),c.css(b.cssstyle),c.hide()},_blurHandler:function(a){a.currentTarget.dropdown},addHandler:function(a,b){a.callback.push(b)},_toggle:function(b){var c=b.currentTarget,d=c.dropdown;a(d).toggle()},_open:function(b){var c=b.currentTarget,d=c.dropdown;a.alopex.util.isValid(d.userInputDataSource)?a(d).open():console.error("Dropdown Element has no data")},_close:function(b){if("mouseleave"!==b.type){var c=b.currentTarget,d=c.dropdown;return void a(d).close()}var e,f,g=b;if(a(b.currentTarget).filter("ul.Dropdown").length>0){var d=b.currentTarget,h=a(b.currentTarget);return h.close(),void h.off(d.closetrigger,a.alopex.widget.dropdown._close)}g.mouseMoveHandler=function(a,b){e=a.pageX,f=a.pageY},a(document).on("mousemove",g.mouseMoveHandler);var i=function(b){var c=b.currentTarget,d=c.dropdown,g=e,h=f,i=a(d).offset().top,j=a(d).offset().left,k=a(d).outerHeight(),l=a(d).outerWidth();g>=j&&j+l>=g&&h>=i&&i+k>=h||a(d).close(),a(document).off("mousemove",b.mouseMoveHandler)};a.alopex.util.delayFunction(i,200,g)},_closeByKey:function(b){for(var c=b.target,d=a.alopex.widget.dropdown.activeList,e=0;e<d.length;e++){var f=a.alopex.widget.dropdown.activeList.shift();f!==c&&0===a(c).closest(f).length&&f.base!==c&&0===a(c).closest(f.base).length?setTimeout(function(){a(f).close()},200):a.alopex.widget.dropdown.activeList.push(f)}},toggle:function(b){var c=a(b);"closed"===b.curstate&&a.alopex.util.isValid(b.userInputDataSource)?c.open():c.close()},_toggleHandler:function(b){var c=b.currentTarget;-1!==c.className.indexOf("af-expandable")&&a.alopex.widget.dropdown.toggleSubmenu(c);
},_keyupHandler:function(b){for(var c=b.currentTarget,d=b.data.element,e=0;e<d.callback.length;e++)d.callback[e].apply(d,[b]);var f=a(c).find("ul");if(!(f.length>0)){var g=a(c).find("input");if(g){var h=a(c).find("input").attr("type");if("checkbox"==h||"text"==h)return}var i=a(c).find("select");i.length>0||((d.base.tagName&&"input"===d.base.tagName.toLowerCase()||d.base.tagName&&"button"===d.base.tagName.toLowerCase()||void 0!==b.which)&&("empty"!=a(c).attr("data-role")&&a(c).text()&&a(d.base).val(a(c).text()).change(),a(d).close(),""!=a(d).find(".af-focused.Focused").children("a").attr("href")&&void 0!=a(d).find(".af-focused.Focused").children("a").attr("href")&&(a.alopex.util.isValid(a(d).find(".af-focused.Focused").children("a").attr("target"))?window.open(a(d).find(".af-focused.Focused").children("a").attr("href"),a(d).find(".af-focused.Focused").children("a").attr("target")):location.href=a(d).find(".af-focused.Focused").children("a").attr("href"))),a(d).trigger("select",d))}},_clickHandler:function(b){for(var c=b.currentTarget,d=b.data.element,e=0;e<d.callback.length;e++)d.callback[e].apply(d,[b]);var f=a(c).find("ul");if(!(f.length>0)){var g=a(c).find("input");if(g){var h=a(c).find("input").attr("type");if("checkbox"==h||"text"==h)return}var i=a(c).find("select");i.length>0||((d.base.tagName&&"input"===d.base.tagName.toLowerCase()||d.base.tagName&&"button"===d.base.tagName.toLowerCase()||void 0!==b.which)&&("empty"!=a(c).attr("data-role")&&a(c).text()&&a(d.base).val(a(c).text()).change(),a(d).close()),a(d).trigger("select",d))}},_openSubmenu:function(b){var c=b.currentTarget;a.alopex.widget.dropdown.openSubmenu(c)},_closeSubmenu:function(b){var c=b.currentTarget;a.alopex.widget.dropdown.closeSubmenu(c)},openSubmenu:function(b){var c=a(b),d=a(b).find("input");if(d){var e=a(b).find("input").attr("type");if("checkbox"==e||"text"==e||"button"==e)return}var f=a(b).find("select");f.length>0||c.attr("class")&&-1!==c.attr("class").indexOf("af-expandable")&&(c.addClass("af-expanded"),c.find("> ul").css("display","inline-block"))},closeSubmenu:function(b){var c=a(b),d=a(b).find("input");if(d){var e=a(b).find("input").attr("type");if("checkbox"==e||"text"==e||"button"==e)return}var f=a(b).find("select");f.length>0||c.attr("class")&&-1!==c.attr("class").indexOf("af-expandable")&&(c.removeClass("af-expanded"),c.find("> ul").css("display","none"))},toggleSubmenu:function(b){var c=a(b);-1!==c.attr("class").indexOf("af-expanded")?a.alopex.widget.dropdown.closeSubmenu(b):a.alopex.widget.dropdown.openSubmenu(b)},_htmlGenerator:function(b){for(var c="",d=0;d<b.length;d++)c+="<li",void 0!==b[d].id&&(c+=' id="'+b[d].id+'"'),c+="><a",void 0!==b[d].link&&(c+=' href="'+b[d].link+'"'),c+=">",void 0!==b[d].text&&(c+=b[d].text),b[d].items?(c+="</a><ul>",c+=a.alopex.widget.dropdown._htmlGenerator(b[d].items),c+="</ul></li>"):c+="</a></li>";return c},getDataSource:function(b){return a.alopex.util.isValid(b.userInputDataSource)?b.userInputDataSource:void 0},setDataSource:function(b,c){var d=a(b);switch(typeof c){case"string":d.html(c);break;case"object":d.html(a.alopex.widget.dropdown._htmlGenerator(c))}a(b).refresh(),b.userInputDataSource=c},_inputBaseKeyDownHandler:function(b){var c=this,d=c.dropdown;if("undefined"!=typeof d)if(40===b.which)"closed"===d.curstate&&a(d).open(),a.alopex.widget.dropdown._focusNext(d),b.preventDefault();else if(38===b.which)a.alopex.widget.dropdown._focusPrev(d),b.preventDefault();else if(27===b.which)a(d).close();else if(39===b.which)a.alopex.widget.dropdown._focusChild(d);else if(37===b.which)a.alopex.widget.dropdown._focusParent(d);else if(13===b.which){var e=a(d).find(".af-focused.Focused");e.length>0&&(b.preventDefault(),a(d).find(".af-focused.Focused").trigger("keyup"))}},_select:function(a){},_focus:function(b,c){a(b).find(".af-focused.Focused").removeClass("af-focused Focused"),a(c).addClass("af-focused Focused"),"true"===b.focusmove&&c.focus();var d=c.parentNode;try{c.offsetTop+c.offsetHeight>d.offsetHeight&&(d.scrollTop=c.offsetTop+c.offsetHeight-d.offsetHeight)}catch(e){}},_isValidMenu:function(a){if(a.length<=0)return!0;var b=a[0];return b.className?-1===b.className.indexOf("af-menuitem")?!1:-1!==b.className.indexOf("af-disabled Disabled")?!1:-1!==b.className.indexOf("af-dropdown-header")?!1:-1!==b.className.indexOf("af-dropdown-divider")?!1:!0:!1},_focusPrev:function(b){void 0===typeof b&&(b=this);for(var c=a(b),d=c.find(".af-focused.Focused"),e=d.prev("li");!a.alopex.widget.dropdown._isValidMenu(e);)e=e.prev("li");0!==d.length&&e.length>0&&a.alopex.widget.dropdown._focus(b,e[0])},_focusNext:function(b){void 0===typeof b&&(b=this);for(var c=a(b),d=c.find(".af-focused.Focused"),e=d.next("li");!a.alopex.widget.dropdown._isValidMenu(e);)e=e.next("li");0===d.length&&c.find("li").length>0?a.alopex.widget.dropdown._focus(b,c.find("li")[0]):0!==e.length&&a.alopex.widget.dropdown._focus(b,e[0])},_focusChild:function(b){void 0===typeof b&&(b=this);var c=a(b),d=c.find(".af-focused.Focused"),e=d.find(".af-submenu");e.length>0&&e.find("li.af-menuitem").length>0&&(a.alopex.widget.dropdown.openSubmenu(d[0]),a.alopex.widget.dropdown._focus(b,e.find("li.af-menuitem")[0]))},_focusParent:function(b){void 0===typeof b&&(b=this);var c=a(b),d=c.find(".af-focused.Focused"),e=d.parents(".af-expandable").eq(0);e.length>0&&(a.alopex.widget.dropdown.closeSubmenu(e[0]),a.alopex.widget.dropdown._focus(b,e[0]))},activeList:[],open:function(b,c){var d=a(b);if($a.util.isValid(c)&&$a.util.isStringType(c)){var e=a(b.base);0!==e.length&&(void 0!==b.opentrigger&&b.opentrigger===b.closetrigger?e.off(b.opentrigger,a.alopex.widget.dropdown._toggle):(b.opentrigger&&e.off(b.opentrigger,a.alopex.widget.dropdown._open),b.closetrigger&&e.off(b.closetrigger,a.alopex.widget.dropdown._close)),e.off("blur",a.alopex.widget.dropdown._blurHandler),e.off("keydown",a.alopex.widget.dropdown._inputBaseKeyDownHandler)),b.base=c,a.alopex.widget.dropdown._baseEventBind(b),d.find(".af-focused.Focused").removeClass("af-focused Focused")}d.css({display:"block"});for(var f=b.offsetWidth,g=b.offsetHeight,h=b.base.offsetWidth,i=b.base.offsetHeight,j=b.offsetParent;j&&j!==document.body&&"relative"!==a(j).css("position")&&"absolute"!==a(j).css("position");)j=j.offsetParent;var k=a.alopex.util.getRelativePosition(b.base),l=a.alopex.util.getRelativePosition(j),m=k.left-l.left,n=k.top-l.top;if("fixed"===a(b.offsetParent).css("position")){var o=a(b.base).position();m=o.left,n=o.top}var p=0,q=0;switch(b.position){case"top":q=m,p=n-g-b.margin;break;case"left":q=m-f-b.margin,p=n;break;case"right":q=m+h+b.margin,p=n;break;case"bottom":default:q=m,p=n+i+b.margin}d.css({left:q+"px",top:p+"px"}),a.alopex.widget.dropdown.activeList.push(b),b.curstate="opened",a(document).bind("pressed",a.alopex.widget.dropdown._closeByKey)},close:function(b){for(var c=a(b),d=0;d<a.alopex.widget.dropdown.activeList.length;d++)if(a.alopex.widget.dropdown.activeList[d]===b){a.alopex.widget.dropdown.activeList.splice(d,1);break}b.curstate="closed",c.hide(),a(document).unbind("pressed",a.alopex.widget.dropdown._closeByKey),c.trigger("close.dropdown")},select:function(b,c){if(a.alopex.util.isValid(c)){var d=null;if($a.util.isNumberType(c)?d=a(b).find("li>a").eq(c):a.isPlainObject(c)&&$a.util.isValid(c.id)&&(d=a(b).find("li#"+c.id+">a")),d&&0!==d.length){d[0].click();var e=d.parent("li.af-menuitem");0!==e.length&&a.alopex.widget.dropdown._focus(b,e[0])}}}})}(jQuery),function(a){a.alopex.widget.dropdownbutton=a.alopex.inherit(a.alopex.widget.object,{widgetName:"dropdownbutton",defaultClassName:"af-button af-dropdownbutton Dropdownbutton",setters:["dropdownbutton","setText","addHandler","setDataSource","select"],getters:["getText","getDataSource"],properties:{dropdown:null,update:"true"},init:function(b,c){"div"==b.tagName.toLowerCase()&&(b=a(b).find(">button, >a, >input"));var d=a(b),e=d.next().add(a(c.menu));0!==e.length&&"ul"===e[0].tagName.toLowerCase()&&(a.extend(b,a.alopex.widget.dropdownbutton.properties,c),b.dropdown=e[0],a(b).button(),e.attr("data-type","dropdown").dropdown(),b.dropdown.base=b)},defer:function(b,c){"div"==b.tagName.toLowerCase()&&(b=a(b).find(">button, >a, >input"));var d=a(b.dropdown);d.addHandler(a.alopex.widget.dropdownbutton._defaultHandler)},_defaultHandler:function(b){var c=b.data.element,d=b.currentTarget,e=a(d).text();"false"!==c.base.update&&0==a(d).find("ul").length&&a(c.base).text(e),b.stopPropagation()},setText:function(b,c){"div"==b.tagName.toLowerCase()&&(b=a(b).find(">button, >a, >input")),a(b).text(c)},getText:function(b){return"div"==b.tagName.toLowerCase()&&(b=a(b).find(">button, >a, >input")),a(b).text()},addHandler:function(b,c){"div"==b.tagName.toLowerCase()&&(b=a(b).find(">button, >a, >input")),a(b.dropdown).addHandler(c)},setDataSource:function(b,c){"div"==b.tagName.toLowerCase()&&(b=a(b).find(">button, >a, >input")),a(b.dropdown).setDataSource(c)},getDataSource:function(b){return a(b.dropdown).getDataSource()},select:function(b,c){"div"==b.tagName.toLowerCase()&&(b=a(b).find(">button, >a, >input")),a(b.dropdown).select(c)}})}(jQuery),function(a){a.alopex.widget.group=a.alopex.inherit(a.alopex.widget.object,{widgetName:"group",defaultClassName:"af-group af-horizontal",setters:["group","setOrient"],getters:[],init:function(b){var c=a(b);a.alopex.util.isValid(c.attr("data-orient"))&&(b.orient=c.attr("data-orient"),"vertical"===b.orient&&(a(b).removeClass("af-horizontal"),a(b).addClass("af-vertical")));var d=c.find("input");0!==d.length&&(c.on("change",this._changeEventHandler),a(b).trigger("change"))},_changeEventHandler:function(b){var c=a(b.currentTarget).find("input");c.removeClass("af-checked Checked"),c.filter(":checked").each(function(){var b;b=this.id?a('label[for="'+this.id+'"]'):a(this).parent("label"),b.addClass("af-checked Checked")})},setOrient:function(b,c){a(b).removeClass("af-horizontal"),a(b).removeClass("af-vertical"),a(b).addClass("af-"+c)}})}(jQuery),function(a){a.alopex.widget.groupbutton=a.alopex.inherit(a.alopex.widget.group,{widgetName:"groupbutton",defaultClassName:"af-groupbutton Groupbutton",defaultThemeName:"af-default af-horizontal",setters:["groupbutton"],getters:[],init:function(b){var c=a(b);c.on("change","input",function(b){var d=b.currentTarget;if(a(d).parent("label").length>0)for(var e=c.find("input"),f=0;f<e.length;f++)e.eq(f).is(":checked")?e.eq(f).parent("label").addClass("af-checked Checked"):e.eq(f).parent("label").removeClass("af-checked Checked")})}})}(jQuery),function(a){a.alopex.widget.icon=a.alopex.inherit(a.alopex.widget.object,{widgetName:"icon",defaultClassName:"af-icon Icon",setters:["icon","setIcon"],setIcon:function(b,c){a(b).addClass(c)},properties:{position:"default",size:14},init:function(b,c){var d=a(b);a.alopex.util.isValid(b.display)?a(b).css("display",b.display):a(b).css("display","inline-block");var e=a(b.parentNode);if(e.attr("class")&&-1!=e.attr("class").indexOf("Button")){d.css("position","absolute");var f=this._getProperty(b,"position"),g=this._getProperty(b,"size");switch(f){case"center":d.css({top:"50%",left:"50%","margin-top":"-"+parseInt(g,10)/2+"px","margin-left":"-"+parseInt(g,10)/2+"px"}),e.prepend(d),e.addClass("af-icon-center");break;case"top":d.css({top:"10px",left:"50%","margin-left":"-"+parseInt(g,10)/2+"px"}),e.prepend(d),e.addClass("af-icon-top"),e.css({"padding-top":5*parseInt(g,10)/4+"px"});break;case"bottom":d.css({bottom:"10px",left:"50%","margin-left":"-"+parseInt(g,10)/2+"px"}),e.append(d),e.addClass("af-icon-bottom"),e.css({"padding-bottom":5*parseInt(g,10)/4+"px"});break;case"right":d.css({right:"10px",top:"50%","margin-top":"-"+parseInt(g,10)/2+"px"}),e.append(d),e.addClass("af-icon-right"),e.css({"padding-right":14+5*parseInt(g,10)/4+"px"});break;case"left":default:d.css({left:"10px",top:"50%","margin-top":"-"+parseInt(g,10)/2+"px"}),e.prepend(d),e.addClass("af-icon-left"),e.css("padding-left",14+5*parseInt(g,10)/4+"px")}}}})}(jQuery),function(a){a.alopex.widget.list=a.alopex.inherit(a.alopex.widget.object,{widgetName:"list",defaultClassName:"af-list List",setters:["list","refresh"],eventHandlers:{hover:{event:"mouseover",handler:""}},event:function(a){this.addHoverHighlight(a,"li"),this.addPressHighlight(a,"li")},init:function(a){this.refresh.call(this,a)},refresh:function(b){var c=this;a(b).find(">li").each(function(){var d=this;if("true"!==a(d).attr("data-converted")){a(d).bind("click",function(b){var c=b.currentTarget;a(c).siblings("li").removeClass("af-pressed"),a(c).addClass("af-pressed")}),a.alopex.util.isValid(a(d).attr("class"))||("divider"===a(d).attr("data-role")?a(d).addClass("af-list-divider"):a(d).addClass("af-list-row"));var e;1===a(d).find("img").length&&(e=a(d).find("img")[0],a(e).addClass("af-list-thumbnail"),a.alopex.util.parseBoolean(a(e).attr("data-icon"))),a(d).find("h1, h2, h3").each(function(){a(this).addClass("af-list-title")});var f=a(d).find("a");if(f.length>0&&(c.addHoverHighlight(d),c.addPressHighlight(d)),1===f.length?a(f[0]).addClass("af-list-btn"):2===f.length&&(a(f[0]).addClass("af-list-btn first"),a(f[1]).addClass("af-list-btn split"),c.addHoverHighlight(f[1]),c.addPressHighlight(f[1])),d.getAttribute("data-id")){d.className+=" af-accordion";var g=d.getAttribute("data-id");a(b).find("#"+g).css("display","none"),a(d).bind("click",function(a){var b=a.currentTarget;c.toggle(b)})}a(d).attr("data-converted","true")}})}})}(jQuery),function(a){a.alopex.widget.navmenu=a.alopex.inherit(a.alopex.widget.object,{widgetName:"navmenu",defaultClassName:"af-navmenu Navmenu",setters:["navmenu"],getters:[],properties:{},init:function(b){var c=this;b.eventState="init",a(b).find("ul").addClass("af-navmenu-sub").css("display","none"),a(b).find("li").each(function(){var b=this,d=a(b);d.find(">ul").find(">li").length>0&&(c.addHoverHighlight(b),c.addPressHighlight(b),a(d).addClass("af-expandable Expandable"),a(d).append(a(document.createElement("span")).addClass("af-navmenu-icon ArrowIcon")[0]))}),a(b).bind("dragstart selectstart",function(a){return!1}),a.alopex.widget.navmenu.resizeHandler(),a(window).bind("resize",a.alopex.widget.navmenu.resizeHandler)},_setTabIndex:function(b){var c;if(b&&b.children){var d=b.children;for(c=0;c<d.length;c++)0===c?a(d[c]).attr("tabindex","0"):a(d[c]).attr("tabindex","-1")}if(a(b).children().length>0)for(c=0;c<a(b).children().length;c++)a(a(b).children()[c]).find("li").attr("tabindex",-1)},setDataSource:function(b,c){a(b).empty(),a.alopex.widget.navmenu._createNode(b,c),b.phase=void 0,a(b).navmenu()},_createNode:function(b,c){for(var d=0;d<c.length;d++){var e=c[d],f=a("<li></li>").appendTo(b)[0];a.alopex.util.isValid(e.id)&&a(f).attr("data-id",e.id);var g=a("<a></a>").appendTo(f)[0];if(a.alopex.util.isValid(e.linkUrl)&&a(g).attr("href",e.linkUrl),a.alopex.util.isValid(e.iconUrl)&&a("<img/>").attr("src",e.iconUrl).appendTo(f),a(g).text(e.text),a.alopex.util.isValid(e.items)){var h=a("<ul></ul>").appendTo(f)[0];a.alopex.widget.navmenu._createNode(h,e.items)}}},resizeHandler:function(){var b=a('ul[data-type="navmenu"]'),c=document.documentElement.clientWidth;600>=c?b.removeClass("af-desktop").addClass("af-mobile").each(function(){a.alopex.widget.navmenu.removeMobileEvent(this),a.alopex.widget.navmenu.removeDesktopEvent(this),a.alopex.widget.navmenu.addMobileEvent(this)}):b.addClass("af-desktop").removeClass("af-mobile").each(function(){a.alopex.widget.navmenu.removeMobileEvent(this),a.alopex.widget.navmenu.removeDesktopEvent(this),a.alopex.widget.navmenu.addDesktopEvent(this)}),b.find(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")},addDesktopEvent:function(b){var c=b;a(b).bind("keydown",function(b){var c=b.target,d=b.keyCode?b.keyCode:b.which;switch(d){case 27:for(var e=a(c).closest("ul");"navmenu"!==a(e).attr("data-type");)e.find(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),e=a(e.parent()).closest("ul");a(e.find(".af-navmenu-expand.Expanded").find("> a")).focus(),e.find(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none");break;default:return}b.stopPropagation(),b.preventDefault()}),a(b).bind("focusin",function(b){var d,e=b.target,f=a(e).closest("ul");void 0!==f&&f[0]===c?(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&a(d).hasClass("af-expandable Expandable")?(a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand Expanded").find("> ul").css("display","inline-block")):a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")):(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&a(d).hasClass("af-expandable Expandable")?(a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand Expanded").find("> ul").css("display","inline-block")):a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"))}),a(b).focusout(function(b){var d=b.target,e=a(d).closest("ul"),f=!1;f=void 0!==d&&void 0!==a(e).attr("class")&&-1!==a(e).attr("class").indexOf("af-navmenu")?!1:!0,f&&e[0]!==c&&a(c).find("li").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")}),a(b).bind("mouseleave",function(b){for(var c=b.target,d=a(c).closest("ul");"navmenu"!==a(d).attr("data-type");)d.find(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),d=a(d.parent()).closest("ul");d.find(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")}),a(b).bind("mousemove",function(b){var d,e=b.target,f=a(e).closest("ul");void 0!==f&&f[0]===c?(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&a(d).hasClass("af-expandable Expandable")?(a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand Expanded").find("> ul").css("display","inline-block")):a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")):(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&a(d).hasClass("af-expandable Expandable")?(a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand Expanded").find("> ul").css("display","inline-block")):a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"))})},removeDesktopEvent:function(b){a(b).unbind("click").unbind("keydown")},addMobileEvent:function(b){var c=b;a(b).find("li").bind("click",function(b){var d,e=b.target,f=a(e).closest("ul");void 0!==f&&f[0]===c?(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&a(d).hasClass("af-expandable Expandable")?(a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand Expanded").find("> ul").css("display","inline-block")):a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none")):(d=a(e).closest("li")[0],void 0!==a(d).attr("class")&&a(d).hasClass("af-expandable Expandable")?(a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"),a(d).addClass("af-navmenu-expand Expanded").find("> ul").css("display","inline-block")):a(d).siblings(".af-navmenu-expand.Expanded").removeClass("af-navmenu-expand Expanded").find("> ul").css("display","none"))})},removeMobileEvent:function(b){a(b).find("li").unbind("click")}})}(jQuery),function(a){function b(){}if(!window.AlopexOverlay){var c={bgColor:"#fff",duration:0,durationOff:0,opacity:.7,progress:!1,createProgress:null,resizeProgress:null,removeProgress:null,appendIn:!1,complete:null},d=function(b,d){return b?(this.option=a.extend({},c,d),(b===document||b===document.body)&&(this.option.appendIn=!0),this.target=b===document?document.body:b,this.overlay=null,this.ptimer=null,this.progress=null,this.on=!1,this.init=function(b){this.remove(),this.on=!0;var c={},d=a(this.target);jQuery.support.opacity?c.opacity=this.option.opacity:c.filter="Alpha(opacity="+100*this.option.opacity+")",c["background-color"]=this.option.bgColor,c["z-index"]=99990,c.position="absolute",c["border-radius"]=d.css("border-radius"),c=a.extend(c,this.generateSize()),this.overlay=a("<div></div>").css(c).addClass("alopex_overlay")[0];var e=b||this.option.complete;return d[this.option.appendIn?"append":"after"](a(this.overlay).fadeIn(this.option.duration,function(){"function"==typeof e&&e()})),this.option.progress&&"function"==typeof this.option.createProgress&&this.option.createProgress.call(this),this},this.extendOption=function(b){b&&(this.option=a.extend({},this.option,b))},this.generateSize=function(){var b={},c=a(this.target);if(this.target===document||this.target===document.body)this.target=document.body,c=a(document.body),b.width=b.height="100%",b.top=b.left=0,b.position="fixed";else if("relative"===c.css("position")&&this.option.appendIn)b.width=b.height="100%",b.top=b.left=0;else{var d=!1;if(a(this.target).parents().each(function(b,c){"relative"===a(this).css("position")&&(d=!0)}),d){var e=a(this.target.parentElement).offset();b.width=c.outerWidth(),b.height=c.outerHeight(),b.top=c.offset().top-e.top,b.left=c.offset().left-e.left}else b.width=c.outerWidth(),b.height=c.outerHeight(),b.top=c.offset().top,b.left=c.offset().left}return b},this.resize=function(){return a(this.overlay).css(this.generateSize()),this.option.progress&&"function"==typeof this.option.resizeProgress&&this.option.resizeProgress.call(this),this},this.remove=function(b){var c=this.option.durationOff;return this.on=!1,"function"==typeof this.option.removeProgress&&this.option.removeProgress.call(this),a(this.target).find(".alopex_progress").remove(),a(this.target).find(".alopex_overlay").add(this.overlay).fadeOut(c,function(){"function"==typeof b&&b(),a(this).remove()}),this},void this.init()):null};d.defaultOption=c;var e=function(){for(var b=this.option.duration,c={position:"absolute",margin:"0 auto",display:"inline-block","*display":"inline",zoom:1,"text-align":"center","z-index":99991},d={display:"block","float":"left",width:"12px",height:"12px",margin:"4px","border-radius":"3px"},e=this.progress=a("<div></div>").css(c).addClass("alopex_progress"),f=[],g=3,h=0;g>h;h++)f.push(a("<div></div>").css(d).addClass("alopex_progress_block")),e.append(f[h]);this.progress.fadeIn(b).insertAfter(this.overlay),e.css("left",this.generateSize().left+a(this.overlay).innerWidth()/2-e.width()/2),e.css("top",this.generateSize().top+a(this.overlay).innerHeight()/2+a(this.target).scrollTop()-e.height()/2);var i=["#68838B","#BFEFFF","#BFEFFF"],j=function(){for(var a=0;a<f.length;a++)f[a].css("background-color",i[a]);i.unshift(i.pop())};return j(),this.ptimer=setInterval(j,150),e},f=function(){var b=this.progress,c=this.generateSize();b.css("left",c.left+a(this.overlay).innerWidth()/2-b.width()/2),b.css("top",c.top+a(this.overlay).innerHeight()/2-b.height()/2)},g=function(){var b=this.option.durationOff,c=this;this.progress&&a(this.progress).fadeOut(b,function(){c.ptimer&&(clearInterval(c.ptimer),c.ptimer=null),a(c.progress).remove(),c.progress=null})};c.createProgress=e,c.resizeProgress=f,c.removeProgress=g,c.stepProgress=null,window.AlopexOverlay=d,a.each(["progress","overlay"],function(b,c){a.fn[c]=function(b){if(this.length){var e=a(this[0]).data("alopexOverlay"),f=a.extend({progress:"progress"===c},b);return e&&e.on||(e=new d(this[0],f),a(this[0]).removeData("alopexOverlay"),a(this[0]).data("alopexOverlay",e)),e.extendOption(b),e}}}),window.AlopexProgressCount=0,b.prototype.showProgressDialog=function(a){var b=document.getElementById("AlopexProgress");if(!b){var b=document.createElement("div");b.setAttribute("id","AlopexProgress");var c=document.createElement("div");c.setAttribute("class","af-progress-sample"),b.appendChild(c),document.body.appendChild(b)}var d=document.getElementById("AlopexProgressMask");if(!d){var d=document.createElement("div");d.setAttribute("id","AlopexProgressMask"),d.setAttribute("class","af-progress-sample-mask"),document.body.appendChild(d)}window.AlopexProgressCount++},b.prototype.dismissProgressDialog=function(){if(window.AlopexProgressCount--,0==window.AlopexProgressCount){var a=document.getElementById("AlopexProgress");a&&a.parentNode.removeChild(a);var b=document.getElementById("AlopexProgressMask");b&&b.parentNode.removeChild(b)}},platformUIComponent=new b}}(jQuery),function(a){a.alopex.widget.paging=a.alopex.widget.pagination=a.alopex.inherit(a.alopex.widget.object,{widgetName:"pagination",defaultClassName:"af-paging Paging",classNames:{},setters:["pagination","paging","setTotalPage","setMaxPage","setSelectedPage","setCurrentPage","setDataLength","setPerPage","setPageLink"],getters:["getSelectedPage","getCurrentPage","getDataLength","getPerPage"],widgetOptions:{},destHandler:{first:{classname:"af-paging-first",handler:"_first"},previous:{classname:"af-paging-prev",handler:"_prev"},prev:{classname:"af-paging-prev",handler:"_prev"},previouspages:{classname:"af-paging-prevgroup",handler:"_prevgroup"},"prev-group":{classname:"af-paging-prevgroup",handler:"_prevgroup"},next:{classname:"af-paging-next",handler:"_next"},nextpages:{classname:"af-paging-nextgroup",handler:"_nextgroup"},"next-group":{classname:"af-paging-nextgroup",handler:"_nextgroup"},last:{classname:"af-paging-last",handler:"_last"}},buttonHandler:{First:{handler:"_first"},Prev:{handler:"_prev"},"Prev-group":{handler:"_prevgroup"},Next:{handler:"_next"},"Next-group":{handler:"_nextgroup"},Last:{handler:"_last"}},options:{},eventHandlers:{},properties:{maxpage:10,pagelink:10,totalpage:10,startpage:1,endpage:10,perpage:10,datalength:0,selectedPage:1,pagingType:null},getPerPage:function(a){return a.perpage},getDataLength:function(a){return a.datalength},setCurrentPage:function(a){return this.setSelectedPage(a)},setDataLength:function(b,c){b.datalength=c,a(b).attr("data-datalength",c),b.totalpage=Math.ceil(b.datalength/b.perpage),this.setTotalPage(b,b.totalpage)},setPerPage:function(b,c){b.perpage=c,a(b).attr("data-perpage",c),b.totalpage=Math.ceil(b.datalength/b.perpage),this.setTotalPage(b,b.totalpage)},event:function(a){},init:function(b,c){var d=a(b),e=a(b).find("a:not([data-dest], .Prev, .Prev-group, .First, .Next, .Next-group, .Last)");e.each(function(a,b){e.eq(a).attr("data-page",a+1)}),a.extend(b,{pages:null,nextbutton:d.find('[data-dest*="next"], .next').eq(0)},this.properties,c),b.pagelink=b.maxpage=parseInt(d.attr("data-maxpage"),10)||parseInt(d.attr("data-pagelink"),10)||e.length||b.maxpage,a(b).attr("data-maxpage",b.maxpage),a(b).attr("data-pagelink",b.pagelink),b.pagingType=d.attr("data-generateLink"),this._generateLink(b),b.datalength=d.attr("data-datalength")?parseInt(d.attr("data-datalength"),10):b.datalength,a(b).attr("data-datalength",b.datalength),b.perpage=d.attr("data-perpage")?parseInt(d.attr("data-perpage"),10):b.perpage,a(b).attr("data-perpage",b.perpage),b.totalpage=d.attr("data-totalpage")?parseInt(d.attr("data-totalpage"),10):e.length,a(b).attr("data-totalpage",b.totalpage),this._addPageEventHandler(b),this._addButtonEventHandler(b);var f=parseInt(d.attr("data-selected"),10)||parseInt(d.find(".selected").attr("data-page"),10)||parseInt(d.find(".Selected").attr("data-page"),10)||1;this.setSelectedPage(b,f),d.bind("selectstart",function(a){return!1})},_first:function(b){var c=b.currentTarget.element;if(1!==c.selectedPage){var d=1;a.alopex.widget.pagination.setSelectedPage(c,d),a(c).trigger("pagechange",[d])}},_last:function(b){var c=b.currentTarget.element;if(c.selectedPage!==c.totalPage){var d=c.totalpage;a.alopex.widget.pagination.setSelectedPage(c,d),a(c).trigger("pagechange",[d])}},_prev:function(b){var c=b.currentTarget.element;if(1!==c.selectedPage){var d=c.selectedPage-1;a.alopex.widget.pagination.setSelectedPage(c,d),a(c).trigger("pagechange",[d])}},_prevgroup:function(b){var c,d=b.currentTarget.element;1!==d.startpage&&(c=d.startpage-d.maxpage,a.alopex.widget.pagination.setSelectedPage(d,c),a(d).trigger("pagechange",[c]))},_next:function(b){var c=b.currentTarget.element;if(c.selectedPage!==c.totalpage){var d=c.selectedPage+1;a.alopex.widget.pagination.setSelectedPage(c,d),a(c).trigger("pagechange",[d])}},_nextgroup:function(b){var c,d=b.currentTarget.element;d.endpage!==d.totalpage&&(c=d.startpage+d.maxpage,a.alopex.widget.pagination.setSelectedPage(d,c),a(d).trigger("pagechange",[c]))},_addPageEventHandler:function(b){__ALOG("pages === ",b.pages);var c=this;a(b.pages).on("click",function(b){var d=b.currentTarget;c.setSelectedPage(d.container,d.page);var e=a(d).closest('[data-type="pagination"]');a(e).trigger("pagechange",[d.page])})},_addButtonEventHandler:function(b){var c=a(b),d=c.find("[data-dest]");if(0==d.length)for(var e in this.buttonHandler){var f=c.find("."+e).on("click",this[this.buttonHandler[e].handler]);f.length>0&&(f[0].element=b)}else for(var e=0;e<d.length;e++){var g=a(d[e]).attr("data-dest");d[e].element=b,d.eq(e).addClass(this.destHandler[g].classname).attr("data-type","button").button().on("click",this[this.destHandler[g].handler])}},_removeLink:function(b){for(var c=0;c<b.pages.length;c++){if("ul"!==b.tagName.toLowerCase()){a(b.pages).remove();break}a(b.pages).parents("li").remove()}},_generateLink:function(b){var c;if(0===a(b).find("a:not([data-dest])").length)for(c=0;c<b.maxpage;c++){var d=document.createElement("a");if("mobile"!==b.pagingType&&(d.innerHTML=c+1+""),"ul"===b.tagName.toLowerCase()){var e=document.createElement("li");a(d).appendTo(e),a(e).css("display","none"),b.nextbutton.length>0?a(e).insertBefore(a(b.nextbutton).parents("li")):a(e).appendTo(b)}else a(d).css("display","none"),b.nextbutton.length>0?a(d).insertBefore(b.nextbutton):a(d).appendTo(b)}for(b.pages=a(b).find("a:not([data-dest], .Prev, .Prev-group, .First, .Next, .Next-group, .Last)"),c=0;c<b.pages.length;c++)b.pages[c].page=c+1,b.pages[c].index=c,b.pages[c].container=b,"mobile"===b.pagingType?a(b.pages[c]).addClass("af-paging-mobile"):a(b.pages[c]).addClass("af-paging-number")},_changePageGroup:function(b,c){if(b.startpage=1,b.endpage=b.maxpage,0!==b.maxpage)for(;c>b.endpage;)b.startpage+=b.maxpage,b.endpage+=b.maxpage;b.endpage>b.totalpage&&(b.endpage=b.totalpage);for(var d=0;d<b.pages.length;d++)b.startpage+d<=b.totalpage?("ul"===b.tagName.toLowerCase()?a(b.pages[d]).parents("li").css("display",""):a(b.pages[d]).css("display",""),b.pages[d].page=b.startpage+d,"mobile"!==b.pagingType&&(b.pages[d].innerHTML=b.startpage+d)):("ul"===b.tagName.toLowerCase()?a(b.pages[d]).parents("li").css("display","none"):a(b.pages[d]).css("display","none"),b.pages[d].page=NaN)},_enableAllButton:function(b){a(b).find("[data-dest], .first, .prev, .prev-group, .next, .next-group, .last").setEnabled(!0).css("visibility","visible")},_disableButton:function(b,c){var d=a(b).find('[data-dest="'+c+'"]');0==d.length?a(b).find("."+c).setEnabled(!1):"disable"===a(b).attr("data-button-behavior")?d.setEnabled(!1):"show"===a(b).attr("data-button-behavior")||d.css("visibility","hidden")},getSelectedPage:function(a){return a.selectedPage},getCurrentPage:function(a){return this.getSelectedPage(a)},setTotalPage:function(b,c,d){c=parseInt(c,10),b.totalpage=c,a(b).attr("data-totalpage",c),b.selectedPage>c&&(b.selectedPage=c),a.alopex.util.isValid(d)?this.setSelectedPage(b,d):this.setSelectedPage(b,b.selectedPage)},setSelectedPage:function(b,c){c=parseInt(c,10),this._changePageGroup(b,c);var d=a(b).find("strong");0!==d.length&&a(d[0]).replaceWith(d[0].children);for(var e=0;e<b.pages.length;e++)b.pages.eq(e).removeClass("af-paging-selected Selected"),b.startpage+e===c&&b.pages.eq(e).addClass("af-paging-selected Selected").children().wrap("<strong></strong>");
b.selectedPage=c,this._enableAllButton(b),1===b.selectedPage&&(this._disableButton(b,"first"),this._disableButton(b,"prev")),1===b.selectedPage,1===b.startpage&&this._disableButton(b,"prev-group"),b.selectedPage===b.totalpage&&this._disableButton(b,"next"),b.endpage===b.totalpage&&this._disableButton(b,"next-group"),b.selectedPage===b.totalpage&&this._disableButton(b,"last")},setMaxPage:function(b,c,d){c=parseInt(c,10),b.maxpage=c,b.pagelink=c,a(b).attr("data-pagelink",c),a(b).attr("data-maxpage",c),this._removeLink(b),this._generateLink(b),this._addPageEventHandler(b),a.alopex.util.isValid(d)?this.setSelectedPage(b,d):this.setSelectedPage(b,b.selectedPage)},setPageLink:function(a,b,c){return this.setMaxPage(a,b,c)}})}(jQuery),function(a){a.alopex.widget.panel=a.alopex.inherit(a.alopex.widget.object,{widgetName:"panel",defaultClassName:"af-panel Panel",setters:["panel","refresh","scrollToElement"],getters:[],properties:{},eventHandlers:{},init:function(b,c){var d=a(b);void 0!==b.getAttribute("data-fill")&&a.alopex.widget.panel._fill(b),a.alopex.util.parseBoolean(b.getAttribute("data-scroll"))&&this._makeScrollable(b),a(window).bind("resize",a.alopex.widget.panel._resize),void 0!==d.attr("data-responsive")&&(d.css("float","left").css("width","100%"),a(window).bind("resize",a.alopex.widget.panel._responsive),this._responsive())},_responsive:function(){a("[data-responsive]").each(function(){var b=this,c=100,d=parseFloat(a(b).attr("data-responsive").split("-")[0]),e=parseFloat(a(b).attr("data-responsive").split("-")[1]),f=document.documentElement.clientWidth;f<=a.alopex.responsive.threshold||(c=f>a.alopex.responsive.threshold&&900>=f?e/d*100:e/d*100),a(b).css("width",c+"%")})},_makeScrollable:function(b){try{if("mobile"===window.browser&&"undefined"!=typeof iScroll){var c={};/iphone|ipad/gi.test(navigator.appVersion)?c.useTransform=!0:a(b).find("input").length>0||a(b).find("textarea").length>0?c.useTransform=!1:c.useTransform=!0,c.onBeforeScrollStart=function(a){for(var b=a.target;1!==b.nodeType;)b=b.parentNode;"SELECT"!==b.tagName&&"INPUT"!==b.tagName&&"TEXTAREA"!==b.tagName&&a.preventDefault()},c.checkDOMChanges=!0,b.style.position="relative",b.scroll=new iScroll(b,c),b.scroll.onScrollEnd=function(c){a(b).trigger("scrollend",c)}}else a(b).css("position","relative"),a(b).css("overflow","auto"),b.children.length>=1&&(b.offsetHeight<b.children[0].offsetHeight&&a(b).css("overflow-y","scroll"),b.offsetWidth<b.children[0].offsetWidth&&a(b).css("overflow-x","scroll"))}catch(d){throw new Error("[makeScrollable] "+d)}},scrollToElement:function(b,c,d){"mobile"===window.browser?b.scroll.scrollToElement(c,d):a(b).find(c).length>0&&(b.scrollTop=a(b).find(c)[0].offsetHeight)},_resize:function(b){a('[data-type="panel"]').refresh()},refresh:function(b){void 0!==b.getAttribute("data-fill")&&a.alopex.widget.panel._fill(b),a.alopex.util.parseBoolean(b.getAttribute("data-scroll"))&&a.alopex.widget.panel._scroll_refresh(b)},_scroll_refresh:function(b){b.scroll?b.scroll.refresh():(a(b).css("overflow","auto"),b.children.length>=1&&(b.offsetHeight<b.children[0].offsetHeight&&a(b).css("overflow-y","scroll"),b.offsetWidth<b.children[0].offsetWidth&&a(b).css("overflow-x","scroll")))},_fill:function(a){var b=a.getAttribute("data-fill"),c=a.style.display;switch(a.style.display="none",b){case"vertical":this.fillVertical(a);break;case"horizontal":this.fillHorizontal(a);break;case"both":this.fillVertical(a),this.fillHorizontal(a)}a.style.display=c},fillVertical:function(b){for(var c=a(b.parentNode).height()-(b.parentNode.offsetHeight-b.parentNode.clientHeight),d=0,e=b.parentNode.children,f=0;f<e.length;f++)e[f]!==b&&"absolute"!==e[f].style.position&&(d+=a(e[f]).height(),isNaN(parseInt(a(e[f]).css("margin-top"),10))||(d+=parseInt(a(e[f]).css("margin-top"),10)),isNaN(parseInt(a(e[f]).css("margin-bottom"),10))||(d+=parseInt(a(e[f]).css("margin-bottom"),10)));a(b).css("height",c-d+"px")},fillHorizontal:function(b){for(var c=a(b.parentNode).width()-(b.parentNode.offsetWidth-b.parentNode.clientWidth),d=0,e=b.parentNode.children,f=0;f<e.length;f++)e[f]!==b&&"absolute"!==e[f].style.position&&(d+=a(e[f]).width(),isNaN(parseInt(a(e[f]).css("margin-left"),10))||(d+=parseInt(a(e[f]).css("margin-left"),10)),isNaN(parseInt(a(e[f]).css("margin-right"),10))||(d+=parseInt(a(e[f]).css("margin-right"),10)));a(b).css("width",c-d+"px")}})}(jQuery),function(a){a.alopex.widget.progressbar=a.alopex.inherit(a.alopex.widget.object,{widgetName:"progressbar",defaultClassName:"af-progressbar Progressbar",setters:["progressbar","setValue","setOptions"],getters:["getValue"],properties:{starttext:null,endtext:null,textColor:null},eventHandlers:{},init:function(b,c){a.extend(b,this.properties,c);var d;d=b.progEl?b.progEl:document.createElement("div"),d.minValue=0,d.maxValue=100,d.value=0,a(d).attr("style","position:relative; left:0px;"),b.appendChild(d),a(d).css("height",a(b).css("height")),d.maxWidth=a(b).css("width").split("px")[0];var e=a(b).attr("data-default");if(a.alopex.util.isValid(e)?(d.value=e,a(d).css("border",a(b).css("border")),a(d).css("width",d.maxWidth*(e/d.maxValue)+"px")):a(d).css("width","0px"),a(b).hasClass("Progress-text")){c.showText=!0;var f;f=b.textSpan?b.textSpan:document.createElement("span"),a(f).attr("style","position: absolute; "),a(f).css("height",a(b).css("height")),a(f).css("width",a(b).css("width")),b.starttext?(f.startProg=b.starttext,a(f).text(f.startProg)):a(f).text("0%"),b.endtext&&(f.endProg=b.endtext),a.alopex.util.isValid(b.textColor)&&b.textColor&&a(f).css("color",b.textColor),a.alopex.util.isValid(e)&&("100"===e&&f.endProg?a(f).text(f.endProg):"0"===e&&f.startProg?a(f).text(f.startProg):a(f).text(e+"%")),a(d).append(f),a(f).appendTo(d),b.textSpan=f}b.progEl=d},setOptions:function(b,c){var d;if(d=b.progEl?b.progEl:b.children[0],a.alopex.util.isValid(c.bgColor)&&a(d).css("background-color",c.bgColor),a.alopex.util.isValid(c.bgUrl)&&a(d).css("background-image","url("+c.bgUrl+")"),a.alopex.util.isValid(c.showText)&&c.showText){var e;if(e=b.textSpan?b.textSpan:document.createElement("span"),a(e).attr("style","position: absolute;"),a(e).css("height",a(b).css("height")),a(e).css("left",a(b).css("width").split("px")[0]/2-35+"px"),a.alopex.util.isValid(c.textArray)&&c.textArray){e.startProg=c.textArray[0],e.endProg=c.textArray[1];var f=d.value;100===f&&e.endProg?a(e).text(e.endProg):0===f&&e.startProg&&a(e).text(e.startProg)}a(d).append(e),a(e).appendTo(d),b.textSpan=e}else a.alopex.util.isValid(c.showText)&&!c.showText&&b.textSpan&&a(b.textSpan).remove();a.alopex.util.isValid(c.textColor)&&c.textColor&&b.textSpan&&a(b.textSpan).css("color",c.textColor)},setValue:function(b,c){var d=b.children[0];d.value=c,a(d).css("border",a(b).css("border")),a(d).css("width",d.maxWidth*(c/d.maxValue)+"px");var e=a(d).children("span")[0];void 0!==e&&a(b).hasClass("Progress-text")&&(100===c&&e.endProg?a(e).text(e.endProg):0===c&&e.startProg?a(e).text(e.startProg):a(e).text(c+"%"))},getValue:function(a){var b=a.children[0],c=b.value;return c>b.maxValue?c=b.maxValue:c<b.minValue&&(c=b.minValue),c}})}(jQuery),function(a){a.alopex.widget.radio=a.alopex.inherit(a.alopex.widget.object,{widgetName:"radio",defaultClassName:"af-radio Radio",defaultTextClassName:"af-radio-text",defaultWrapClassName:"af-wrapradio",defaultWrapSpanClassName:"af-wrapradio-span",setters:["radio","setSelected"],getters:["getValue","getText"],properties:{wrap:!1},init:function(b,c){var d=a(b);b.options=a.extend(!0,{},this.properties,c);try{d.attr("type","radio")}catch(e){}(b.options.wrap||a.alopex.util.parseBoolean(b.alopexoptions.wrap))&&(b.className?(-1!==b.className.indexOf(this.defaultClassName)&&d.addClass(this.defaultWrapClassName),d.after('<span class="'+b.className+'-span"></span>')):d.after('<span class="'+this.defaultWrapSpanClassName+'"></span>'));var f=navigator.userAgent;-1!=f.indexOf("SamsungBrowser/3.2")&&d.on("click",function(b){a(this).trigger("change")}),d.on("change",function(b){var c=a(b.currentTarget).parent("label"),d=a(b.currentTarget).attr("name");a(document.body).find("input[name="+d+"]").parent("label."+a.alopex.widget.radio.defaultTextClassName).removeClass("Checked"),c.addClass("Checked")}),(b.checked||"checked"==b.getAttribute("checked"))&&a(b).trigger("change")},style:function(b){var c=a('label[for="'+b.id+'"]');if(b.id){var c=a('label[for="'+b.id+'"]');if(c.length)return void c.addClass(this.defaultTextClassName)}a(b).parent("label").addClass(this.defaultTextClassName)},setSelected:function(b){"INPUT"===b.tagName&&(b.checked=!0),a(b).parent("label").addClass("Checked"),a(b).trigger("change")},getValue:function(b){var c=a("input[name="+b.name+"]:checked");return c.length>0?a(c[0]).val():null},getText:function(b){var c=a("input[name="+b.name+"]:checked");if(c.length>0){var d=c[0],e=a(d).attr("id"),f=a(b).parent().find('label[for="'+e+'"]');return 0==f.length&&(f=a(b).parent("label")),f.text()}return null}})}(jQuery),function(a){a.alopex.widget.searchinput=a.alopex.inherit(a.alopex.widget.object,{widgetName:"searchinput",defaultClassName:"af-searchinput",defaultClearClassName:"af-clear-button",setters:["searchinput"],markup:function(){return'<div><span af-dynamic class="af-icon af-default search"></span><input class="af-textinput af-default" /><span af-dynamic class="af-icon af-default remove-sign"></span></div>'},properties:{clear:null},eventHandlers:{keydown:{event:"keyup",handler:"_keyupHandler"},change:{event:"change",handler:"_changeHandler"},clearclick:{event:"click",selector:"[data-clear]",handler:"_clear"}},_clear:function(a){},style:function(a){}})}(jQuery),function(a){a.alopex.widget.select=a.alopex.inherit(a.alopex.widget.baseselect,{widgetName:"select",defaultClassName:"af-select Select",getters:["getValues","getTexts"],setters:["select","setPlaceholder","setSelected","clear","refresh","setSelectSize"],properties:{wrap:!1},init:function(b,c){var d=a(b);b.alopexoptions=a.extend(!0,{},this.properties,c),(b.alopexoptions.wrap||a.alopex.util.parseBoolean(b.alopexoptions.wrap))&&d.attr("data-type","divselect").divselect(),"true"==d.attr("data-select-multiple")&&(d.attr("multiple","multiple"),defaultStyleClass="af-multiselect",d.bind("selectstart click",function(a){return!1})),b.alopexoptions.selectsize&&this.setSelectSize(b)},setSelectSize:function(b,c){var d=null,e=c,f=b.alopexoptions.selectsize;a.alopex.util.isPlusInt(e)?d=c:a.alopex.util.isPlusInt(f)&&(d=f),null!=d&&(b.setAttribute("size",d),b.setAttribute("data-select-size",d+""))}})}(jQuery),function(a){}(jQuery),function(a){a.alopex.widget.spinner=a.alopex.inherit(a.alopex.widget.baseinput,{widgetName:"spinner",defaultClassName:"af-spinner Spinner",setters:["spinner","setEnabled"],getters:[],properties:{min:"default",max:"default",step:1,hours:"12H",locale:"ko",ampm_en:["AM","PM"],ampm_ko:["오전","오후"]},init:function(b,c){var d,e,f,g=a(b);if("div"==b.tagName.toLowerCase()?(d=g,e=a(b).find(".Up"),f=a(b).find(".Down"),b=b.querySelector("input")):(g.wrap('<div class="'+b.className+' af-spinner-wrapper"></div>'),d=a(b.parentNode),d.append('<a class="af-spinner-button-up"></a>'),d.append('<a class="af-spinner-button-down"></a>'),e=g.siblings(".af-spinner-button-up"),f=g.siblings(".af-spinner-button-down")),g=a(b),b.type="text",a.extend(b,a.alopex.widget.spinner.properties,c),d.hasClass("Time")){e.on("click",a.alopex.widget.spinner._timeUpHandler),f.on("click",a.alopex.widget.spinner._timeDownHandler);var h=d.find("input");h.on("keydown",a.alopex.widget.spinner._timeKeydownHandler),h.on("blur",a.alopex.widget.spinner._timeBlurHandler),h.on("change",a.alopex.widget.spinner._timeChangeHandler);var i,j,k,l=b.parentElement;i=l.querySelector("[data-hour]"),i&&(i.value="00",i.maxLength=2,"24H"==b.hours?(i.max=23,i.min=0):(i.max=12,i.min=0,a(l).attr("data-hours","12H")),i.step=1,i.offset=0),j=l.querySelector("[data-minute]"),j&&(j.type="text",j.value="00",j.max=59,j.min=0,j.maxLength=2,j.step=1,j.offset=0),k=l.querySelector("[data-ampm]"),k&&(k.maxLength=2,k.type="text","ko"===b.locale.toLowerCase()?(k.am=b.ampm_ko[0],k.pm=b.ampm_ko[1]):(k.am=b.ampm_en[0],k.pm=b.ampm_en[1]),k.value=k.am)}else e.on("click",a.alopex.widget.spinner._upHandler),f.on("click",a.alopex.widget.spinner._downHandler),g.on("keydown",a.alopex.widget.spinner._keydownHandler),e.data("element",b),f.data("element",b),"default"!=b.max&&(b.max=parseFloat(b.max),b.value&&b.value>b.max&&(b.value=b.max)),"default"!=b.min&&(b.min=parseFloat(b.min),b.value&&b.value<b.min&&(b.value=b.min))},_upHandler:function(b){var c=a(b.currentTarget).data("element");a.alopex.widget.spinner.valueUp(c)},_downHandler:function(b){var c=a(b.currentTarget).data("element");a.alopex.widget.spinner.valueDown(c)},_keydownHandler:function(b){var c=b.currentTarget,d=a(c).closest(".af-spinner-wrapper");d.hasClass("af-disabled Disabled")||(38===b.which?a.alopex.widget.spinner.valueUp(c):40===b.which&&a.alopex.widget.spinner.valueDown(c))},_timeBlurHandler:function(a){var b=a.currentTarget,c=b.parentElement;c._lastFocused=b},_timeChangeHandler:function(b){var c=b.currentTarget,d=c.value,e=c.parentElement.querySelector("[data-ampm]");if((c.hasAttribute("data-hour")||c.hasAttribute("data-minute"))&&1==d.length&&(c.value="0"+d),e&&c.hasAttribute("data-hour"))c.max==d?a(e).val(e.pm):c.min==d?a(e).val(e.am):d>=12?a(e).val(e.pm):a(e).val(e.am);else if(c.hasAttribute("data-ampm")){var f=c.parentElement.querySelector("[data-hour]").value;f>=12?a(c).val(c.pm):a(c).val(c.am)}},_timeUpHandler:function(b){var c=b.currentTarget.parentElement;c=c._lastFocused?c._lastFocused:c.querySelector("input"),c.hasAttribute("data-hour")?(a.alopex.widget.spinner.valueUp(c),a(c).trigger("change")):c.hasAttribute("data-minute")?(a.alopex.widget.spinner.valueUp(c),a(c).trigger("change")):c.hasAttribute("data-ampm")&&a(c).val(c.am),a(c).focus()},_timeDownHandler:function(b){var c=b.currentTarget.parentElement;c=c._lastFocused?c._lastFocused:c.querySelector("input"),c.hasAttribute("data-hour")?(a.alopex.widget.spinner.valueDown(c),a(c).trigger("change")):c.hasAttribute("data-minute")?(a.alopex.widget.spinner.valueDown(c),a(c).trigger("change")):c.hasAttribute("data-ampm")&&a(c).val(c.pm),a(c).focus()},_timeKeydownHandler:function(b){var c=b.currentTarget,d=a(c),e=d.closest(".af-spinner-wrapper");e.hasClass("af-disabled Disabled")||(38===b.which?c.hasAttribute("data-ampm")?d.val(c.am):a.alopex.widget.spinner.valueUp(c):40===b.which?c.hasAttribute("data-ampm")?d.val(c.pm):a.alopex.widget.spinner.valueDown(c):37===b.which?d.prevAll("input:first").focus():39===b.which?d.nextAll("input:first").focus():(c.hasAttribute("data-hour")||c.hasAttribute("data-minute"))&&(b.which>=48&&b.which<=57?a.alopex.widget.spinner._inputKeyHandler(c,b.which):b.which>=96&&b.which<=105?a.alopex.widget.spinner._inputKeyHandler(c,b.which-48):c.offset=0))},_inputKeyHandler:function(b,c){if(0==b.offset)b.value="0"+String.fromCharCode(c),b.offset++;else if(1==b.offset){b.prevValue=b.value,"undefined"==typeof b.prevValue[1]&&(b.prevValue="00");var d=parseFloat(b.prevValue[1]+String.fromCharCode(c)),e=a(b).nextAll("input:first").focus();d>b.max?(e.is("[data-hour]")||e.is("[data-minute]"))&&e.val("0"+String.fromCharCode(c)):b.value=b.prevValue[1]+String.fromCharCode(c),b.offset=0}a(b).trigger("change")},valueUp:function(b){"div"==b.tagName.toLowerCase()&&(b=b.querySelector("input"));var c=parseFloat(b.value),d=0,e=0;if(!isNaN(c)){var f=(b.value.split("."),0);"default"!=b.max&&(d=parseFloat(b.max)),"default"!=b.min&&(e=parseFloat(b.min)),f=d&&c>d?d:e&&e>c?e:a.alopex.util.addFloat(b.value,b.step),("default"==b.max||f<=parseFloat(b.max))&&(b.value=f),a(b).trigger("change")}},valueDown:function(b){"div"==b.tagName.toLowerCase()&&(b=b.querySelector("input"));var c=parseFloat(b.value),d=0,e=0;if(!isNaN(c)){var f=(b.value.split("."),0);"default"!=b.max&&(d=parseFloat(b.max)),"default"!=b.min&&(e=parseFloat(b.min)),f=d&&c>d?d:e&&e>c?e:a.alopex.util.addFloat(b.value,-1*b.step),("default"==b.min||f>=parseFloat(b.min))&&(b.value=f),a(b).trigger("change")}},setEnabled:function(b,c){var d,e;"div"==b.tagName.toLowerCase()?(b=b.querySelector("input"),d=a(b).siblings(".Up"),e=a(b).siblings(".Down")):(d=a(b).siblings(".af-spinner-button-up"),e=a(b).siblings(".af-spinner-button-down"));var f=a(b),g=f.closest(".af-spinner-wrapper");a(b.parentElement).hasClass("Time")?(d.off("click",a.alopex.widget.spinner._timeUpHandler),e.off("click",a.alopex.widget.spinner._timeDownHandler)):(d.off("click",a.alopex.widget.spinner._upHandler),e.off("click",a.alopex.widget.spinner._downHandler)),c?(a(b.parentElement).hasClass("Time")?(d.on("click",a.alopex.widget.spinner._timeUpHandler),e.on("click",a.alopex.widget.spinner._timeDownHandler),f=a(b.parentElement).children()):(d.on("click",a.alopex.widget.spinner._upHandler),e.on("click",a.alopex.widget.spinner._downHandler)),a(b.parentElement).removeClass("af-disabled Disabled"),f.removeAttr("readonly"),f.removeAttr("Disabled"),f.removeClass("af-disabled Disabled"),g.removeClass("af-disabled Disabled"),d.removeClass("af-disabled Disabled"),e.removeClass("af-disabled Disabled")):(a(b.parentElement).hasClass("Time")&&(f=a(b.parentElement).children()),a(b.parentElement).addClass("af-disabled Disabled"),f.attr("readonly",!0),f.attr("Disabled","Disabled"),d.off("click"),e.off("click"),f.addClass("af-disabled Disabled"),d.addClass("af-disabled Disabled"),e.addClass("af-disabled Disabled"),g.addClass("af-disabled Disabled"))}})}(jQuery),function(a){a.alopex.widget.table=a.alopex.inherit(a.alopex.widget.object,{widgetName:"table",defaultClassName:"af-table Table",wrapperClassName:"af-table-wrapper af-default "+a.alopex.config.defaultComponentClass.table+"-wrapper",scrollerClassName:"af-table-scroller "+a.alopex.config.defaultComponentClass.table+"-scroller",setters:["table","hideColumn","showColumn","tableSort"],getters:[],resizeThreshold:10,resizing:!1,resizeReady:!0,properties:{},style:function(a){},event:function(a){},tableSort:function(b,c,d){a.alopex.widget.table.sort(c,d)},init:function(b){var c=a(b);a.alopex.util.isValid(c.attr("data-scroller-use"))&&!a.alopex.util.parseBoolean(c.attr("data-wrapper"))||0!=c.parent('div[class*="-scroller"]').length||(c.wrap('<div class="'+this.wrapperClassName+'" af-dynamic>'),c.wrap('<div class="'+this.scrollerClassName+'" af-dynamic>')),a.extend(b,{scroller:null,hscroller:null,resizingHeader:null,scrolling:!1,sorting:!1,resizing:!1,editing:!1,highlighting:!1,theme:null}),this._addColgroup(b),c.css({"table-layout":"fixed"}),"0px"===c.css("min-width")&&c.css({"min-width":"100%"}),a.alopex.util.isValid(b.style.width)||c.css({width:"100%"});var d=c.closest(".af-table-wrapper, ."+a.alopex.config.defaultComponentClass.table+"-wrapper");if(d.css({overflow:"hidden",position:"relative"}),b.wrapper=d.length>0?d[0]:b,b.head=a.alopex.widget.table.getTableHead(b),a.alopex.util.isValid(b.head)&&(b.head.table=b,a(b.head).addClass("af-table-head")),a.alopex.util.isValid(a(b).attr("data-height"))&&a(b.wrapper).css("height",a(b).attr("data-height")),a.alopex.util.isValid(a(b).attr("data-width"))){var e=b.hscroller?b.hscroller:b.wrapper;a(e).css("width",a(b).attr("data-width"))}this._refreshForEtc(b)},_refreshForConvert:function(b){a.each(b.children,function(){a.alopex.convert(this)})},_refreshForEtc:function(b){var c=a(b);if(-1!==navigator.userAgent.indexOf("MSIE 7")&&c.removeAttr("data-scroll"),!b.sorting&&c.find("[data-sortable]").length>0&&(this._enableSorting(b),b.sorting=!0),!b.resizing&&c.find('[data-resizable="true"]').length>0?(this._enableResizing(b),b.resizing=!0):b.resizing&&this._refreshColgroup(b),a(b).find('[data-editable="true"]').addClass("af-table-editor Editor"),!b.editing&&c.find('[data-editable="true"]').length>0&&(this._enableEditing(b),b.editing=!0),!b.highlighting&&c.attr("data-highlight")){var d="td,th";"body"===c.attr("data-highlight")&&(d="tbody td, tbody th"),c.find(d).css("cursor","pointer"),a(b.wrapper).on("click",d,this._addTableHighlight),b.highlighting=!0}a(b).is(":hidden")||(b.scrolling||void 0===c.attr("data-scroll")||(this._enableScrolling(b),b.scrolling=!0),this._refreshTableHead(b),void 0!==a(b).attr("data-scroll")&&this._refreshTableScroll(b))},refresh:function(a){this._refreshForConvert(a),this._refreshForEtc(a)},_enableScrolling:function(b){var c=a(b),d=c.closest("."+this.scrollerClassName+", ."+a.alopex.config.defaultComponentClass.table+"-scroller");b.scroller=d.length>0?d[0]:null,b.scroller.el=b,a(b.wrapper).css({overflow:"hidden"});var e=a(b).find("colgroup").clone(!0);if("body"===a(b).attr("data-scroll")){if("mobile"===window.browser){if(a(b.scroller).css({overflow:"hidden","overflow-y":"auto"}),b.head){var f=a(b.head).clone(!0).appendTo(b);b.clone=a(b).clone(!0).removeAttr("id").removeAttr("data-type").empty()[0],a(b.wrapper).prepend(b.clone),a(b.head).prepend(e),a(b.head).appendTo(b.clone),a(b.head).css({"z-index":"1",position:"absolute",display:"table","table-layout":"fixed"}),f.remove()}var g=a("<div></div>").attr("class",b.theme+" af-table-hscroller");g.css({overflow:"hidden","overflow-x":"auto","-webkit-overflow-scrolling":"touch"}),a(b.wrapper).wrap(g[0]),b.hscroller=b.wrapper.parentNode,b.hscroller.el=b}else b.head&&(a(b.head).css({"float":"left",position:"absolute",top:"0px",display:"table","table-layout":"fixed"}),a(b.head).prepend(e)),a(b.scroller).css({overflow:"auto"}),a(b).css({overflow:"hidden"}),a(b.scroller).bind("scroll",function(b){var c=b.currentTarget,d=c.children[0];a(d.head).css({left:-1*c.scrollLeft+"px"})});a(b.head).find("tr").css("display","table-row"),-1!==navigator.userAgent.toLowerCase().indexOf("android")&&(a(b.hscroller).bind("touchstart",function(a){var b=a.currentTarget.el;b.started=!0,b.x=a.originalEvent.touches[0].clientX,b.y=a.originalEvent.touches[0].clientY}),a(b.hscroller).bind("touchmove",function(b){var c=b.currentTarget.el;c.started&&(c.x=Math.abs(b.originalEvent.touches[0].clientX-c.x),c.y=Math.abs(b.originalEvent.touches[0].clientY-c.y),c.x>c.y?(a(c.hscroller).css({overflow:"hidden","overflow-x":"auto"}),a(c.scroller).css("overflow","hidden")):(a(c.hscroller).css("overflow-x","hidden"),a(c.scroller).css({overflow:"hidden","overflow-y":"auto"})),c.started=!1)}))}else a(b.scroller).css({overflow:"auto","overflow-scrolling":"touch"})},_refreshTableHead:function(b){if(a.alopex.util.isValid(b.head)){var c=a(b).find("tbody > tr"),d=a(b).find("tbody"),e=b.offsetWidth;c.length>0?e=c[c.length-1].offsetWidth:d.length>0&&(e=d[0].offsetWidth);var f=a(b.head);f.css({"table-layout":"",width:e+"px"}),0==e&&f.css({width:"100%"});var g=b;setTimeout(function(){a(g);f.css({"table-layout":"fixed"})},10)}},_refreshTableScroll:function(b){var c=a(b.scroller),d=b.wrapper.offsetHeight;"all"===a(b).attr("data-scroll")?c.css("margin-top","0"):("mobile"===window.browser&&a(b.wrapper).css("width",b.offsetWidth+"px"),a.alopex.util.isValid(b.head)&&(d-=b.head.offsetHeight,c.css("margin-top",b.head.offsetHeight+"px"))),c.css("height",d+"px")},hideColumn:function(b,c){a(b).find("col:nth-child("+(c+1)+")").addClass("af-hidden")},showColumn:function(b,c){a(b).find("col:nth-child("+(c+1)+")").removeClass("af-hidden")},clear:function(b){a(b).find("tr").each(function(){a(this).closest("thead").length>0||a(this).find("th").length>0||a(this).remove()})},_addTableHighlight:function(b){var c=b.target;c=a(c).closest("tr,td, th")[0];var d=a(c).closest("tr")[0],e=a(c).closest("th")[0],f=a(c).closest("table")[0],g=!1;if(void 0!==e&&(g=!0),a(f).find(".af-table-row").removeClass("af-table-row"),a(f).find(".af-table-cell").removeClass("af-table-cell"),a(f).find(".af-table-column").removeClass("af-table-column"),g){var h=a.alopex.widget.table.getColumnIndex(c);a(f).find("td:nth-child("+(h+1)+"),th:nth-child("+(h+1)+")").addClass("af-table-column")}else a(d).addClass("af-table-row"),a(c).addClass("af-table-cell")},getTableHead:function(b){var c=null;return a(b).find("thead").length>0?c=a(b).find("thead")[0]:a(b).find("th").length>0&&(c=a(b).find("th")[0].parentNode),c},getTableBody:function(b){var c;return c=a(b).find("tbody").length>0?b.tBody?b.tBody:a(b).find("tbody")[0]:b},getRowIndex:function(a){for(var b=a.parentNode,c=b;"table"!==c.tagName.toLowerCase();)c=c.parentNode;for(var d=c.tableBody,e=0,f=0;f<d.rows.length;f++)if(d.rows[f]!==c.tableHead){if(d.rows[f]===b)return e;e++}return e},getColumnIndex:function(b){var c=b.parentNode;if(a.alopex.util.isValid(c.cells))for(var d=0;c.cells.length;d++)if(c.cells[d]===b)return d;return-1},_enableEditing:function(b){a(b.wrapper).on("click",'[data-editable="true"]',a.alopex.widget.table._editHandler)},_disableEdit:function(b){var c=b.tableHead,d=b.tableBody;a(c).find('[data-editable="true"]').each(function(){for(var b=this,e=a.alopex.widget.table.getColumnIndex(b),f=0;f<d.rows.length;f++)d.rows[f]!==c&&a(d.rows[f]).find("td:nth-child("+(e+1)+")").unbind("click",a.alopex.widget.table._editHandler)})},_editHandler:function(b){function c(b){b.stopImmediatePropagation(),b.preventDefault();var c=a.alopex.widget.table.tmpInput,d=a(c).val();c.parentNode.text!==d&&(a(c.parentNode).addClass("af-edited Edited"),e.edited=!0),a(c.parentNode).text(d).removeClass("af-editing Editing"),a(c).remove(),a.alopex.widget.table._enableEditing(e)}var d=a(b.target).closest("td")[0],e=a(d).closest("table")[0];if(!(void 0!==d.children&&d.children.length>0)){var f=document.createElement("input");a(f).val(d.text=a(d).text()),a.alopex.widget.table.tmpInput=f,a.alopex.widget.table.tmp=d,a(d).text("").append(f).addClass("af-editing Editing"),a(f).focus(),a.alopex.widget.table._disableEdit(e),a(f).bind("focusout",function(a){c(a)}),a(f).bind("keydown",function(a){(13===a.keyCode||27===a.keyCode)&&c(a)})}},_addColgroup:function(b){var c=a(b).find("tr");c=c[c.length-1];var d=a(b).find("colgroup");if(0===d.length){d=document.createElement("colgroup");for(var e=0;e<c.children.length;e++){var f=document.createElement("col");a(f).appendTo(d)}a(d).insertBefore(b.children[0])}else d=d[0]},_refreshColgroup:function(b){var c=a(b).find("tr");if(c.length>0){var d,e=0;c.each(function(b,c){var d=a(c).children("td").length;e=d>e?d:e});var f=a("<tr>").css("height","0px");for(d=0;e>d;d++)f.append("<td>&nbsp;</td>");f.insertAfter(c.last());var g,h=(a(b).find("colgroup"),[]);for(d=0,g=e;g>d;d++){var i=f.children("td").eq(d).offsetWidth;h.push(i)}for(d=0;d<h.length;d++)a(b).find("col:nth-child("+(d+1)+")").css("width",h[d]);f.remove()}},_enableResizing:function(b){"mobile"!==window.browser&&(a(b.wrapper).on("mousedown",'[data-resizable="true"]',this._resizeStartHandler).on("mousemove",'[data-resizable="true"]',this._checkResizeCondition),a(b.wrapper).find('[data-resizable="true"]').each(function(){this.table=b;var c=document.createElement("div");a(c).addClass("af-table-resize ResizeIcon").appendTo(this)}),a(b.rows[0].cells).each(function(a){this.index=a}),a(b).on("selectstart",function(a){return!1}),a(b).on("dragstart",function(a){return!1}))},_resizeStartHandler:function(b){var c=b.currentTarget,d=c.table,e=d.offsetWidth;a(d).css({width:e+"px","min-width":""}),a.alopex.widget.table.resizeready&&(a.alopex.widget.table.resizing=!0,a.alopex.widget.table.resizingEl=c,a(document).bind("mousemove",a.alopex.widget.table._resizeMoveHandler),a(document).bind("mouseup",a.alopex.widget.table._resizeEndHandler),a.alopex.util.isValid(a("body").css("cursor"))&&a("body").data("cursor",a("body").css("cursor")),a("body").css("cursor","col-resize").css("text-overflow","ellipsis"))},_resizeMoveHandler:function(b){if(a.alopex.widget.table.resizing){var c=a.alopex.widget.table.resizingEl,d=c.table,e=a.alopex.util.getScrolledPosition(c),f=e.left,g=b.pageX-f;c.width&&g<c.width&&Math.abs(c.width-c.offsetWidth)>3?(a.alopex.widget.table._resizeColumn(c,c.offsetWidth),c.width=c.offsetWidth):(a.alopex.widget.table._resizeColumn(c,g),c.width=g),a.alopex.widget.table._refreshTableScroll(d)}},_resizeEndHandler:function(b){if(a.alopex.widget.table.resizing){a.alopex.widget.table.resizingEl;a.alopex.widget.table.resizing=!1,a.alopex.widget.table.resizingEl=null,a(document).unbind("mousemove",a.alopex.widget.table._resizeMoveHandler),a(document).unbind("mouseup",a.alopex.widget.table._resizeEndHandler),a.alopex.util.isValid(a("body").data("cursor"))?a("body").css("cursor",a("body").data("cursor")):a("body").css("cursor","").css("background","")}},_checkResizeCondition:function(b){var c=a(b.target).closest('[data-resizable="true"]')[0],d=a.alopex.util.getScrolledPosition(c),e=d.left+c.offsetWidth;"col-resize"!==a(c).css("cursor")&&a(c).data("cursor",""),b.pageX>=e-a.alopex.widget.table.resizeThreshold?(a(c).css("cursor","col-resize"),a.alopex.widget.table.resizeready=!0):(a(c).css("cursor",a(c).data("cursor")),a.alopex.widget.table.resizeready=!1)},_resizeColumn:function(b,c){var d=b.table,e=a(d),f=d.head;a(b).css("width",c+"px"),a(e).find("colgroup > col:nth-child("+(b.index+1)+")").each(function(){var d=a(e).find("tr:first-child").find("td,th")[b.index].offsetWidth,g=this.width?this.width:d,h=this.tableWidth?this.tableWidth:parseInt(e.css("width").replace("px",""),10),i=c-g;this.width=c,this.style.width=c+"px",a(this).css("width",c+"px"),this.tableWidth=h+i,e.css("width",this.tableWidth+"px"),a(f).css("width",this.tableWidth+"px")})},_enableSorting:function(b){var c=b.head;a(c).find("th, td").each(function(c){if(void 0!==a(this).attr("data-sortable")||void 0!==a(this).attr("data-sort-function")){this.columnIndex=c,this.table=b;var d=document.createElement("span");a(d).addClass("af-icon Icon"),a(this).append(d).css("cursor","pointer")}}),a(b.wrapper).on("click","[data-sortable], [data-sort-function]",a.alopex.widget.table._sort)},_sort:function(b){var c=b.currentTarget;a.alopex.widget.table.sort(c)},sort:function(b,c){void 0===b&&(b=this);var d=b.table;if(d){for(var e=b.columnIndex,f=d.tBodies[0],g=[],h=[],i=0;i<f.rows.length;i++)f.rows[i].cells.length>0&&"th"===f.rows[i].cells[0].tagName.toLowerCase()||g.push([this._getInnerText(f.rows[i].cells[e]),f.rows[i]]);var j;if(void 0!==a(b).attr("data-sort-function"))j=window[a(b).attr("data-sort-function")];else{var k=a(b).attr("data-sortable");switch(k){case"number":j=a.alopex.util.sort_numeric;break;case"date":h=a.alopex.util.formatDate(h),j=a.alopex.util.sort_date;break;default:j=a.alopex.util.sort_default}}for(a(b).siblings().removeClass("af-table-ascending AscendingOrder").removeClass("af-table-descending DescendingOrder"),void 0!==c?"desc"===c.toLowerCase()?(a(b).removeClass("af-table-ascending AscendingOrder"),a(b).addClass("af-table-descending DescendingOrder"),g=a.alopex.util.mergeSort(g,j,!1)):(a(b).removeClass("af-table-descending DescendingOrder"),a(b).addClass("af-table-ascending AscendingOrder"),g=a.alopex.util.mergeSort(g,j,!0)):-1!==b.className.indexOf("af-table-ascending AscendingOrder")?(a(b).removeClass("af-table-ascending AscendingOrder"),a(b).addClass("af-table-descending DescendingOrder"),g=a.alopex.util.mergeSort(g,j,!1)):(a(b).removeClass("af-table-descending DescendingOrder"),a(b).addClass("af-table-ascending AscendingOrder"),g=a.alopex.util.mergeSort(g,j,!0)),i=0;i<g.length;i++)f.appendChild(g[i][1])}},_getInnerText:function(a){return a?a.innerHTML:""},getColumnCount:function(b){for(var c=a(b),d=0,e=c.find("tr"),f=0;f<e.length;f++){var g=e.find("td, th").length;g>d&&(d=g)}return d}})}(jQuery),function(a){a.alopex.widget.tabs=a.alopex.inherit(a.alopex.widget.object,{widgetName:"tabs",defaultClassName:"af-tabs Tabs",setters:["tabs","setTabIndex","setTabByContent","setEnabled","setEnabledByContent","reload","clear","removeTab","setBeforeunload","addTab","_refeshButtonGroup","setDraggable","setTabWidth","cancelThisTabChange"],getters:["getCurrentTabIndex","getTabContentByIndex","getCurrentTabContent","getButtonsGroup","getButtons","getContent","getActiveButtons","getLength","isEnabled","getTitleByIndex","getSubTabByIndex"],requestButton:null,properties:{buttons:null,buttonGroup:null,tabstrigger:"click",eventState:"init",carousel:!1,wrapper:null,removebutton:!1,initfocus:!1,beforeunload:{},buttonScroller:!1,useremoveall:!1,draggable:!1,
tabwidth:null,depth2position:null,refreshbutton:!1},classNames:{removebutton:"RemoveButton",refreshbutton:"RefreshButton"},getLength:function(a){return a.buttons?a.buttons.length:0},getButtonsGroup:function(a){return a.buttonGroup},getButtons:function(a){return a.buttons},getContent:function(b,c,d){a.alopex.widget.tabs.getTabContentByIndex(b,c,d)},getTitleByIndex:function(b,c,d){if(b.buttons&&b.buttons[c]){if("number"==typeof d)try{var e=a(b.buttons[c].depth2Tabs.buttons[d]).find("p");if(!e.length)return;return g=e.text()}catch(f){return}var g=a(b.buttons[c]).contents().filter(function(){return 3==this.nodeType}).text();return g}},reload:function(b,c,d){b.buttons&&b.buttons[c]?0!=a(b.buttons[c]).attr("data-content").indexOf("#")&&this._loadHTML(b.buttons[c],b,d):console.error("Can't find any Content by the index["+c+"]")},setBeforeunload:function(b,c,d){a(b);b.options.beforeunload||(b.options.beforeunload={}),b.options.beforeunload[c]=d},init:function(b,c){var d=a(b);b.options=a.extend(!0,{},this.properties,c),b._currentTabIndex=-1,b.depth=1,b.options&&"top"==b.options.depth2position||b.options&&"left"==b.options.depth2position&&a(b).addClass("Vertical"),a(b).find(".ButtonScroller").length>0&&(b.options.buttonScroller=!0,a(b).prepend('<button class="Button ScrollerbuttonL"><span class="Icon Chevron-left" data-position="center"></span></button>').find(".ScrollerbuttonL").convert(),a(b).prepend('<button class="Button ScrollerbuttonR"><span class="Icon Chevron-right" data-position="center"></span></button>').find(".ScrollerbuttonR").convert()),b.options&&b.options.useremoveall&&a(b).prepend('<button class="Button RemoveAllTabs"><span class="Icon Remove" data-position="center"></span></button>').find(".RemoveAllTabs").convert(),"true"===b.options.lazyload&&d.find("[data-type]").each(function(){this.options.phase="pending"});var e=this._getProperty(b,"tabstrigger");("hover"===e||"hovering"===e)&&(b.options.tabstrigger="hoverstart");var f=this._getProperty(b,"removebutton");if(f&&(b.options.removebutton=f),b.buttonGroup=d.find("> ul, >div.Scroller>ul"),0===b.buttonGroup.length?(b.buttonGroup=d.find(".af-tabs-button-group"),b.buttons=b.buttonGroup.find("> li")):(b.buttonGroup.addClass("af-tabs-button-group"),b.buttons=b.buttonGroup.find("> li"),this._setButtongroupWidth(b)),a(b.buttons).addClass("Ellipsis"),b.removebuttons=[],b.buttons.length>0){b.buttons.on("click",function(a){a.preventDefault()});var g=-1;"flex"==this._getProperty(b,"contentsdisplay")&&(g=b.buttonGroup.innerWidth()/b.buttons.length);for(var h=0;h<b.buttons.length;h++)this._makeTabButton(b,b.buttons[h],h,g);null!==b.options.inittabindex&&void 0!==b.options.inittabindex?a.alopex.widget.tabs._setTabIndex(b,parseInt(b.options.inittabindex),b.options.initfocus):a.alopex.widget.tabs._setTabIndex(b,0,b.options.initfocus),a(b).on("keydown",a.alopex.widget.tabs._keyEventHandler)}if(this._setTabWidth(b),this._unbindEvent(b),this._bindEvent(b),a.alopex.widget.tabs._resizeHandler(b),this._resizeEvent(b,this._resizeHandler),b.options&&b.options.draggable){var h;for(h=0;h<b.buttons.length;h++)a(b.buttons[h]).attr("draggable",!0),a(b.buttons[h]).on("dragstart",this._tabDrag),a(b.buttons[h]).on("drop",this._tabDrop),a(b.buttons[h]).on("dragover",this._allowTabDrop)}},_resizeEvent:function(b,c){window.resizeEvt,a(window).resize(b,function(a){window.resizeEvt=c(b)})},_resizeHandler:function(b){var c=a(b);if(c.is(":visible")){var d=c.find(">ul"),e=c.find(".Scroller"),f=parseFloat(c.css("margin-left"));e.length&&(e.css("width","1"),d.css("width","1"),c.css("width","100%"),"number"==typeof f&&f>0?(e.css("width",c.width()-f),c.css("width",c.width()-f)):(e.css("width",c.width()),c.css("width",c.width())),d.css("width"," "));var g=c.find(">.af-tabs-content >.Vertical-sub-tabs"),h=g.find(">div");if(g.length){var i=g.first().parent(),j=parseInt(i.css("border-left"));isNaN(j)&&(j=parseFloat(i.css("border-left-width"))),g.css("width",c.width()+f-j),h.css("width",c.width())}a.alopex.widget.tabs._setButtongroupWidth(b)}},_validationTabWidth:function(a){if(null===a)return null;var b=a;return $a.util.isNumberType(b)?b+"px":(b=a.split("px")[0],$a.util.isNumberType(b)?b+"px":(console.error('arg "'+a+'" is not correct type'),null))},setTabWidth:function(b,c){var d=a.alopex.widget.tabs._validationTabWidth(c);null!=d&&(b.options.tabwidth=c,a(b).attr("data-tab-width",b.options.tabwidth),this._setTabWidth(b),this._setButtongroupWidth(b),a.alopex.widget.tabs._resizeHandler(b))},setDraggable:function(b,c){var d,e,f;for(c?b.options.draggable=!0:b.options.draggable=!1,d=0;d<b.buttons.length;d++)if(e=b.buttons[d],f=a._data(e,"events"),c){var g=a(e).attr("draggable");(void 0==g||0==g||"false"==g)&&a(e).attr("draggable",!0),f.dragstart||a(e).on("dragstart",this._tabDrag),f.drop||a(e).on("drop",this._tabDrop),f.dragover||a(e).on("dragover",this._allowTabDrop)}else{var g=a(e).attr("draggable");(1==g||"true"==g)&&a(e).attr("draggable",!1),f.dragstart&&a(e).off("dragstart",this._tabDrag),f.drop&&a(e).off("drop",this._tabDrop),f.dragover&&a(e).off("dragover",this._allowTabDrop)}},_tabDrag:function(b){var c=b.target,d=a(c),e=d.parent("ul").children("li").index(c),f=d.closest("div.Tabs");f.prop("dragging_index",e)},_tabDrop:function(b){var c=b.target,d=a(c),e=a(c).closest("div.Tabs"),f=e.prop("dragging_index");if(void 0!=f){var g,h=d.parent("ul").children("li").get(f),i=d.width(),j=d.offset().left;g=b&&b.clientX?b.clientX:window.event.clientX,g>j+i/2?a(h).insertAfter(d):a(h).insertBefore(d),a.alopex.widget.tabs._refeshButtonGroup(e[0]);var k=d.parent("ul").children("li").index(h);a.alopex.widget.tabs._setTabIndex(e[0],k,!0),b.preventDefault()}},_allowTabDrop:function(a){a.preventDefault()},defer:function(b,c){if(b.options&&b.options.carousel)var d=setInterval(function(){a(b).is(":hidden")||(clearInterval(d),b.options&&b.options.carousel&&(a(b).find("> .af-tabs-content, >div:not(.Scroller)").attr("data-role","page"),a(b).attr("data-type","carousel").carousel()))},200)},_evt_swipe:function(b,c){__ALOG("swipe");var d=a(b.currentTarget).parent('[data-type="carousel"]')[0],e=(d.width-Math.abs(c.distanceX))/c.speed*1e3;e>500&&(e=500);var f=d._currentTabIndex;if(c.distanceX<0){do f++;while(!a.alopex.widget.tabs.isEnabled(d,f)&&f<d.buttons.length)}else do f--;while(!a.alopex.widget.tabs.isEnabled(d,f)&&f>=0);-1==f||f>=d.buttons.length?a.alopex.widget.tabs._setTabIndex(d,d._currentTabIndex):a.alopex.widget.tabs._setTabIndex(d,f),d.press=!1,a(d).trigger("swipechange",[d._currentTabIndex])},_keyEventHandler:function(b){var c=b.target,d=c,e=b.currentTarget;if(!(a(e.buttons).filter(c).length<=0)){for(var f=!1;a.alopex.util.isValid(c)&&!f;){var g=null!==b.keyCode?b.keyCode:b.which;switch(g){case 9:return;case 37:case 38:c=0!==a(c).prev().length?a(c).prev()[0]:a(c).siblings().last()[0],b.preventDefault();break;case 39:case 40:c=0!==a(c).next().length?a(c).next()[0]:a(c).siblings().first()[0],b.preventDefault();break;default:return}var h=a.alopex.widget.tabs;(h.isEnabled(e,c.index)||c==d)&&(f=!0)}a.alopex.widget.tabs._setTabIndex(c.element,c.index,!0),b.preventDefault()}},refreshButtons:function(a,b,c){a.buttonGroup.children().attr("aria-selected","false").attr("tabindex","-1").removeClass("af-selected Selected"),1==c?a.buttonGroup.children().eq(b).attr("aria-selected","true").attr("tabindex","0").addClass("af-selected Selected").focus():a.buttonGroup.children().eq(b).attr("aria-selected","true").attr("tabindex","0").addClass("af-selected Selected")},_loadHTML:function(b,c,d){this.requestButton=b;var e=a(b).attr("data-content-iframe");if(a.alopex.loading=!0,"true"===e||e===!0){var f=a("<iframe></iframe>").attr("src",a(b).attr("data-content")).attr("name",a(b).attr("data-content-iframe-id")).attr("id",a(b).attr("data-content-iframe-id"));a(b.content).html(f),b.loadType="local",f.on({load:function(){b.loadType="local",a(c).trigger("tabchange",a.alopex.widget.tabs._getIndexArrayFromButton(b)),d&&d()}})}else{var g=!1;void 0==a(b).attr("data-subtab-button1")?g=!1:"true"!=a(b).attr("data-subtab-button1")&&(g=!0);var h=a(b).attr("data-url")||a(b).attr("data-content");"#"===h.charAt(0)&&(h=h.replace("#","")),a.ajax({url:h,cache:!1,async:g,complete:function(b,e){var f=a.alopex.widget.tabs.requestButton;if("error"===e){var g='<p>해당 웹페이지를 사용할 수 없음</p><p style="color:red;">'+b.statusText+"</p>";a(f.content).html(g)}else f.loadType="local",a(f.content).html(b.responseText).convert(),a(c).trigger("tabchange",a.alopex.widget.tabs._getIndexArrayFromButton(f)),a(document).trigger("alopexuiready"),d&&d(),a(window).trigger("resize")}})}},getCurrentTabIndex:function(a){return 1===a.depth?a._currentTabIndex:2===a.depth?[a._currentTabIndex,a.buttons[a._currentTabIndex].depth2Tabs._currentTabIndex]:void 0},getCurrentTabContent:function(a){return 1===a.depth?a._currentTabContent:2===a.depth?[a._currentTabContent,a.buttons[a._currentTabIndex].depth2Tabs._currentTabContent]:void 0},getTabContentByIndex:function(b,c,d){if(a.alopex.util.isValid(c)&&b.buttons&&b.buttons[c]){if(d)try{return b.buttons[c].depth2Tabs.buttons[d].content}catch(e){return}return b.buttons[c].content}return null},setTabByContent:function(a,b){if(a.buttonGroup.length>0){var c=a.buttonGroup.find('[data-content="'+b+'"]').index();if(!this.isEnabled(a,c))return;this._setTabIndex(a,c)}},cancelThisTabChange:function(a){a.canceltabchange=!0},setTabIndex:function(b,c,d){var e=a(b);if("object"==typeof c){var f=c[0],g=c[1];if(!a.alopex.widget.tabs.isEnabled(b,f,g))return;var h=a(b).getSubTabByIndex(f);if(e.trigger("beforetabchange",c),b.canceltabchange===!0)return void(b.canceltabchange=!1);a.alopex.widget.tabs._setTabIndex(b,f,d),a.alopex.widget.tabs._setTabIndex(h,g,d)}else{if(b.isDepth2Tab){var i=a.alopex.widget.tabs.getSubTabByIndex(b,c);i?e.trigger("beforetabchange",[c,i._currentIndex]):e.trigger("beforetabchange",[c,0])}else e.trigger("beforetabchange",[c]);if(b.canceltabchange===!0)return void(b.canceltabchange=!1);if(a.alopex.widget.tabs._setTabIndex(b,c,d),b.isDepth2Tab&&b.buttons[b._currentTabIndex].depth2Tabs){var j=b.buttons[b._currentTabIndex].depth2Tabs;a.alopex.widget.tabs._setTabIndex(j,j._currentTabIndex,!1)}}},_setTabIndex:function(b,c,d){var e=a(b);if(this.isEnabled(b,c)){if(b.canceltabchange===!0)return b.canceltabchange=!1,void a.alopex.widget.tabs._setTabIndex(b,b._currentTabIndex,!0);if(!(b.options&&b.options.beforeunload&&b.options.beforeunload[b._currentTabIndex]&&b.options&&b.options.beforeunload[b._currentTabIndex]()===!1)){b._currentTabIndex=c;var f=this,g=[];if(b.buttonGroup.length>0){var h=b.buttonGroup.children();if(b._currentTabContent=a(h[c]).attr("data-content"),a(h).each(function(d,h){var i=h;if(d===c)if("true"===e.attr("data-flexbox")?a(i.content).css({display:"-webkit-box"}):a(i.content).css("display","block"),"ajax"===i.loadType)isAjax=!0,f._loadHTML(i,b);else{var j=a.alopex.widget.tabs._getIndexArrayFromButton(i);b.isDepth2Tab&&2===j.length?a(b).trigger("tabchange",a.alopex.widget.tabs._getIndexArrayFromButton(i)):b.isDepth2Tab||a(b).trigger("tabchange",a.alopex.widget.tabs._getIndexArrayFromButton(i))}else g.push(i.content)}),b.options&&b.options.carousel)e.setIndex(c,{animationDuration:0});else for(var i=0;i<g.length;i++){var j=a(g[i]);1===b.depth&&j.find("> div.Vertical-sub-tabs > div.af-tabs-content").css("display","none"),j.css("display","none")}this.refreshButtons(b,c,d),b.options&&b.options.buttonScroller&&(this._moveScrollToShowTabButton(b),this._toggleButtonScrollDisabled(b))}}}},clear:function(b,c){var d=a(this.getContent(b,c));if(a.alopex&&a.alopex.page)for(var e in a.alopex.page)a.alopex.page.hasOwnProperty(e)&&0==e.indexOf("#")&&d.find(e).length>0&&delete a.alopex.page[e];d.empty(),this.getButtons(b)&&this.getButtons(b)[c]&&(this.getButtons(b)[c].loadType="ajax")},setEnabledByContent:function(b,c,d){if(b.buttonGroup.length>0){var e=b.buttonGroup.find('[data-content="'+d+'"]').index();-1===e&&this._isDepth2Tab(b)&&a.each(b.buttons,function(a,c){return a=c.depth2Tabs.buttonGroup.find('[data-content="'+d+'"]').index(),-1!==a?(b=c.depth2Tabs,!1):void 0}),c!=this.isEnabled(b,e)&&this.setEnabled(b,c,e)}},setEnabled:function(a,b,c){if(void 0!=c)if(c instanceof Array)for(var d=0;d<c.length;d++)this._setEnabled(a,b,c[d]);else this._setEnabled(a,b,c);else for(var d=0;d<a.buttons.length;d++)this._setEnabled(a,b,d)},_addDisabledStyle:function(b,c){var d=a(b.buttons).eq(c).addClass("af-disabled Disabled");b.options.removebutton?a(b.removebuttons).eq(c).addClass("af-disabled Disabled"):a(b.buttons).eq(c).find("."+this.classNames.removebutton).length>0&&d.find("."+this.classNames.removebutton).addClass("af-disabled Disabled"),b.options.refreshbutton?a(b.refreshbuttons).eq(c).addClass("af-disabled Disabled"):a(b.buttons).eq(c).find("."+this.classNames.refreshbutton).length>0&&d.find("."+this.classNames.refreshbutton).addClass("af-disabled Disabled")},_removeDisabledStyle:function(b,c){var d=a(b.buttons).eq(c).removeClass("af-disabled Disabled");b.options.removebutton?a(b.removebuttons).eq(c).removeClass("af-disabled Disabled"):a(b.buttons).eq(c).find("."+this.classNames.removebutton).length>0&&d.find("."+this.classNames.removebutton).removeClass("af-disabled Disabled"),b.options.refreshbutton?a(b.refreshbuttons).eq(c).removeClass("af-disabled Disabled"):a(b.buttons).eq(c).find("."+this.classNames.refreshbutton).length>0&&d.find("."+this.classNames.refreshbutton).removeClass("af-disabled Disabled")},isEnabled:function(b,c,d){return 0>c||b.buttons.length<=c?(console.error("[Alopex] index : "+c+" is not valid"),!1):d&&(0>d||b.buttons[c].depth2Tabs.buttons.length<=d)?(console.error("[Alopex] index : ["+c+","+d+"] is not valid"),!1):!a(b.buttons).eq(c).hasClass("af-disabled Disabled")},_setEnabled:function(a,b,c){b?this.isEnabled(a,c)||(this._bindEvent(a,c),this._removeDisabledStyle(a,c)):(this._unbindEvent(a,c),this._addDisabledStyle(a,c))},_selectCallback:function(b){for(var c=a.alopex.widget.tabs,d=b.currentTarget,e=d.element;null===d.index||void 0===d.index;)d=d.parentNode;var f=a.inArray(d,e.buttons);if(d.defaultStyleClass=a(d).attr("class"),2===e.depth){var g=d.depth1Tabs;c.setTabIndex(g,[g._currentTabIndex,f])}else if(e.isDepth2Tab&&1===e.depth){var h=a.alopex.widget.tabs.getSubTabByIndex(e,f);c.setTabIndex(e,[f,h._currentTabIndex])}else c.setTabIndex(e,f);e.options.eventState="focused"},removeTab:function(b,c,d){var e=b,f=c,g=d;if(void 0!==d){if(!b.buttons[c])return;b=b.buttons[c].depth2Tabs,c=d}if(b.buttons&&0!=b.buttons.length||(b.buttons=b.buttonGroup.find("> li")),b.buttons[c])if(a(e).trigger("removetab",[f,g]),a(b.buttons[c].content).remove(),a(b.buttons[c]).remove(),b.buttons[c]=null,b.buttons.splice(c,1),b.removebuttons&&(b.removebuttons[c]=null,b.removebuttons.splice(c,1)),a.alopex.widget.tabs._re_setTabIndex(b),a.alopex.widget.tabs._setButtongroupWidth(b),b.buttons.length>0){if(c===b._currentTabIndex){var h=a.alopex.widget.tabs.getLength(b);h-1>=c?a.alopex.widget.tabs.setTabIndex(b,c,!0):c>h-1&&a.alopex.widget.tabs.setTabIndex(b,c-1,!0)}}else 0==b.buttons.length},_re_setTabIndex:function(b){a.each(b.buttons,function(c,d){d.index=c,(a(d).hasClass("Selected")||a(d).hasClass("af-selected")||"true"===a(d).attr("aria-selected")||"0"===a(d).attr("tabindex"))&&(b._currentTabIndex=c)})},_setRemoveBtnEvent:function(b){var c=b.currentTarget,d=c.parentElement.element,e=a.inArray(this.parentElement,d.buttons);a(d).trigger("removebuttnclick"),a.alopex.widget.tabs.removeTab(d,e)},_setRefreshBtnEvent:function(b){var c=b.currentTarget,d=c.parentElement.element,e=a.inArray(this.parentElement,d.buttons);a(d).trigger("refreshbuttonclick"),a.alopex.widget.tabs.reload(d,e)},_bindEvent:function(b,c){var d,e=this;if(d=c?a(b.buttons).eq(c):a(b.buttons),0!=d.length){d.each(function(){e.addHoverHighlight(this),e.addPressHighlight(this)}),d.on(b.options.tabstrigger,this._selectCallback);var f;f=b.options.removebutton?c?a(b.removebuttons).eq(c):a(b.removebuttons):d.find("."+a.alopex.widget.tabs.classNames.removebutton),f&&f.length>0&&(f.each(function(){e.addHoverHighlight(this),e.addPressHighlight(this)}),f.on("click",this._setRemoveBtnEvent));var g;g=b.options.refreshbutton?c?a(b.refreshbuttons).eq(c):a(b.refreshbuttons):d.find("."+a.alopex.widget.tabs.classNames.refreshbutton),g&&g.length>0&&(g.each(function(){e.addHoverHighlight(this),e.addPressHighlight(this)}),g.on("click",this._setRefreshBtnEvent))}},_unbindEvent:function(b,c){var d,e=this;if(d=void 0!=c?a(b.buttons).eq(c):a(b.buttons),0!=d.length){if(d.each(function(){e.removeHoverHighlight(this),e.removePressHighlight(this)}),d.off(b.options.tabstrigger,this._selectCallback),b.options.removebutton){var f;if(f=c?a(b.removebuttons).eq(c):a(b.removebuttons),0==f.length)return;f.each(function(){e.removeHoverHighlight(this),e.removePressHighlight(this)}),f.off("click",this._setRemoveBtnEvent)}if(b.options.refreshbutton){var g;if(g=c?a(b.refreshbuttons).eq(c):a(b.refreshbuttons),0==g.length)return;g.each(function(){e.removeHoverHighlight(this),e.removePressHighlight(this)}),g.off("click",this._setRefreshBtnEvent)}}},_showButtonScrollerPosition:function(b,c){var d=a(b).find(".ScrollerbuttonL, .ScrollerbuttonR, .RemoveAllTabs");a(d).each(function(){if(b[a(this).attr("class")]=a(this).attr("class"),this.el=b,b.buttons&&b.buttons.length>0){var c=a(this).css("margin").split("px")[0];a(this).css("min-height",a(b.buttons[0]).height()-2*Number(c))}});var e=this._clickScrollbutton;a.alopex.util.isValid(a.alopex.widget.tabs.scrollButtonClickCallback)&&"function"==typeof a.alopex.widget.tabs.scrollButtonClickCallback&&(e=a.alopex.widget.tabs.scrollButtonClickCallback),c?(this._toggleButtonScrollDisabled(b),d.show(),d.off("mouseup",e),d.on("mouseup",e)):(d.hide(),d.off("mouseup",e))},_moveScrollToShowTabButton:function(b){var c=a(b).find(".ButtonScroller");if(0!==c.length){var d=a(this._getButtonByTabIndex(b)),e=d.offset().left+d.outerWidth(),f=c.offset().left+c.innerWidth();if(e>f)if(this._isfirstTabSelected(b))c.scrollLeft(1e4);else{var g=c.scrollLeft();c.scrollLeft(g+(e-f))}var e=d.offset().left,f=c.offset().left;if(f>e)if(0===b._currentTabIndex)c.scrollLeft(0);else{var g=c.scrollLeft();c.scrollLeft(g-(f-e))}}},_toggleButtonScrollDisabled:function(b){this._isfirstTabSelected(b)?(a(b).find(".ScrollerbuttonL").setEnabled(!1),a(b).find(".ScrollerbuttonR").setEnabled(!0)):this._isLastTabSelected(b)?(a(b).find(".ScrollerbuttonL").setEnabled(!0),a(b).find(".ScrollerbuttonR").setEnabled(!1)):(a(b).find(".ScrollerbuttonL").setEnabled(!0),a(b).find(".ScrollerbuttonR").setEnabled(!0)),b.options&&b.options.useremoveall&&a(b).find(".RemoveAllTabs").setEnabled(!0)},_isfirstTabSelected:function(a){return 0===a._currentTabIndex},_isLastTabSelected:function(a){return a._currentTabIndex===this._getLastIndex(a)},_getLastIndex:function(a){return a.buttons.length-1},_getButtonByTabIndex:function(a){return a.buttons[a._currentTabIndex]},_clickScrollbutton:function(b){var c=b.currentTarget,d=c.el;if(a(c).hasClass("ScrollerbuttonL"))a.alopex.widget.tabs._setTabIndex(d,d._currentTabIndex-1),a.alopex.widget.tabs._moveScrollToShowTabButton(d);else if(a(c).hasClass("ScrollerbuttonR"))a.alopex.widget.tabs._setTabIndex(d,d._currentTabIndex+1),a.alopex.widget.tabs._moveScrollToShowTabButton(d);else if(a(c).hasClass("RemoveAllTabs")){for(;d.buttons.length>0;)a.alopex.widget.tabs.removeTab(d,0);a.alopex.widget.tabs._setButtongroupWidth(d)}return!1},_setButtongroupWidth:function(b){var c=a(b),d=c.find(">div.Scroller");if(d.length>0){var e=0;if(a(b.buttonGroup[0]).find("> li").each(function(){if(this.style.width){var b=this.style.width.replace(/[^0-9]/g,"");e+=Number(b)}else e+=a.alopex.widget.tabs._getCouputedWidth(this)}),b.options&&b.options.buttonScroller&&(e>a(b).innerWidth()?this._showButtonScrollerPosition(b,!0):this._showButtonScrollerPosition(b,!1)),d.length&&d.width()>e)a(b.buttonGroup).css("width",d.width());else if(c.width()>e)a(b.buttonGroup).css("width",c.width());else{var f=document.querySelector(".Tabs.Fixed > ul, .Tabs.Fixed > .Scroller > ul"),g=0;if(f){var h=window.getComputedStyle(f,":before");h&&h.getPropertyValue("width")&&-1!==h.getPropertyValue("width").indexOf("1px")&&(g=1)}a(b.buttonGroup).css("width",e+g+"px")}}},_getCouputedWidth:function(b){var c=window.getComputedStyle(b),d=a(b).outerWidth(),e=Number(c.width.replace("px","")),f=Number(c.paddingLeft.replace("px","")),g=Number(c.paddingRight.replace("px","")),h=Number(c.borderLeftWidth.replace("px","")),i=Number(c.borderLeftWidth.replace("px",""));return e-=parseInt(e),f-=parseInt(f),g-=parseInt(g),h-=parseInt(h),i-=parseInt(i),e+d+f+g+h+i},_makeTabButton:function(b,c,d,e){var f=b.buttonGroup,g=a(c),h=a(b);if(b._currentTabIndex=d,c.element=b,c.index=d,c.depth=1,b.options&&b.options.removebutton){if(!c.removeBtn){var i=document.createElement("button"),j=a(i);j.attr("type","button"),j.addClass(this.classNames.removebutton),j.addClass("af-tabs-removebutton"),j.appendTo(c),c.removeBtn=i,void 0==b.removebuttons&&(b.removebuttons=[],초기화),b.removebuttons.push(c.removeBtn)}}else b.removebuttons=h.find("."+this.classNames.removebutton);if(b.options&&b.options.refreshbutton){var k=g.attr("data-content-iframe");if(("true"===k||k===!0)&&!c.refreshBtn){var l=document.createElement("button"),m=a(l);if(m.attr("type","button"),m.addClass(this.classNames.refreshbutton),m.addClass("af-tabs-refreshbutton"),m.appendTo(c),m.siblings("."+this.classNames.removebutton).length>0){var n=m.css("right");m.css("right",parseInt(n)+m.outerWidth()+2)}g.css("padding-right",38),c.refreshBtn=l,void 0==b.refreshbuttons&&(b.refreshbuttons=[]),b.refreshbuttons.push(c.refreshBtn)}}else b.refreshbuttons=h.find("."+this.classNames.removebutton);g.appendTo(b.buttonGroup);var o=a(b).children(":first-child"),p=o.hasClass("Scroller");g.hasClass("af-tabs-button")||g.addClass("af-tabs-button"),g.find("img").hasClass("af-tabs-button-icon")||g.find("img").addClass("af-tabs-button-icon"),-1!=e&&g.outerWidth(e);var q="li"===c.tagName.toLowerCase()?g:g.find("li"),r=null;if(void 0!=q.attr("data-content")&&(r=q.attr("data-content").split("#")),null==r||void 0==r||""==r||r==[""])return void console.error("'data-content' attribute in the Tabs component is not defined.");switch(1===r.length?c.loadType="ajax":r.length>=2&&(""===r[0]||r[0]===document.URL.split("#")[0]?(c.loadType="local",c.hashAddr=r[1]):c.loadType="ajax"),c.loadType){case"local":var s=a(b).find("#"+c.hashAddr);if(s.length>0)c.content=s[0];else{var t=document.getElementById(c.hashAddr);a.alopex.util.isValid(t)?c.content=t:(c.content=document.createElement("div"),a(c.content).attr("id",c.hashAddr),p?a(c.content).insertAfter(o[0]):a(c.content).insertAfter(f))}break;case"ajax":c.content=document.createElement("div"),p?a(c.content).insertAfter(o[0]):a(c.content).insertAfter(f)}a.alopex.util.isValid(a(c.content).attr("class"))||a(c.content).addClass("af-tabs-content")},addTab:function(){var b=null,c=null,d=arguments[0],e=!0;if(arguments=Array.prototype.slice.call(arguments),"boolean"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1],arguments.pop()),a(d).show(),4==arguments.length){d.isDepth2Tab=!0;var b=a(d).find('li[data-content="'+arguments[2]+'"]')[0],c=a(b);if(b&&b.element)return a.alopex.util.isValid(arguments[1])&&c.html(arguments[1]),d.buttons[0].element==d&&a(d).find(".Vertical-sub-tabs").show(),a.alopex.widget.tabs.setTabIndex(d,b.index,e),b.depth2data=arguments[3],a.alopex.widget.tabs._addSubTab(d,b),void a.alopex.widget.tabs._resizeHandler(d);c=a("<li></li>"),c.attr("data-content",arguments[2]),c.html(arguments[1]),c[0].depth2data=arguments[3]}else 3==arguments.length?(c=a("<li></li>"),c.attr("data-content",arguments[2]),c.html(arguments[1])):c=a(arguments[1]);b=c[0],c.addClass("Ellipsis"),this._setTabWidth(d),this._makeTabButton(d,b,this._getLastIndex(d)+1,-1),d.buttons=d.buttonGroup.find("> li"),this._setTabWidth(d),this._unbindEvent(d,d.buttons.length-1),this._bindEvent(d,d.buttons.length-1),this._setButtongroupWidth(d),a.alopex.widget.tabs.setTabIndex(d,a.alopex.widget.tabs._getLastIndex(d),e),a(d).find(".ButtonScroller").scrollLeft(1e4),d.options.draggable&&this.setDraggable(d,!0),arguments[3]&&a.alopex.widget.tabs._addSubTab(d,b),a.alopex.widget.tabs._resizeHandler(d)},_refeshButtonGroup:function(b){var c=a(b);b.buttonGroup=c.find("> ul, >div.Scroller>ul"),0===b.buttonGroup.length?(b.buttonGroup=c.find(".af-tabs-button-group"),b.buttons=b.buttonGroup.find("> li")):(b.buttonGroup.addClass("af-tabs-button-group"),b.buttons=b.buttonGroup.find("> li")),b.removebuttons=c.find("."+this.classNames.removebutton)},_setTabWidth:function(b){var c=a(b);if("flex"==this._getProperty(b,"contentsdisplay")||"true"==c.attr("data-display-flex"))for(var d=b.buttonGroup.find("li.af-tabs-button"),e=b.buttonGroup.innerWidth()/d.length,f=0;f<d.length;f++)a(d[f]).outerWidth(e);else if(c.hasClass("Fixed")){if(0===c.children("div.Scroller").length&&c.children("ul.af-tabs-button-group").length>0){var g=document.createElement("DIV");g.className="Scroller",c.children("ul.af-tabs-button-group").wrap(g)}var h=a.alopex.widget.tabs._validationTabWidth(b.options.tabwidth);null!=h&&c.find(".Scroller ul li").css("width",b.options.tabwidth)}},_isDepth2Tab:function(a){return Boolean(a.options&&a.options.depth2position)},_getIndexArrayFromButton:function(a){return 1===a.depth?[a.index]:2===a.depth?[a.depth1Tabs._currentTabIndex,a.index]:void 0},getSubTabByIndex:function(b,c){return a.alopex.widget.tabs.isEnabled(b,c)?b.buttons[c].depth2Tabs:void 0},_addSubTab:function(b,c){if(!c.depth2data||!a.isArray(c.depth2data)||0===c.depth2data.length){var d=null;try{d=JSON.stringify(c.depth2data)}catch(e){d=depth2data.toString()}console.error("[Alopex] depth2info object should be Array type and have length.\n[depth2info]: "+d)}a(b).css({"margin-left":40});var f=c.depth2Tabs;if(!f){var g=document.createElement("DIV");g.className="Tabs Vertical-sub-tabs",f=c.depth2Tabs=g,f.buttonGroup=document.createElement("UL"),f.buttonGroup.className="af-tabs-button-group",g.appendChild(f.buttonGroup),f.buttonGroup=a(f.buttonGroup),f.depth=2,f.buttonGroup.buttons=[],f.buttons=[],f.options={},f.options.tabstrigger=b.options.tabstrigger,c.content.appendChild(f)}a.each(c.depth2data,function(c,d){var e=a("<li><p>"+d.title+"</p></li>"),g=e[0];g.depth=2,e.attr("data-content","#"+d.url),e.addClass("Ellipsis"),e.attr("data-url",d.url),0===c&&e.attr("data-subtab-button1",!0),e.on("click",function(a){a.preventDefault()});var h=a(f.buttonGroup);h.append(g),f.buttonGroup.buttons=h.find(">li"),f.buttons=f.buttonGroup.buttons;var i=document.createElement("DIV"),j=a(i);j.css("display","none"),j.addClass("af-tabs-content"),i.url=d.url,a(f).append(i),g.content=i,g.element=f,g.depth1Tabs=b,g.index=f.buttonGroup.buttons.length-1,g.loadType="ajax",a.alopex.widget.tabs.setTabIndex(f,g.index,!1)}),a.alopex.widget.tabs._unbindEvent(f),a.alopex.widget.tabs._bindEvent(f)}})}(jQuery),function(a){a.alopex.widget.textarea=a.alopex.inherit(a.alopex.widget.object,{widgetName:"textarea",defaultClassName:"af-textarea Textarea",setters:["textarea"],init:function(a,b){}})}(jQuery),function(a){a.alopex.widget.textinput=a.alopex.inherit(a.alopex.widget.baseinput,{widgetName:"textinput",defaultClassName:"af-textinput Textinput",setters:["textinput"]})}(jQuery),function(a){a.alopex.widget.togglebutton=a.alopex.inherit(a.alopex.widget.basebutton,{widgetName:"togglebutton",eventHandlers:{toggle:{event:"click",handler:"_toggleHandler"}},triggerEvent:{},properties:{checked:!1},getters:["isChecked"],setters:["togglebutton","setChecked","toggleChecked"],init:function(b){var c=a(b);c.attr("data-on")&&(b.on=c.attr("data-on")),c.attr("data-off")&&(b.off=c.attr("data-off")),this.setChecked(b,!1)},_toggleHandler:function(b){a.alopex.widget.togglebutton.toggleChecked(this)},isChecked:function(a){return this._getProperty(a,"checked")},setChecked:function(b,c){var d=a(b);c?(this._setProperty(b,"checked",!0),d.addClass("af-checked Checked"),d.text(b.on)):(this._setProperty(b,"checked",!1),d.removeClass("af-checked Checked"),d.text(b.off))},toggleChecked:function(a){this.isChecked(a)?this.setChecked(a,!1):this.setChecked(a,!0)}})}(jQuery),function(a){a.alopex.widget.tooltip=a.alopex.inherit(a.alopex.widget.object,{defaultClassName:"af-tooltip Tooltip",getters:[],setters:["tooltip","open","close","toggle"],properties:{tooltiptrigger:"default",opentrigger:"mouseenter",closetrigger:"mouseleave",animation:"none",animationtime:"300",track:"false",position:"auto",cssstyle:{position:"absolute",top:"0px",left:"0px"},currentstate:"closed",opencallback:null,closecallback:null,margin:10},style:function(b,c){var d=a(b);if("tooltip"!==d.attr("data-type")){var e=document.createElement("div"),f=a(e);return f.attr({"data-type":"tooltip"}),f.html(d.attr("title")),f.insertAfter(b),void f.tooltip()}this.properties.base=a(b).prev(),__ALOG("properties",this.properties),a.extend(b,this.properties,c),d.css(b.cssstyle),d.css("display","none")},pre:function(b,c){var d=a(b).attr("title"),e=a('<div data-type="tooltip">'+d+"</div>").insertAfter(b);e.tooltip()},init:function(b,c){var d=a(b.base);0!==d.length&&(b.base=d[0],d.each(function(){this.tooltip=b}),"default"===b.tooltiptrigger?(d.off(".alopexuitooltip"),d.on(b.opentrigger+".alopexuitooltip",a.alopex.widget.tooltip._show),d.on(b.closetrigger+".alopexuitooltip",a.alopex.widget.tooltip._hide)):b.tooltiptrigger&&(d.off(".alopexuitooltip"),b.opentrigger=b.closetrigger=b.tooltiptrigger,d.on(b.opentrigger+".alopexuitooltip",a.alopex.widget.tooltip._toggle)))},_show:function(b){var c=b.currentTarget.tooltip;a(c).open(c.opencallback)},_hide:function(b){var c=b.currentTarget.tooltip;a(c).close(c.closecallback)},_toggle:function(b){var c=b.currentTarget.tooltip;a(c).toggle()},open:function(b,c){var d=a.alopex.util.getOptions(b);a(d.base).length&&(b.base=d.base,this.init(b,d)),d.position&&d.position!==b.position&&(b.position=d.position);var e=a(b);e.css({display:"block"});for(var f=b.offsetWidth,g=b.offsetHeight,h=b.base.offsetWidth,i=b.base.offsetHeight,j=b.offsetParent;j&&j!=document.body&&"relative"!==a(j).css("position")&&"absolute"!==a(j).css("position");)j=j.offsetParent;var k=a.alopex.util.getRelativePosition(b.base),l=a.alopex.util.getRelativePosition(j),m=k.left-l.left,n=k.top-l.top,o=0,p=0;if("fixed"===a(b.offsetParent).css("position")){var q=a(b.base).position();m=q.left,n=q.top}switch(""!=b.scrolltarget&&null!=b.scrolltarget&&void 0!=b.scrolltarget&&(m-=a("#"+b.scrolltarget).scrollLeft(),n-=a("#"+b.scrolltarget).scrollTop()),b.position){case"top":p=m+h/2-f/2,o=n-g-b.margin,e.addClass("top Top");break;case"bottom":p=m+h/2-f/2,o=n+i+b.margin,e.addClass("bottom Bottom");break;case"left":p=m-f-b.margin,o=n+i/2-g/2,e.addClass("left Left");break;case"right":p=m+h+b.margin,o=n+i/2-g/2,e.addClass("right Right");break;default:p=m+h/2-f/2,o=n+i+b.margin,0>p?(p=m+h+b.margin,o=n+i/2-g/2,e.addClass("right Right")):o+g>screen.Height?(p=m+h/2-f/2,o=n-g-b.margin,e.addClass("top Top")):p+f>screen.width?(p=m-f-b.margin,o=n+i/2-g/2,e.addClass("left Left")):e.addClass("bottom Bottom")}switch(e.css({left:p+"px",top:o+"px"}),b.animation){case"slide":var r=b.offsetHeight;a(b).css("height","0px"),a(b).animate({height:r+"px"},parseInt(b.animationtime,10)),a(b).css("height","auto");break;case"fade":a(b).css("opacity","0"),a(b).animate({opacity:"1"},parseInt(b.animationtime,10));break;default:a(b).css("display","block")}b.currentstate="opened",a.alopex.util.isValid(c)&&("string"==typeof c?window[c].apply():c.apply())},close:function(b,c){var d=a(b);a(b.base);switch(d.removeClass("top bottom left right Top Bottom Left Right"),b.animation){case"slide":a(b).animate({height:"0px"},parseInt(b.animationtime,10),function(){a(b).css({height:"auto",display:"none"})});break;case"fade":a(b).fadeOut(b.animationtime,function(c){a(b).css("display","none")});break;default:a(b).css("display","none")}b.currentstate="closed",a.alopex.util.isValid(c)&&("string"==typeof c?window[c].apply():c.apply())},toggle:function(b,c){"opened"===b.currentstate?a(b).close(c):a(b).open(c);
}})}(jQuery),function(a){a.alopex.widget.tree=a.alopex.inherit(a.alopex.widget.object,{widgetName:"tree",defaultClassName:"af-tree Tree",eventHandlers:{cancelEvent:{event:"selectstart",handler:"_cancelEventHandler"}},classNames:{arrow:"Arrow",checkbox:"Checkbox"},setters:["tree","createNode","expand","collapse","expandAll","collapseAll","deleteNode","editNode","setSelected","toggleCheckbox","showCheckbox","hideCheckbox","toggleExpand","setDataSource","traverseUpCheck"],getters:["getNode","getObject","getSelectedNode","getCheckedNodes","deleteAllNodes"],properties:{checked:"checked",parentIdKey:"parentId",idKey:"id",textKey:"text",subItems:"items",iconUrlKey:"iconUrl",linkUrlKey:"linkUrl",depthKey:"depth",lazyKey:"isLazy",sourcetype:"unflatten",draggable:!1},init:function(b,c){a.extend(b,this.properties,c),this.refresh(b)},toggleExpand:function(b,c){c=void 0===c?b:c.node,a.alopex.widget.tree._toggle(c)},_toggle:function(b){a.alopex.util.parseBoolean(a(b).attr("data-expand"))?a.alopex.widget.tree._collapse(b):a(b).find("ul").length>0&&a.alopex.widget.tree._expand(b)},toggleCheckbox:function(b){"visible"!==a(b).attr("data-checkbox")?this.showCheckbox(b):this.hideCheckbox(b)},showCheckbox:function(b){a(b).attr("data-checkbox","visible"),a(b).find('input[type="checkbox"]').css("display","inline-block")},hideCheckbox:function(b){a(b).removeAttr("data-checkbox"),a(b).find('input[type="checkbox"]').css("display","none")},expand:function(b,c){void 0===c&&(c=b);var d=c.node;a.alopex.widget.tree._expand(d)},_expand:function(b){var c=a(b),d=c.closest("ul");c.attr("data-expand","true").addClass("af-tree-expanded Expanded");var e=c.find("> ul");0===e.length&&c.attr("data-expand","false").removeClass("af-tree-expanded Expanded"),e.css("display","block"),a.alopex.widget.tree._triggerEvent(d,b,"expand")},collapse:function(b,c){void 0===c&&(c=b);var d=c.node;a.alopex.widget.tree._collapse(d)},_collapse:function(b){void 0===b&&(b=this);var c=a(b).closest("ul");a(b).attr("data-expand","false").removeClass("af-tree-expanded Expanded"),a(b).find("> ul").css("display","none"),a.alopex.widget.tree._triggerEvent(c,b,"collapse")},setSelected:function(b,c){var d=c.node;a(d).closest('[data-type="tree"]').find(".af-pressed, .Selected").removeClass("af-pressed Selected"),a(d).parents("li").each(function(){a.alopex.widget.tree._expand(this)}),a(d).find("> a").addClass("af-pressed Selected")},expandAll:function(b){a(b).find("li").each(function(){a.alopex.widget.tree._expand(this)})},collapseAll:function(b){a(b).find("li").each(function(){a.alopex.widget.tree._collapse(this)})},createNode:function(b,c,d){var e=null;a.alopex.util.isValid(c)?(c=c.node,e=a(c).find("ul"),e=e.length>0?e[0]:a("<ul></ul>").appendTo(c)[0]):e=c=b;var f=null;f="flat"==b.sourcetype&&"[object Array]"===Object.prototype.toString.call(d)?a.alopex.widget.tree._unflatten(b,d):[d],a.alopex.widget.tree._createNode(b,e,f),a.alopex.widget.tree.refresh(a(c).closest("ul")[0])},deleteNode:function(b,c){c=c.node;var d=a(c).find('input[type="checkbox"]');d.removeAttr("checked"),a.alopex.widget.tree._traverseUp(d[0]),a(c).remove()},deleteAllNodes:function(b){a(b).empty()},editNode:function(b,c,d){c=c.node,a(c).find("> a").text(d[b.textKey]),a(c).find("> a > img.af-tree-img").attr("src",d[b.iconUrlKey]),a(c).attr("id",d[b.idKey])},getNode:function(b,c,d){void 0!==c&&(c=a.alopex.util.trim(c));var e=null;return"id"===d?e=a(b).find('[id="'+c+'"]')[0]:a(b).find("a").each(function(){a.alopex.util.trim(a(this).text())===c&&(e=a(this).closest("li")[0])}),a.alopex.widget.tree._getTreeNodeObj(b,e)},getObject:function(b,c,d){void 0!==c&&(c=a.alopex.util.trim(c));var e=null;return"id"===d?e=a(b).find('[id="'+c+'"]')[0]:a(b).find("a").each(function(){a.alopex.util.trim(a(this).text())===c&&(e=a(this).closest("li")[0])}),e},getSelectedNode:function(b){var c=a(b).find(".af-pressed").closest("li")[0];return a.alopex.widget.tree._getTreeNodeObj(b,c)},getCheckedNodes:function(b,c){var d=[];return a(b).find('input[type="checkbox"]:checked').each(function(){var c=a(this).closest("li")[0];d.push(a.alopex.widget.tree._getTreeNodeObj(b,c))}),c&&c.indeterminate&&a(b).find(".Checkbox:indeterminate").each(function(){var c=a(this).closest("li")[0];d.push(a.alopex.widget.tree._getTreeNodeObj(b,c))}),d},setDataSource:function(b,c){a(b).empty(),"flat"==b.sourcetype&&"[object Array]"===Object.prototype.toString.call(c)&&(c=a.alopex.widget.tree._unflatten(b,c)),a.alopex.widget.tree._createNode(b,b,c),a(b).refresh(c)},_getTreeNodeObj:function(b,c){var d=(b.textKey,b.iconUrlKey,b.idKey,b.depthKey,{});return d[b.idKey]=a(c).attr("id"),d[b.textKey]=a.alopex.util.trim(a(c).find("> a").text()),d[b.iconUrlKey]=a(c).find("> a > img.af-tree-img").attr("src"),d[b.linkUrlKey]=a(c).find("> a").attr("href"),d[b.depthKey]=a(c).attr("depth"),d[b.parentIdKey]=a(c).parents("ul.af-tree-group:eq(0)").parents("li.expandable:eq(0)").attr("id"),d.data=a(c).prop("data"),d.node=c,d},_createNode:function(b,c,d){for(var e=0;e<d.length;e++){var f=d[e],g=a("<li/>").attr("id",a.alopex.util.isValid(f[b.idKey])?f[b.idKey]:"").attr("depth",f[b.depthKey]).prop("data",f).appendTo(a(c));a.alopex.util.parseBoolean(f[b.lazyKey])&&(a(g).attr("data-is-lazy",f[b.lazyKey]),a(g).attr("data-is-loaded","false"));var h=(a("<span/>").addClass("Arrow").appendTo(g),a("<input/>").attr("type","checkbox").addClass("Checkbox af-checkbox").appendTo(g),a("<a/>").addClass("ui-all").appendTo(g));if(a.alopex.util.isValid(f[b.linkUrlKey])&&h.attr("href",f[b.linkUrlKey]),a.alopex.util.isValid(f[b.iconUrlKey])){var i=a("<img/>").attr("src",f[b.iconUrlKey]).appendTo(h);i.after(f[b.textKey])}else h.html(f[b.textKey]);if(a.alopex.util.isValid(f[b.subItems])&&f[b.subItems].length>0){var j=a("<ul/>").appendTo(g)[0];this._createNode(b,j,f[b.subItems])}}},refresh:function(b,c){a.alopex.widget.tree._structure(b),a.alopex.widget.tree._removeEvent(b),a.alopex.widget.tree._addBasicEvent(b),a.alopex.widget.tree._addKeydownEvent(b),a.alopex.widget.tree._addCheckbox(b),a.alopex.widget.tree._checkCheckbox(b,c),a.alopex.widget.tree._setChecked(b)},traverseUpCheck:function(b,c){a.alopex.widget.tree._traverseUp(c)},_structure:function(b){var c;if(void 0!==a(b).attr("data-type")&&-1!==a(b).attr("data-type").indexOf("tree")){if(a(b).children().length>0)for(c=0;c<a(b).children().length;c++)0===c?a(a(b).children()[c]).find("> a").attr("tabindex",0):a(a(b).children()[c]).find("> a").attr("tabindex",-1)}else if(a(b).children().length>0)for(c=0;c<a(b).children().length;c++)a(a(b).children()[c]).find("> a").attr("tabindex",-1);a(b).find("> li").each(function(){var b=a(this).find("> a").addClass("af-tree-link");b.find("> img").addClass("af-tree-img");var c=a(this).find("> ul").addClass("af-tree-group"),d=c.find("li").length>0;if(d||a.alopex.util.parseBoolean(a(this).attr("data-is-lazy"))){a(this).addClass("expandable");var e=a(this).find("span.Arrow").first();0==e.length&&a("<span></span>").attr("class","af-tree-icon Arrow").attr("data-expand","false").insertBefore(a(this).children()[0]),e.attr("data-expand","false"),a.alopex.widget.tree._structure(c[0]),e.css("visibility","visible")}else a(this).attr("data-expand","false").removeClass("expandable"),a(this.querySelectorAll("span.Arrow")).css("visibility","hidden");a.alopex.util.parseBoolean(a(this).attr("data-expand"))||(a(this).attr("data-expand","false").removeClass("af-tree-expanded Expanded"),a(this).find("> ul").css("display","none")),a(this).find(">ul")&&a(this).css("list-style","none")})},_removeEvent:function(b){a(b).find(".af-tree-icon, li>span").unbind("click"),a(b).find(".af-tree-link, li>a").unbind("click").unbind("dbclick").unbind("hoverstart").unbind("focusin")},_triggerEvent:function(b,c,d){var e=a(c).closest("li").attr("id"),f=a.alopex.widget.tree._getNodeText(c),g=a.alopex.widget.tree._getNodePath(c),h=a(c).closest("li")[0],i={id:e,text:f,path:g,node:h,data:a(h).prop("data")};a(b).trigger(d,[i])},_addBasicEvent:function(b){var c=0;a(b).find(".af-tree-icon, li>span").bind("click",function(c){var d=c.target.parentNode;a.alopex.util.parseBoolean(a(d).attr("data-is-lazy"))&&!a.alopex.util.parseBoolean(a(d).attr("data-is-loaded"))?(a.alopex.widget.tree._lazyLoadHandler(b,d),a(d).attr("data-is-loaded","true")):a.alopex.widget.tree._toggle(d)}),a(b).find(".af-tree-link, li>a").bind("dbclick",function(c){var d=c.target;a.alopex.widget.tree._triggerEvent(b,d,"doubleselect"),a.alopex.widget.tree._triggerEvent(b,d,"dbclick")}),a(b).find(".af-tree-link, li>a").bind("click",function(d){var e=d.currentTarget;c++,1==c&&setTimeout(function(){if(1==c)a(b).find("[class~=af-pressed]").removeClass("af-pressed"),a(e).addClass("af-pressed"),a(b).find("[class~=Selected]").removeClass("Selected"),a(e).addClass("Selected"),a.alopex.widget.tree._triggerEvent(b,e,"select");else{var f=d.target;a.alopex.widget.tree._triggerEvent(b,f,"doubleselect"),a.alopex.widget.tree._triggerEvent(b,f,"dbclick")}c=0},300)}),a(b).find(".af-tree-link, li>a").bind("hoverstart",function(c){var d=c.currentTarget;a(b).find("[class~=af-hover]").removeClass("af-hover"),a(d).addClass("af-hover"),a.alopex.widget.tree._triggerEvent(b,d,"hover")}),a(b).find(".af-tree-link, li>a").bind("hoverend",function(b){var c=b.currentTarget;a(c).removeClass("af-hover")}),("true"===a(b).attr("data-draggable")||a(b).attr("data-draggable")===!0)&&a(b).find("li > a").each(function(){a(this).attr("draggable",!0),a(this).off("dragover.alopex").on("dragover.alopex",a.alopex.widget.tree._treeDragOver),a(this).off("dragstart.alopex").on("dragstart.alopex",a.alopex.widget.tree._treeDragStart),a(this).off("drop.alopex").on("drop.alopex",a.alopex.widget.tree._treeDrop)})},_treeDragStart:function(b){var c=a(b.target).parent("li");a.alopex.util.isValid(c.attr("id"))?b.originalEvent.dataTransfer.setData("dragElemId",c.attr("id")):(c.attr("id","alopex-tree-temp-id-"+Math.random().toString(36).substr(2,5)),b.originalEvent.dataTransfer.setData("dragTempId",c.attr("id")))},_treeDrop:function(b){var c,d;c=b.originalEvent.dataTransfer.getData("dragTempId")?a("#"+b.originalEvent.dataTransfer.getData("dragTempId")).removeAttr("id"):a("#"+b.originalEvent.dataTransfer.getData("dragElemId")),d=c[0].parentElement;var e=a(b.target).closest("li").children("ul").first();if(0==e.length)e=a("<ul></ul>").appendTo(a(b.target).closest("li"));else if(a(e).closest("li").is(a(c).parent().closest("li")))return;a(e).append(c);var f=a(e).closest(".Tree"),g=a(b.target).closest("li")[0];"visible"===f.attr("data-checkbox")&&(a.alopex.widget.tree._traverseDown(d),a.alopex.widget.tree._traverseUp(d),a.alopex.widget.tree._traverseUp(c)),f.refresh();var h={dragTarget:{id:c[0].id,text:a(c[0]).children("a").first().text(),path:a.alopex.widget.tree._getNodePath(c[0]),node:c[0],data:a(c[0]).prop("data")},dropTarget:{id:g.id,text:a(g).children("a").first().text(),path:a.alopex.widget.tree._getNodePath(g),node:g,data:a(g).prop("data")}};f.trigger("dragdrop",[h]),b.preventDefault()},_treeDragOver:function(a){a.preventDefault()},_getNodeText:function(b){return a.alopex.util.trim(a(b).text())},_getNodePath:function(b){var c="/"+a.alopex.widget.tree._getNodeText(b);try{for(;a(b).closest("ul").siblings("a").length>0;)b=a(b).closest("ul").siblings("a")[0],c="/"+a.alopex.widget.tree._getNodeText(b)+c;return c}catch(d){return c}},_addKeydownEvent:function(b){var c,d,e;a(b).find(".af-tree-link, li>a").bind("focusin click",function(f){a.alopex.widget.tree.currentTree=b,a(window).bind("mousedown",function(c){var d=c.target,e=a(d).closest("ul");(0===e.length||e[0]!==b)&&(a(document.body).unbind("keydown"),a(window).unbind("mousedown"))}),a(b).unbind("keydown"),a(b).bind("keydown",function(b){var f,g,h=b.target,i=a(h),j=null!==b.keyCode?b.keyCode:b.which;switch(j){case 36:i.removeClass("af-pressed"),i=a(a.alopex.widget.tree.currentTree).find('[class~="af-tree-link"]')[0],i.focus();break;case 35:for(i.removeClass("af-pressed"),h=a(a.alopex.widget.tree.currentTree).children("li").last();"true"===a(h).attr("data-expand");)h=a(h).children("ul").children("li").last();i=h.find('> [class="af-tree-link"]').focus();break;case 37:if("true"!==i.parent().attr("data-expand")){var k=i.closest("ul").siblings('[class~="af-tree-link"]');k.length>0&&(i.removeClass("af-pressed"),k.focus())}else a.alopex.widget.tree._toggle(i.parent()[0]);break;case 38:if(f=i.closest("ul"),g=f.find('[class~="af-tree-link"]'),"false"===a(i.parent().prev()).attr("data-expand")&&0!==i.parent().prev().length){a(i.parent().prev().find('[class~="af-tree-link"]')[0]).focus();break}if(i[0]===g.first()[0])a(f.siblings("a")).focus();else if(i[0]===g.last()[0]&&"false"===a(i.parent().siblings()[0]).attr("data-expand"))a(i.parent().prev().find('[class~="af-tree-link"]')[0]).focus();else{for(e=!1,c=g.length-1;c>=0;c--)if(e){if("none"!==a(g[c]).closest("ul").css("display"))break}else g[c]===i[0]&&(e=!0);c>=0&&(g.removeClass("af-pressed"),a(g[c]).focus())}break;case 39:"true"!==i.parent().attr("data-expand")?a.alopex.widget.tree._toggle(i.parent()[0]):i.siblings("ul").find('[class~="af-tree-link"]').length>0&&(i.removeClass("af-pressed"),a(i.siblings("ul").find('[class~="af-tree-link"]').first()).focus());break;case 40:if(f=i.closest("ul"),g=f.find('[class~="af-tree-link"]'),"false"===a(i.parent()).attr("data-expand")&&0!==i.parent().next().length){a(i.parent().next().find('[class~="af-tree-link"]')[0]).focus();break}if(i[0]===g.last()[0]){for(d=f.parent();0===d.next().length;)if(d=d.closest("ul").parent(),void 0===d[0])return;a(d.next().find('[class~="af-tree-link"]')[0]).focus()}else if(i[0]===g.first()[0]&&"false"===a(g.first().parent()).attr("data-expand")&&g.first().siblings("span").length>0&&0===i.parent().siblings().length)if("tree"!==a(f).attr("data-type")){for(d=f.parent();0===d.next().length;)d=d.closest("ul").parent();a(d.next().find('[class~="af-tree-link"]')[0]).focus()}else i.parent().next().length>0&&a(i.parent().next().find('[class~="af-tree-link"]')[0]).focus();else{for(e=!1,c=0;c<g.length;c++)if(e){if("none"!==a(g[c]).closest("ul").css("display"))break}else g[c]===i[0]&&(e=!0);c<g.length&&(g.removeClass("af-pressed"),a(g[c]).focus())}break;default:return}b.stopPropagation(),b.preventDefault()})})},_addCheckbox:function(b){var c="visible"===a(b).closest(".Tree").attr("data-checkbox");a(b).find("input.Checkbox").each(function(){$this=a(this),$this.attr("data-type","checkbox").checkbox().bind("change click",a.alopex.widget.tree._checkboxHandler),$this.attr("style",$this.attr("style")+";"),c?$this.css("display","inline-block"):$this.css("display","none")})},_checkboxHandler:function(b){var c=b.currentTarget,d=a(c);d.is(":checked")?a(c.parentNode).find('input[type="checkbox"]').each(function(){this.indeterminate=!1,this.setAttribute("checked",!0),this.checked=!0}):a(c.parentNode).find('input[type="checkbox"]').removeAttr("checked").each(function(){this.indeterminate=!1,this.removeAttribute("checked")}),a.alopex.widget.tree._traverseUp(c.parentNode)},_traverseUp:function(b){var c=a(b).closest("ul").find("> li > input").length,d=0,e=0;a(b).closest("ul").find("> li > input").each(function(){this.indeterminate?e++:a(this).is(":checked")&&d++});var f=a(b).closest("ul").siblings('input[type="checkbox"]');f.length>0&&(0===d&&0===e?(f.prop("indeterminate",!1),f.removeAttr("checked"),f.each(function(){this.indeterminate=!1,this.removeAttribute("checked")})):d===c?(f.prop("indeterminate",!1),f.attr("checked","true"),f.each(function(){this.indeterminate=!1,this.setAttribute("checked","true"),this.checked=!0})):(f.prop("indeterminate",!0),f.removeAttr("checked"),f.each(function(){this.indeterminate=!0,this.removeAttribute("checked")})),a.alopex.widget.tree._traverseUp(f[0]))},_traverseDown:function(b){var c=a(b),d=a(b).find("> li > input").length,e=0,f=0;a(b).find("> li > input").each(function(){this.indeterminate?f++:a(this).is(":checked")&&e++}),0===e&&0===f?(c.prop("indeterminate",!1),c.removeAttr("checked")):e===d?(c.prop("indeterminate",!1),c.attr("checked","true"),c.indeterminate=!1):(c.prop("indeterminate",!0),c.removeAttr("checked"))},_checkCheckbox:function(b,c){function d(a){var c=0;if(a[b.idKey]?(e.type="ID",e[a[b.idKey]]=a[b.checked]):e[a[b.textKey]]=a[b.checked],a[b.subItems]&&a[b.subItems]instanceof Array&&a[b.subItems].length>0){for(var f=0;f<a[b.subItems].length;f++)d(a[b.subItems][f])&&c++;return c==a[b.subItems].length?e[a[b.idKey]]=!0:c>0&&(e[a[b.idKey]]={},e[a[b.idKey]].ime=!0),1==e[a[b.idKey]]?!0:!1}return a[b.checked]}var e={};if(c)for(var f=0;f<c.length;f++)d(c[f]);var g;"ID"==e.type?a(b).find("li").each(function(){g=a(this),checkbox=g.find(">.af-checkbox")[0],$checkbox=a(checkbox),1==e[this.id]?($checkbox.attr("checked",!0),checkbox.checked=!0):e[this.id]&&e[this.id].ime&&($checkbox.prop("indeterminate",!0),$checkbox.removeAttr("checked"),checkbox.indeterminate=!0,checkbox.removeAttribute("checked"))}):a(b).find(".af-tree-link").each(function(){g=a(this),checkbox=g.find(">.af-checkbox")[0],$checkbox=a(checkbox),e[g.text()]?($checkbox.attr("checked",!0),checkbox.checked=!0):e[g.text()]&&e[g.text()].ime&&($checkbox.prop("indeterminate",!0),$checkbox.removeAttr("checked"),checkbox.indeterminate=!0,checkbox.removeAttribute("checked"))})},_unflatten:function(a,b){for(var c,d,e=[],f={},g=0,h=b.length;h>g;g++)c=b[g],f[c[a.idKey]]=c;for(var i in f)f.hasOwnProperty(i)&&(d=f[i],d[a.parentIdKey]&&f.hasOwnProperty(d[a.parentIdKey])?(void 0===f[d[a.parentIdKey]][a.subItems]&&(f[d[a.parentIdKey]][a.subItems]=[]),f[d[a.parentIdKey]][a.subItems].push(d)):e.push(d));return e},_lazyLoadHandler:function(b,c){a.alopex.widget.tree._triggerEvent(b,c,"lazyLoad"),a.alopex.widget.tree._expand(c)},_setChecked:function(b){for(var c=a.alopex.widget.tree,d=a(b).find("input.Checkbox").filter(":checked"),e=0;e<d.length;e++)c._traverseUp(d[e])}})}(jQuery),function(a){function b(){var a={};return a.id=m++,a.entry=a.doing=a.exit=null,a.transition=[],a}function c(){$(),T(),l.tapcount=0,l.pointer=k.idle,U(l.pointer,{})}var d,e,f,g,h,i=!0,j=".alopexUiEventModel",k={},l={},m=0,n={},o=[],p={},q={},r={},s=[],t=[],u={};d="ontouchstart"in window,d&&(i=!1),e=d?"touchstart":"mousedown",e+=j,e+=" keydown"+j,f=d?"touchmove":"mousemove",f+=j,g=d?"touchend"+j+" touchcancel"+j:"mouseup"+j,g+=" keyup"+j,n.down=null,n.move=null,n.up=null,n.timeout=null;for(h in n)n[h]=h;q.pressed=null,q.unpressed=null,q.move=null,q.hoverstart=null,q.hoverend=null,q.hovering=null,q.tap=null,q.singletap=null,q.doubletap=null,q.tripletap=null,q.longtap=null,q.drag=null,q.dragend=null,q.dragstart=null,q.dragenter=null,q.dragleave=null,q.dragover=null,q.drop=null,q.swipe=null,q.swipemove=null,q.swipecancel=null,q.swipeleft=null,q.swiperight=null,q.swipedown=null,q.swipeup=null,q.pinch=null,q.rotate=null,q.transform=null,q.transformmove=null,q.gesturestart=null,q.gesturechange=null,q.gestureend=null;for(h in q)q[h]=h;q.tap="singletap",q.singletap="onetimetap";for(h in q)s.push(q[h]);s.push("tap"),t=[q.drag,q.dragenter,q.dragleave,q.dragover,q.dragstart,q.dragend,q.drop,q.swipe,q.swipemove,q.swipecancel,q.pinch,q.rotate,q.transform,q.transformmove,q.gesturestart,q.gesturechange,q.gestureend],r[q.swipe]=q.swipecancel,r[q.swipemove]=q.swipecancel,r[q.swiperight]=q.swipecancel,r[q.swipeleft]=q.swipecancel,r[q.swipedown]=q.swipecancel,r[q.swipeup]=q.swipecancel,r[q.pressed]=q.unpressed,r[q.hoverstart]=q.hoverend,r[q.hovering]=q.hoverend,p.move_d=5,p.swipe_d=100,p.swipe_v=100,p.longtap_t=750,p.ntap_t=250,p.hover_v=100;var v=function(b,c){if(!b||!c)return null;if(!a(b).attr("data-"+c))return null;var d=new Function("event, aevent",""+a(b).attr("data-"+c)+";");return d},w=function(a){var b=!0,c=n.down;return a.which&&1!==a.which&&13!==a.which&&32!==a.which?void 0:("touchstart"===a.type&&a.originalEvent.touches.length>1&&(c=n.move),W(c,a),b)},x=null,y=function(a){if(!d)if(x){if(x.x===a.pageX&&x.y===a.pageY)return;x.x=a.pageX,x.y=a.pageY}else x={},x.x=a.pageX,x.y=a.pageY;W(n.move,a)},z=function(a){var b=n.up;a.which&&1!==a.which&&13!==a.which&&32!==a.which||("touchend"===a.type&&a.originalEvent.touches.length>0&&(b=n.move),W(b,a))},A=function(b){return a(l.pressedElement)[0]===a(b.target)[0]?!0:!1},B=function(a){return l.currentElement&&l.currentElement!==l.previousElement?!0:!1},C=function(a){a.preventDefault()},D=function(b,c){a.each(["target","pageX","pageY","which","metakey","relatedTarget","clientX","clientY","offsetX","offsetY"],function(a,d){b[d]=c[d]}),b.originalEvent=c,b.isOriginalDefaultPrevented=function(){return!!this.originalDefaultPrevented},b.preventOriginalDefault=function(){this.originalDefaultPrevented=!0},b.isOriginalPropagationStopped=function(){return!!this.originalPropagationStopped},b.stopOriginalPropagation=function(){this.originalPropagationStopped=!0}};a(function(){i&&a(document.body).off(".alopexworkaround").on("click.alopexworkaround","[data-tap]",function(b){var c=String(this.tagName).toUpperCase();if("LABEL"!==c){if("INPUT"===c){var d=String(this.type).toLowerCase();if("checkbox"===d||"radio"===d)return}var e=a(this),f=e.data("alopex-ui-data-tap");if(e.data("alopex-ui-data-tap",null),!f){e.data("alopex-ui-data-tap-keyup",!0);var g=v(this,q.tap);return a.isFunction(g)?(b.type=q.tap,g.call(this,b)):"tap"!==q.tap&&(g=v(this,"tap"),a.isFunction(g))?(b.type="tap",g.call(this,b)):void 0}}})});var E=function(b,c,d){var e=Array.prototype.slice.call(arguments,3),f=a(c),g=a.Event(d);if(e.length&&typeof e[0]==typeof[]&&e[0].length>0&&(e=e[0]),"touchcancel"===b.type)return void F(b);var h=v(c,d);if(h&&a===window.jQuery&&(f.one(d,h),i&&"tap"===d&&(f.data("alopex-ui-data-tap",!0),"keyup"===b.type&&f.data("alopex-ui-data-tap-keyup")&&(f.off(d,h),f.data("alopex-ui-data-tap-keyup",null),f.data("alopex-ui-data-tap",null)))),d===q.tap&&"singletap"===q.tap){var j=a.makeArray(arguments);j[2]="tap",E.apply(null,j)}if(D(g,b),("tap"===d||"singletap"===d)&&(g.origType=b.type),f.trigger(g,e),g.isOriginalDefaultPrevented())try{b.preventDefault()}catch(k){}if(g.isDefaultPrevented())for(var m=0;m<f.length;m++)("A"===f[m].tagName||"BUTTON"===f[m].tagName&&"submit"===f[m].type)&&a(f[m]).one("click",C);if(g.isOriginalPropagationStopped())try{b.stopPropagation()}catch(k){}if(r[d]){var n=r[d];e[0]=n,l.needCancel[n]={elem:c,arg:e}}},F=function(b){for(var c in l.needCancel){var d=l.needCancel[c],e=a.Event(d.arg[0]);D(e,b),a(d.elem).trigger(e,d.arg.slice(1))}delete l.needCancel,l.needCancel={}},G=function(a,b){for(var c=0;c<a.transition.length;c++){var d=a.transition[c];d.trigger&&-1!==d.trigger.indexOf(n.timeout)&&H(d,b)}},H=function(a,b){var c=a.trigger.split(n.timeout)[1],d=null;d=setTimeout(function(){W(a.trigger,b)},c),o.push(d)},I=function(){if(o.length>0)for(var a=0;a<o.length;a++)clearTimeout(o[a]);o=[]},J=function(a){var b=K(a),c=L(a),d=l.startX-b,e=l.startY-c;return Math.sqrt(d*d+e*e)>=p.move_d?!0:!1},K=function(a,b){var c=a;if(b=b||l.trace,a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0&&(c=a.originalEvent),d&&c.touches&&c.touches.length>0)return c.touches[0].pageX;if(void 0!==c.pageX&&null!==c.pageX)return c.pageX;var e=b.length-1;return 0>e?0:b[e].x},L=function(a,b){var c=a;if(b=b||l.trace,a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0&&(c=a.originalEvent),d&&c.touches&&c.touches.length>0)return c.touches[0].pageY;if(void 0!==c.pageY&&null!==c.pageY)return c.pageY;var e=b.length-1;return 0>e?0:b[e].y},M=function(a,b,c,d){var e=a-c,f=b-d;return Math.floor(Math.sqrt(e*e+f*f))},N=function(b,c){c=c||l.trace;var d={value:0,valueX:0,valueY:0};if(c.length>2){var e,f,g=c.length-2,h=c.length-1;c[g].x===c[h].x&&c[g].y===c[h].y&&(g=c.length-3),c[g-1]&&c[g].time-c[g-1].time<500&&g--,e=M(c[h].x,c[h].y,c[g].x,c[g].y),f=c[h].time-c[g].time;var i=c[h].x-c[g].x,j=c[h].y-c[g].y;d.value=Math.floor(e/f*1e3),d.valueX=Math.floor(i/f*1e3),d.valueY=Math.floor(j/f*1e3)}return a.each(["value","valueX","valueY"],function(a,b){(d[b]===1/0||isNaN(d[b]))&&(d[b]=0)}),d},O=function(a){return(new Date).getTime()},P=function(a,b){var c,d={};if(b=b||l.trace,d.startX=l.startX,d.startY=l.startY,d.pageX=K(a,b),d.pageY=L(a,b),d.distance=M(d.startX,d.startY,d.pageX,d.pageY),d.distanceX=d.pageX-d.startX,d.distanceY=d.pageY-d.startY,c=N(a,b),d.speed=c.value,d.speedX=c.valueX,d.speedY=c.valueY,d.alignment="",d.direction="",d.distance<p.move_d)d.alignment="stay",d.direction="none";else{var e=d.distanceY/d.distance;e>=-.5&&.5>=e?d.alignment="horizontal":e>=.866||-.866>=e?d.alignment="vertical":d.alignment="diagonal",(-.5>=e||e>=.5)&&(d.distanceY>0?d.direction+="down":d.direction+="up"),e>=-.866&&.866>=e&&(d.distanceX>0?d.direction+="right":d.direction+="left")}return d},Q=function(b,c){var d=!1,e=c||s;a.each(e,function(a,c){return R(b,c)?(d=!0,!1):void 0});var f=["tap",q.singletap,q.doubletap,q.tripletap,q.longtap];return a.each(f,function(c,e){a(b).attr("data-"+e)&&(d=!0)}),d},R=function(b,c,d){var e=null;if(!b)return!1;var f=b.jquery?b:a(b);b=b.jquery?f[0]:b,e=a._data?a._data(f[0],"events"):f.data("events");var g=f.attr("data-"+c);if(g&&(e={},e[c]=g),e&&e[c])return!0;if(d===!0){var h=f.parent();if(h.length&&"BODY"!==f.prop("tagName"))return R(h,c,!0)}return!1},S=function(a,b){for(var c=a.target,d="string"==typeof b?[b]:b,e=Q(c,d);!e&&c.parentElement;)c=c.parentElement,e=Q(c,d);return b&&!e?null:c};u.swipe=function(b){var c,d,e,f,g=P(b),h=S(b,[q.swipe,q.swipeleft,q.swiperight,q.swipeup,q.swipedown,q.swipemove,q.swipecancel]),i=a(h).data("swipecondition");i&&(i.direction||i.alignment)?i.alignment&&-1===i.alignment.indexOf(g.alignment)?(c=-1,e=-1):i.alignment&&-1!==i.alignment.indexOf(g.alignment)?"vertical"===g.alignment?(c=Math.abs(g.distanceY),e=Math.abs(g.speedY)):"horizontal"===g.alignment?(c=Math.abs(g.distanceX),e=Math.abs(g.speedX)):(c=Math.abs(g.distance),e=Math.abs(g.speed)):i.direction&&-1!==i.direction.indexOf(g.direction)?"up"===g.direction?(c=-g.distanceY,e=-g.speedY):"down"===g.direction?(c=g.distanceY,e=g.speedY):"left"===g.direction?(c=-g.distanceX,e=-g.speedX):"right"===g.direction?(c=g.distanceX,e=g.speedX):(c=-1,e=-1):(c=-1,e=-1):(c=g.distance,e=g.speed),d=i&&i.distance?i.distance:p.swipe_d,f=i&&i.speed?i.speed:p.swipe_v,i&&i.distance&&!i.speed&&(e=-1),i&&i.speed&&!i.distance&&(c=-1),i&&i.distanceX&&(c=Math.abs(g.distanceX),e=-1,d=Math.abs(i.distanceX),f=0),i&&i.distanceY&&(c=Math.abs(g.distanceY),e=-1,d=Math.abs(i.distanceY),f=0),c>=d||e>=f?(a.each(["up","down","left","right"],function(a,c){g.direction===c&&E(b,l.pressedElement,"swipe"+g.direction,g)}),E(b,l.pressedElement,q.swipe,g)):E(b,l.pressedElement,q.swipecancel,g)},u.ntap=function(a){var b=[q.tap,q.singletap,q.doubletap,q.tripletap],c=l.tapcount;c>3&&(c=3),E(a,l.pressedElement,b[c]),l.tapcount=0},u.dragstart=function(a){},u.dragmove=function(a){},u.dragend=function(a){};var T=function(){for(var a in l)l.hasOwnProperty(a)&&"pointer"!==a&&"tapcount"!==a&&delete l[a];l.pressedElement=null,l.currentElement=null,l.previousElement=null,l.startX=null,l.startY=null,l.trace=[],l.needCancel={}},U=function(a,b){return a?(a.entry&&a.entry(b),void(a.doing&&a.doing(b))):!1},V=function(){for(var a=l.pointer,b=0;b<a.transition.length;b++)if(!a.transition[b].trigger)return!0;return!1},W=function(a,b){function c(){F(b)}do{var d=l.pointer,e=null;l.previousElement=l.currentElement,l.currentElement=b.target;var f={};f.time=O(),f.x=K(b),f.y=L(b),(0===l.trace.length||f.x!==l.trace[l.trace.length-1].x||f.y!==l.trace[l.trace.length-1].y)&&l.trace.push(f);for(var g=0;g<d.transition.length;g++){var h=d.transition[g];if((h.trigger===a||null===h.trigger)&&(null===h.guard||"function"==typeof h.guard&&h.guard(b))){e=h;break}}if(!e){if(a!==n.down)return-1!==a.indexOf(n.timeout)?(I(),G(d,b),!1):!1;e={to:k.pressedinitial,effect:c}}I(),d.exit&&d.exit(b),e&&e.effect&&e.effect(b),l.pointer=e.to,d=l.pointer,U(d,b),G(d,b),a=null}while(V())};k.idle=b(),k.hover=b(),k.pressedinitial=b(),k.unpressed=b(),k.pressedinter=b(),k.moving=b(),k.endmove=b(),k.unpressedwait=b(),k.idle.entry=function(b){T(),a(document).unbind(j),a(document).bind(e,w),a(document).bind(f,y)};var X=function(b){var c=S(b);return a(c).attr("disabled")?!0:!1};k.idle.transition.push({to:k.pressedinitial,trigger:n.down,guard:function(a){return!X(a)},effect:function(a){}});k.idle.transition.push({to:k.idle,trigger:n.move,guard:function(a){var b=P(a);return l.lastHoverTime=O(),b.speed>p.hover_v||B(a)?!0:!1},effect:function(a){}}),k.idle.transition.push({to:k.unpressed,trigger:n.up,guard:function(a){return!X(a)&&!(13===a.which||32===a.which)},effect:function(a){k.pressedinitial.entry(a),k.pressedinitial.doing(a)}}),k.hover.transition.push({to:k.hover,trigger:n.move,guard:function(a){var b=S(a,[q.hoverstart,q.hovering,q.hoverend]);return l.pressedElement!==b?!1:!0},effect:function(a){E(a,l.pressedElement,q.hovering,P(a))}}),k.hover.transition.push({to:k.idle,trigger:n.move,guard:function(a){var b=S(a,[q.hoverstart,q.hovering,q.hoverend]);return l.pressedElement!==b?!0:!1},effect:function(a){E(a,l.pressedElement,q.hoverend,P(a))}}),k.hover.transition.push({to:k.pressedinitial,trigger:n.down,guard:function(a){return!X(a)},effect:function(a){E(a,l.pressedElement,q.hoverend,P(a))}}),k.pressedinitial.entry=function(b){T(),l.tapcount=0,l.pressedElement=b.target,l.currentElement=S(b),l.startX=K(b),l.startY=L(b),a(document).unbind(f),a(document).unbind(g),a(document).bind(f,y),a(document).bind(g,z)},k.pressedinitial.doing=function(a){E(a,l.pressedElement,q.pressed,P(a))},k.pressedinitial.transition.push({to:k.moving,trigger:n.move,guard:function(a){var b=J(a);return b},effect:function(a){}}),k.pressedinitial.transition.push({to:k.unpressedwait,trigger:n.up,guard:function(a){return!X(a)},effect:function(a){}}),k.pressedinitial.transition.push({to:k.idle,trigger:n.timeout+p.longtap_t,guard:function(a){return R(l.pressedElement,q.longtap,!0)},effect:function(a){E(a,l.pressedElement,q.longtap,P(a)),E(a,l.pressedElement,q.unpressed,P(a))}});var Y={to:k.unpressed,trigger:null,guard:null,effect:null};d&&(Y.trigger=n.timeout+50),k.unpressedwait.transition.push(Y),k.unpressed.entry=function(a){E(a,l.pressedElement,q.unpressed,P(a))},k.unpressed.doing=function(a){l.tapcount++,E(a,l.pressedElement,q.tap)},k.unpressed.transition.push({to:k.idle,trigger:n.timeout+p.ntap_t,guard:null,effect:function(a){u.ntap(a)}}),k.unpressed.transition.push({to:k.pressedinter,trigger:n.down,guard:function(a){return A(a)&&!J(a)},effect:null}),k.unpressed.transition.push({to:k.pressedinitial,trigger:n.down,guard:function(a){return!A(a)||J(a)},effect:null}),k.unpressed.transition.push({to:k.unpressed,trigger:n.up,guard:function(a){return!(13===a.which||32===a.which)},effect:function(a){}}),k.pressedinter.entry=function(a){E(a,l.pressedElement,q.pressed,P(a))},k.pressedinter.transition.push({to:k.unpressedwait,trigger:n.up,guard:function(a){return!0},effect:null}),k.pressedinter.transition.push({to:k.pressedinitial,trigger:n.timeout+p.ntap_t,guard:null,effect:function(a){u.ntap(a)}}),k.pressedinter.transition.push({to:k.moving,trigger:n.move,guard:function(a){var b=J(a);return b},effect:function(a){u.ntap(a)}}),k.moving.doing=function(a){var b=P(a);E(a,l.pressedElement,q.move,b),E(a,l.pressedElement,q.swipemove,b)},k.moving.transition.push({to:k.endmove,trigger:n.up,guard:null,effect:null}),k.moving.transition.push({to:k.moving,trigger:n.move,guard:null,effect:null}),k.endmove.doing=function(a){E(a,l.pressedElement,q.unpressed,P(a)),u.swipe(a)},k.endmove.transition.push({to:k.idle,trigger:null,guard:null,effect:function(a){}});for(h in k)k[h].name=h;var Z=function(){var b=["","left","right","up","down"];if(a.each(b,function(b,c){a.event.special["swipe"+c]={setup:function(b,c,d){b&&a(this).data("swipecondition",b)},teardown:function(b){a(this).removeData("swipecondition")}}}),!d){var c=[q.hoverend,q.hovering,q.hoverstart],e=[],f=function(b){var c={};c.time=O(),c.x=K(b,e),c.y=L(b,e),e.push(c),e.length>5&&e.shift();var d=P(b,e),f=this;a(f).data("hovercondition");"mousedown"===b.type||"mouseout"===b.type?a(f).trigger("hoverend",d):"mouseup"===b.type||"mouseover"===b.type?a(f).trigger("hoverstart",d):"mousemove"===b.type&&0===b.which&&a(f).trigger("hovering",d);
},g=["mousedown","mouseup","mouseover","mousemove","mouseout",""];a.each(c,function(b,c){a.event.special[c]={setup:function(b,c,d){b&&a(this).data("hovercondition",b)},add:function(b){b.data&&a(this).data("hovercondition",b.data),a(this).on(g.join(".alopexeventhover"+c+" "),b.selector||null,f)},teardown:function(b){a(this).removeData("hovercondition"),a(this).off(g.join(".alopexeventhover"+c+" "),f)}}})}var h=["tap","singletap"];if(a.each(h,function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger("tap").trigger("singletap")}}),i){var j=["tap","singletap"],k={x:null,y:null};a.each(j,function(b,c){a.event.special[c]={setup:function(b,d){var e=String(this.tagName).toUpperCase();if("LABEL"!==e){if("INPUT"===e){var f=String(this.type).toLowerCase();if("checkbox"===f||"radio"===f)return}var g=a(this);g.on("click.alopexuitapworkaround"+c,function(b){var d=g.data("alopex-ui-tap-wtapped"+c);if(g.data("alopex-ui-tap-wtapped"+c,null),!d){var e=!1,f=a.Event(c);g.each(function(){a(this).triggerHandler(f,[!0])}),e=e||f.isDefaultPrevented(),g.data("alopex-ui-tap-wtapped-keyup"+c,!0)}}).on("mousedown.alopexuitapworkaround"+c,function(a){k.x=a.pageX,k.y=a.pageY}).on("mouseup.alopexuitapworkaround"+c,function(b){var d=p.move_d;(Math.abs(k.x-b.pageX)>d||Math.abs(k.y-b.pageY)>d)&&a(this).data("alopex-ui-tap-wtapped"+c,!0)})}},teardown:function(){var b=a(this);b.off(".alopexuitapworkaround"+c)},_default:function(b,d){a(this).data("alopex-ui-tap-wtapped-keyup"+c,null)},handle:function(b,d){var e=a(this),f=b.handleObj,g=(jQuery.data(b.target),null);return b.type=f.origType,"keyup"===b.origType&&e.data("alopex-ui-tap-wtapped-keyup"+c)||(g=f.handler.apply(this,arguments),d!==!0&&e.data("alopex-ui-tap-wtapped"+c,!0)),b.type=f.type,g}}})}var l=[q.singletap,q.doubletap,q.tripletap,q.longtap];a.each(l,function(b,c){a.fn[c]=function(b,d){a.isFunction(b)?this.on(c,b):a.isPlainObject(b)&&a.isFunction(d)?this.on(c,b,d):this.trigger(c)}})},$=function(){a(document).unbind(j),a(document).unbind(e),a(document).unbind(f),a(document).unbind(g)};Z(),c()}(jQuery),+function(a){a(function(){var b={};for(var c in a.alopex.widget)for(var d=0;d<a.alopex.widget[c].getters.length;d++){var e=a.alopex.widget[c].getters[d];b[e]=null}for(var c in b)a.fn[c]=new Function('return $.alopex._getter.call(this, "'+c+'", arguments)');b={};for(var c in a.alopex.widget)for(var d=0;d<a.alopex.widget[c].setters.length;d++){var e=a.alopex.widget[c].setters[d];b[e]=null}for(var c in b)a.fn[c]=new Function('return $.alopex._setter.call(this, "'+c+'", arguments)');a.alopex.checkBrowser(),a.alopex.convert("body")})}(jQuery),!function(a){var b="ready";window.isAlopexReady=!1,window.alopexController&&(b="alopexready"),a(document).on(b,function(){window.isAlopexReady=!0})}(jQuery),!function(a){a.extend(a.alopex,{session:function(){if(isAlopexWindowPopup()){var a=window.opener.$a;return a.session.apply(this,arguments)}if(checkAlopexWindowParent()&&window.parent&&window.parent!=window&&window.parent.$a){var a=window.parent.$a;return a.session.apply(this,arguments)}return 1==arguments.length?memoryPreference.get(arguments[0]):void(arguments.length>1&&memoryPreference.put.apply(memoryPreference,arguments))},cookie:function(){return 1==arguments.length?preference.get(arguments[0]):void(arguments.length>1&&preference.put.apply(preference,arguments))}}),a.alopex.session.clear=function(){0===arguments.length?memoryPreference.removeAll():1===arguments.length&&memoryPreference.remove(arguments[0])},a.alopex.cookie.clear=function(){preference.removeAll()}}(jQuery),!function(a){a.alopex.validator=window.Validator,window.$a=a.alopex}(jQuery),!function(a){function b(a){return void 0==a||null==a?!1:!0}function c(){this.data,sessionStorage.alopex||(sessionStorage.alopex=""),this.data=sessionStorage.alopex}function d(){}function e(a){var b=null;try{return b=JSON.parse(a)}catch(c){return console.error("JSON.parse() error : "+a),!1}}function f(a){var b=null;try{return b=JSON.stringify(a)}catch(c){return console.error("JSON.stringify() error"),console.error(a),!1}}window.alopexController||(c.prototype.setData=function(a){this.data=a,sessionStorage.alopex=a},c.prototype.contains=function(a){if(b(a)){if(-1!=this.data.indexOf("ù"))for(var c=this.data.split("ù")[0],d=c.split("♠"),e=0;e<d.length;e++)if(d[e]=="mp-"+a||d[e]=="mp-json-"+a)return!0;return!1}},c.prototype.get=function(a){if(b(a)){if(-1!=this.data.indexOf("ù"))for(var c=this.data.split("ù")[0],d=this.data.split("ù")[1],f=c.split("♠"),g=d.split("♠"),h=0;h<f.length;h++){if(f[h]=="mp-"+a)return g[h];if(f[h]=="mp-json-"+a)return e(g[h])}return"undefined"}return"undefined"},c.prototype.put=function(c,d){if(b(c)&&b(d))if("[object String]"===Object.prototype.toString.call(d)||!a.isArray(d)&&d.constructor!=Object||(d=f(d),c="json-"+c),-1!=this.data.indexOf("ù")){for(var e=this.data.split("ù")[0],g=this.data.split("ù")[1],h=e.split("♠"),i=g.split("♠"),j=0;j<h.length;j++)if(h[j]=="mp-"+c)return i[j]=d,void this.setData(h.join("♠")+"ù"+i.join("♠"));h.push("mp-"+c),i.push(d),this.setData(h.join("♠")+"ù"+i.join("♠"))}else this.setData("mp-"+c+"ù"+d)},c.prototype.remove=function(a){if(b(a)){var c=this.data.split("ù")[0],d=this.data.split("ù")[1];if(null!=c&&null!=d)for(var e=c.split("♠"),f=d.split("♠"),g=0;g<e.length;g++)if(e[g]=="mp-"+a||e[g]=="mp-json-"+a)return e.splice(g,1),f.splice(g,1),void this.setData(e.join("♠")+"ù"+f.join("♠"))}},c.prototype.removeAll=function(){var a=this.data.split("ù")[0],b=this.data.split("ù")[1];if(null!=a&&null!=b){for(var c=a.split("♠"),d=b.split("♠"),e=c.length,f=0;e>f;f++)null!=c[f]&&("mp-"==c[f].substring(0,3)||"mp-json-"==c[f].substring(0,8))&&(c.splice(f,1),d.splice(f,1),f--,e--);this.setData(c.join("♠")+"ù"+d.join("♠"))}},window.memoryPreference||(window.memoryPreference=new c),d.prototype.contains=function(a){return b(a)?void 0!==preference.get(a)&&"undefined"!==preference.get(a):!1},d.prototype.get=function(a){if(b(a)){for(var c=function(a){return decodeURIComponent(a.replace(/\+/g," "))},d=document.cookie.split("; "),e=0,f=d.length;f>e;e++){var g=d[e].split("="),h=g.shift();if(c(h)===a){var i=c(g.join("="));return i}}return void 0}},d.prototype.put=function(a,c,d){if(b(a)){if("number"==typeof d){var e=d,f=d=new Date;f.setDate(f.getDate()+e)}document.cookie=[encodeURIComponent(a),"=",encodeURIComponent(c),d?"; expires="+d.toUTCString():""].join("")}},d.prototype.remove=function(a){b(a)&&void 0!==preference.get(a)&&preference.put(a,void 0)},d.prototype.removeAll=function(){notSupported("Preference.removeAll")},window.preference||(window.preference=new d))}(jQuery),!function(a){a.alopex.decorator=function(b){return this.process=function(){b.template=this.template;var c=a('script[type="text/alopex-decorator"]').attr("data-decorator"),d=b.options.metas;for(i in d){var e="<meta";for(j in d[i]){var f=d[i][j];e+=" "+f.prop+'="'+f.value+'"'}e+="/>",a("head").prepend(e)}b[c||b.options.defaultDecorator]&&b[c||b.options.defaultDecorator](),a("html").show()},this},a.alopex.view=function(b,c){var d=a.alopex.viewConfig.views[b];return void 0==d&&void 0!==c&&(d=new a.alopex._view(b,c),a.alopex.viewConfig.views[b]=d),d},a.alopex.viewSetup=function(b){a.extend(a.alopex.viewConfig.settings,b)},a.alopex.viewConfig={views:{},settings:{templateBasePath:"source/templates",templateFileExtension:".html"}},a.alopex._view=function(b,c){this.name=b,a.extend(this,c)},a.alopex._view.prototype={template:function(b){var c=this.templateName||this.name+a.alopex.viewConfig.settings.templateFileExtension,d=AlopexWebApp.Templates[a.alopex.viewConfig.settings.templateBasePath+"/"+c];return d&&"function"==typeof d?d(b):""},render:function(b){var c=this.outlet||this.name;b=b||this.model,b=b&&"function"==typeof b?b():b;var d=a('[data-outlet="'+c+'"]');d.html(this.template(b)),d.convert()}}}(jQuery),function(a){function b(a){this.form,this.input,this.files,this.add,this.iframe,this.selected=[],this.options=a}b.prototype.addForm=function(b){var c="_iframe_"+Math.random();this.iframe=document.createElement("iframe"),this.iframe.setAttribute("id",c),this.iframe.setAttribute("name",c),this.form=document.createElement("form"),this.form.setAttribute("method","post"),this.form.setAttribute("enctype","multipart/form-data"),this.form.setAttribute("target",c),a(this.iframe).appendTo("body"),a(this.form).appendTo(b),a(b).css("overflow","hidden")},b.prototype.addInput=function(){this.input&&(this.selected.push(this.input),a(this.input).hide()),this.input=document.createElement("input"),this.input.setAttribute("type","file"),this.input.setAttribute("name","file"),this.options.multiple&&this.input.setAttribute("multiple",!0),a(this.input).css({display:"block",top:0,right:0,height:"100%",width:"100%","font-size":"1000px"}),a(this.input).css({position:"absolute",right:"0px",top:"0px",height:"40px",width:"200px",opacity:0});var b=this;a(this.input).on("change",function(a){a.target.files?b.files=a.target.files:b.files=[{name:a.target.value}],b.options.success&&b.options.success.apply(this,[b.files])}),a(this.input).appendTo(this.form)},b.prototype.upload=function(b){this.form.action=b.url;var c=a(this.form).find('input[type="file"]');c.length>2&&c.eq(0).remove();var d=this;window.aa=this.iframe,a(this.iframe).one("load",function(c){var e,f;try{f={code:"E001",message:"Cross-Domain"},e=a(d.iframe.contentDocument.body).find("pre").html(),f={code:"E002",message:"JSON Parse Error"},e=JSON.parse(e)}catch(c){}e&&(b.isSuccess&&b.isSuccess(e)||!b.isSuccess)?b.success(e):b.error(f)}),b.success&&(window._uploadSuccessCallback=b.success),b.error&&(window._uploadErrorCallback=b.error),a(this.form).trigger("submit")},b.prototype.removeSelected=function(b){for(var c=0;c<this.selected.length;c++)if(this.selected[c].value==b){a(this.selected[c]).remove(),this.selected.splice(c,1);break}},a.fn.fileselect=function(a){var c=this[0],d=new b(a);return d.addForm(c),d.addInput(),d}}(jQuery),function(a){}(jQuery),!function(a){a.extend(a.alopex,{fragment:function(a){var b;if("function"==typeof a){b=isAlopexReady?"alopexuiready":window.alopexController?"alopexready":"ready";var c=a.toString();c=c.replace(/function\s*\(\s*\)\s*\{/i,""),c=c.substr(0,c.length-1);var d="var exports = {};"+c+'$(document).one("'+b+'", function() {;init($a.parameters);});;return exports;',e=new Function(d);return e()}}})}(jQuery),!function(a){function b(){this.error=-1,this.errorMessage=null,this.response=null,this.responseHeader=null,d=d||[],d.push(this),this.index=d.length-1,this.httpRequestHeaders={},this.httpObject,this.isTimeout=!1}function c(a){return void 0===a||null===a?!1:!0}var d=[];b.prototype.cancelDownload=function(){null!=this.httpObject&&this.httpObject.abort()},b.prototype.cancelRequest=function(){null!=this.httpObject&&this.httpObject.abort()},b.prototype.cancelUpload=function(){null!=this.httpObject&&this.httpObject.abort()},b.prototype.download=function(a,b,c,d,e){},b.prototype.getResponseHeader=function(a){return null!=this.httpObject?this.httpObject.getResponseHeader(a):null},b.prototype.jsonpHandler=function(b,c,d){try{var e=b.jsonp||"jsonp_callback_"+Math.round(1e5*Math.random());window[e]=function(b){delete window[e];var d={};a.isEmptyObject(b)?(d.isSuccess=!1,d.response={}):(d.isSuccess=!0,d.response=b),c(d)};var f="";if("get"==b.method.toLowerCase()||"delete"==b.method.toLowerCase()){var g="";if(null!=b.parameters){g="?";for(var h in b.parameters)g=g+"&"+h+"="+b.parameters[h];g=g.substring(0,1)+g.substring(2)}f=b.url+(-1!==(b.url+g).indexOf("?")?"&":"?")+"callback="+e}else f=b.url+(-1!==b.url.indexOf("?")?"&":"?")+"callback="+e;var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=f,(document.getElementsByTagName("head")[0]||document.body||document.documentElement).appendChild(i)}catch(j){http.errorInfo="error",a.alopex.util.isValid(j.message)&&(http.errorMessage=j.message),a.alopex.util.isValid(j.name)&&(http.errorName=j.name),a.alopex.util.isValid(j.stack)&&(http.errorStack=j.stack),d(http,this)}return!1},b.prototype.request=function(b,d,e){if("jsonp"==b.dataType)return this.jsonpHandler(b,d,e);if(c(b)&&c(d)||c(e)){b.index=this.index;var f={};a.alopex.util.isValid(b.paramType)&&(f.paramType=b.paramType);var g="";if(null!=b.parameters){g="?";for(var h in b.parameters)g=g+"&"+h+"="+b.parameters[h];g=g.substring(0,1)+g.substring(2)}this.httpObject=new XMLHttpRequest,this.httpObject.ontimeout=function(){this.isTimeout=!0},this.httpObject.onreadystatechange=function(){if(4==this.readyState){f.status=this.status,f.statusText=this.statusText;var c=this.getAllResponseHeaders();if(c){f.responseHeader={};for(var g=c.split("\r\n"),h=0,i=g.length;i>h;h++){var j=g[h],k=j.indexOf(": ");k>0&&(f.responseHeader[j.substring(0,k)]=j.substring(k+2))}}if(200==this.status){f.successCallback=d,f.errorCallback=e;try{"json"==b.dataType?f.response=JSON.parse(this.responseText):f.response=this.responseText}catch(l){f.errorInfo="JSON.parse() error : responseText = "+this.responseText,a.alopex.util.isValid(l.message)&&(f.errorMessage=l.message),a.alopex.util.isValid(l.name)&&(f.errorName=l.name),a.alopex.util.isValid(l.stack)&&(f.errorStack=l.stack),e(f,this)}finally{a.alopex.util.isValid(f.errorInfo)||d(f,this),delete this.responseText,delete f.response,delete f;try{this.responseText=null}catch(m){}f.response=null,f=null}}else this.onloadend=function(){f.error=this.status,f.errorMessage=this.statusText,this.isTimeout===!0&&""===f.errorMessage&&(f.errorMessage="timeout"),f.XMLHttpRequest=this,f.response=this.response,f.responseText=this.responseText,f.responseURL=this.responseURL,f.responseType=this.responseType,e(f,this),delete this.responseText,delete f.response,delete f;try{this.responseText=null}catch(a){}f.response=null,f=null}}},"get"==b.method.toLowerCase()||"delete"==b.method.toLowerCase()?this.httpObject.open(b.method,b.url+g,b.async):this.httpObject.open(b.method,b.url,b.async),this.httpRequestHeaders["Content-Type"]||(b.onBody?a.alopex.util.isValid(f.paramType)&&"queryString"===f.paramType?this.httpObject.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"):this.httpObject.setRequestHeader("Content-Type","application/json; charset=UTF-8"):this.httpObject.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"));for(var i in this.httpRequestHeaders)this.httpObject.setRequestHeader(i,this.httpRequestHeaders[i]);b.async&&this.timeout&&(this.httpObject.timeout=this.timeout);try{"post"==b.method.toLowerCase()||"put"==b.method.toLowerCase()?b.onBody?(a.alopex.util.isValid(f.paramType)&&"queryString"===f.paramType&&("string"==typeof b.content&&(b.content=JSON.parse(b.content)),b.content=a.param(b.content),a.alopex.util.isValid(b.gridData)&&(b.content+="&"+encodeURIComponent("gridData"),b.content+="=",b.content+=encodeURIComponent(JSON.stringify(b.gridData)))),this.httpObject.send(b.content)):this.httpObject.send(g):this.httpObject.send()}catch(j){var k={};return k.error=j.code,k.errorMessage=j.message,void e(k,this.httpObject)}finally{delete this.httpObject,this.httpObject=null}this.httpRequestHeaders={}}},b.prototype.setRequestHeader=function(a,b){c(a)&&c(b)&&(this.httpRequestHeaders[a]=b)},b.prototype.setTimeout=function(a){this.timeout=a},b.prototype.upload=function(a,b,c,d,e){},window._legacyHttp=b}(jQuery),!function(a){a.extend(a.alopex,{alopex_blockTargetParent:null,block:function(b,c){var d,e,f=0;if(a.alopex.util.isValid(b.document)){a.alopex.alopex_blockTargetParent=b.document,d=a(b.document).find("html"),e=a(b.document).find("body");var g=window.navigator.userAgent;f=-1!=g.indexOf("Chrome")?e[0].scrollTop:b.document.documentElement.scrollTop}else d=a("html"),e=a("body");var h=a("<div></div>").attr("data-alopexmodal","true").appendTo(e);c&&h.attr("data-blockname",c),h.css({position:"absolute",top:f,left:"0",width:"100%",height:"100%","z-index":"9999",opacity:"0.7","background-color":"#111"}),a.alopex.__htmlHeight=d[0].style.height,a.alopex.__htmlWidth=d[0].style.width,a.alopex.__bodyHeight=e[0].style.height,a.alopex.__bodyWidth=e[0].style.width,d.css({height:"100%",width:"100%"}),e.css({height:"100%",width:"100%",overflow:"hidden"}),h.on("mousedown.alopexbloack mouseup.alopexblock scroll.alopexblock",function(a){return a.preventDefault(),a.stopPropagation(),!1})},unblock:function(b){var c,d,e=b?"div[data-blockname="+b+"]":"div[data-alopexmodal]";a.alopex.util.isValid(a.alopex.alopex_blockTargetParent)?(c=a(a.alopex.alopex_blockTargetParent).find("html"),d=a(a.alopex.alopex_blockTargetParent).find("body")):(c=a("html"),d=a("body")),c[0].style.height=a.alopex.__htmlHeight?a.alopex.__htmlHeight:"",c[0].style.width=a.alopex.__htmlWidth?a.alopex.__htmlWidth:"",d[0].style.height=a.alopex.__bodyHeight?a.alopex.__bodyHeight:"",d[0].style.width=a.alopex.__bodyWidth?a.alopex.__bodyWidth:"",d.css({overflow:""}),a(a.alopex.alopex_blockTargetParent).find(e).remove()}})}(jQuery),!function(a){function b(b){for(var f={};e=c.exec(b);){var g=d(e[1]),h=d(e[2]);void 0!==f[g]?(a.isArray(f[g])||(f[g]=[f[g]]),f[g].push(h)):f[g]=h}return f}var c=/([^&=]+)=?([^&]*)/g,d=function(a){return decodeURIComponent(a.replace(/\+/g," "))};a.extend(a.alopex,{_navigationCofig:{url:function(a,b){return a},querystring:!1}}),a.extend(a.alopex,{parameters:function(){var c,d;if(window.alopexController){if("mobile"===window.browser&&(a.alopex._navigationCofig.querystring=!0),a.alopex._navigationCofig.querystring)return void a(document).on("alopexready",function(){a.alopex.parameters=navigation.parameters})}else if(a.alopex._navigationCofig.querystring)return d=String(window.location.search),"?"==d.substr(0,1)&&(d=d.substr(1)),b(d);var c={};try{if("true"===$a.session("from_navigate"))$a.session("alopex_parameters"+window.location.href,$a.session("alopex_parameters"));else if(""!==window.location.search&&"undefined"===$a.session("alopex_parameters"+window.location.href)){d=String(window.location.search),"?"==d.substr(0,1)&&(d=d.substr(1));var e=b(d);$a.session("alopex_parameters"+window.location.href,JSON.stringify(e))}$a.session("alopex_parameters",""),$a.session("from_navigate",!1),c=JSON.parse($a.session("alopex_parameters"+window.location.href))}catch(f){}return c}(),results:function(){var b;if(!window.alopexController){try{b=JSON.parse($a.session("alopex_results")),$a.session("alopex_results",""),$a.session("from_back",!1)}catch(c){}return b}a(document).on("alopexready",function(){a.alopex.results=navigation.results})}(),pageId:function(){return window.alopexController?void a(document).on("alopexready",function(){a.alopex.pageId=navigation.pageId}):window.location.pathname}(),page:function(){var b={},c=a.makeArray(arguments),d=[];return a.each(c,function(c,e){a.isFunction(e)?(a.extend(b,e.call(b,$a.pageId,a.extend(!0,{},$a.parameters,$a.results,$a.popupdata,$a.dialogdata))),"function"==typeof b.init&&d.push(b.init)):a.isPlainObject(e)&&(a.alopex.page=a.extend(a.alopex.page,e),e.init&&d.push(e.init))}),a.each(d,function(c,d){function e(){d.call(b,$a.pageId,a.extend(!0,{},$a.parameters,$a.results,$a.popupdata,$a.dialogdata)),$a.dialogdata=null}isAlopexReady?a.alopex.loading?(a.alopex.loading=!1,a(document).one("alopexuiready",function(){a(e)})):a(e):window._useAlopexController?a(document).one("alopexready",function(){a(e)}):a(document).ready(function(){a(e)})}),b},navigate:function(b,c){if("string"==typeof b){var d=a.alopex._navigationCofig.url(b,c),e={pageId:d};window.alopexController?("mobile"===window.browser&&(a.alopex._navigationCofig.querystring=!0),a.alopex._navigationCofig.querystring?e.parameters=c:(a.alopex.session("alopex_parameters",JSON.stringify(c)),a.alopex.session("from_navigate",!0)),navigation.backToOrNavigate(e)):(a.alopex._navigationCofig.querystring?d+=-1==d.indexOf("?")?"?"+a.param(c):"&"+a.param(c):(a.alopex.session("alopex_parameters",JSON.stringify(c)),a.alopex.session("from_navigate",!0)),window.location.href=d)}},back:function(b){window.alopexController?navigation.back(b):(a.alopex.session("from_back",!0),a.alopex.session("alopex_results",JSON.stringify(b)),history.back())},backTo:function(a,b){navigation.backTo({pageId:_url,parameters:b})},backToOrNavigate:function(a,b){navigation.backToOrNavigate({pageId:_url,parameters:b})},exit:function(){navigation.exit()},goHome:function(){navigation.goHome()}}),a.extend(a.alopex.navigate,{setup:function(b){a.extend(a.alopex._navigationCofig,b)}})}(jQuery),!function(a){function b(b){var c=(a.alopex.popup.names.length,a.alopex.util.isValid(b)?b:parseInt(1e4*Math.random())),d="Alopex_Popup_"+c;return a.alopex.popup.names.push(d),d}function c(b,c){var d=document.getElementById(b.id),e=a(d);if(0==e.length){var f='<div id="'+b.id+'" data-type="dialog"';b.modalclose&&(f+='data-modalclose="true" '),b.toggle&&(f+='data-toggle="true" '),f+=">",b.iframe?f+='<iframe name="'+b.id+'" data-type="panel" data-fill="vertical" style="width:100%;overflow:auto;border:0"></iframe>':b.scroll&&(f+="<div></div>"),f+="</div>",e=c?a(f).appendTo(c).dialog():a(f).appendTo("body").dialog(),d=document.getElementById(b.id)}return b.center===!0?(b.top=(a(window).height()-b.height)/2,b.left=(a(window).width()-b.width)/2):(!1===a.alopex.util.isValid(b.left)&&(b.left=0),!1===a.alopex.util.isValid(b.top)&&(b.top=0)),e.one("close",function(c){var d=c.currentTarget,e=a(d),f=a.inArray(d.id,a.alopex.popup.names);if(d&&-1!==f){var g=null;b.callback&&(!a.alopex.popup.result&&e&&e.prop("callbackData")?(g=e.prop("callbackData"),e.prop("callbackData",null)):(g=a.alopex.popup.result,a.alopex.popup.result=null)),a.alopex.popup.names.splice(f,1),d.blocker&&a(d.blocker).remove(),e.remove();var h=a(document.body).find("div").filter(".Dialog-mask:visible");if(0===h.length){var i=document.body,j=Math.abs(parseInt(i.style.top));a(i).css({top:"",position:this.bodyposition?this.bodyposition:"",width:this.bodywidth?this.bodywidth:""}),"ie"===window.browser||a.alopex.util.isValid(window.browser)&&-1!==window.browser.indexOf("Microsoft Internet Explorer")?a(document.documentElement).scrollTop(d.scrollTopValue):a(i).scrollTop(j)}h=null,b.callback&&b.callback(a.extend(!0,{},{tempKey:g}).tempKey)}}),e.prop("alopexPopupSetting",b),b.iframe?(b.preLoading||e.open(b),e.find("iframe").on("load",function(){b.preLoading&&e.open(b);var a=e.find("iframe");a.refresh(),isAlopexIframeChild(a[0].contentWindow)&&(a[0].contentWindow.alopexready=!0)}),setTimeout(function(){e.find("iframe").attr("src",b.url)},0)):(b.data?$a.dialogdata=JSON.parse(b.data):$a.dialogdata=null,a.alopex.loading=!0,(b.scroll?e.find("div"):e).load(b.url,function(){e.open(b),a.alopex.convert(d),a(document).trigger("alopexuiready")})),d}function d(b,c){var d="";if(b.width&&(d+="width="+b.width+","),b.height&&(d+="height="+b.height+","),b.center===!0){var e=Math.max((window.screen.height-parseInt(b.height))/2-50,0)-a("body")[0].scrollTop;d+="top="+e+",",d+="left="+(window.screen.width-parseInt(b.width))/2+","}else d+="top=0,",d+="left=0,";if(b.scroll===!0&&(d+="scrollbars=yes,"),b.other&&(d+=b.other),b.modal===!0&&checkAlopexWindowParent()&&$a.block(window.parent,b.id),a.alopex.util.isValid(c)||(c=window),!(window.navigator.userAgent.indexOf("Trident")>=0)){var f=c.open(b.url,b.id,d);return a.alopex.popup.children.push(f),f}var g,h="N/A",i=navigator.userAgent.toLowerCase(),j=navigator.appName;"Microsoft Internet Explorer"==j?g="msie ":i.search("trident")>-1?g="trident/.*rv:":i.search("edge/")>-1&&(g="edge/");var k=new RegExp(g+"([0-9]{1,})(\\.{0,}[0-9]{0,1})");if(null!=k.exec(i)&&(h=RegExp.$1+RegExp.$2),"9.0"!=h){var f=c.open(b.url,b.id,d);return a.alopex.popup.children.push(f),f}setTimeout(function(){var e=c.open(b.url,b.id,d);return a.alopex.popup.children.push(e),e},0)}function e(){if(isAlopexWindowPopup()){var b=null;a.alopex.popup.result?b=a.alopex.popup.result:window.opener.$.alopex.popup.result&&(b=window.opener.$.alopex.popup.result),window.opener.$a.beforeunloadHandlerInParent(f,b)}}var f=window.name,g=null,h=null;try{isAlopexWindowPopup()?(a(window).on("beforeunload",e),window.opener.$.alopex&&window.opener.$.alopex.popup.config&&window.opener.$.alopex.popup.config[f]&&(g=window.opener.$.alopex.popup.config[f],a.alopex.util.isValid(g)&&a.alopex.util.isValid(g.data)&&g.id===f&&(h=JSON.parse(g.data)))):checkAlopexWindowParent()&&a(window.parent.document).find('[data-type="dialog"]').each(function(b,c){g=a(c).prop("alopexPopupSetting"),a.alopex.util.isValid(g)&&a.alopex.util.isValid(g.data)&&c.id===f&&(h=JSON.parse(g.data))})}catch(i){}a.extend(a.alopex,{popupdata:h,popup:function(e,f){if(!a.alopex.util.isValid(e.popid)||-1===a.inArray("Alopex_Popup_"+e.popid,a.alopex.popup.names)){var g={id:b(e.popid),title:e.title||e.url};a.extend(g,a.alopex.popup.defaultOptions,e),0===g.width&&(g.width=parseInt(.9*window.innerWidth)),0===g.height&&(g.height=parseInt(.9*window.innerHeight));var h=a.alopex.popup.defaultOptions.url?a.alopex.popup.defaultOptions.url:a.alopex._navigationCofig.url;return g.url=h(g.url,g.data),g.data&&(g.data=JSON.stringify(g.data)),a.alopex.popup.config[g.id]=g,g.windowpopup?d(g,f):c(g,f)}},close:function(b){var c;if(isAlopexWindowPopup()&&0!=window.opener.$.alopex.popup.children.length&&0===a.alopex.popup.names.length)a.alopex.popup.result=b,window.opener!==window&&(window.opener.$.alopex.popup.result=b),window.name="",window.close();else if(checkAlopexWindowParent()){window!==window.parent?(a=window.parent.$,window.parent.$.alopex.popup.result=b):a.alopex.popup.result=b;var d=null;if(a.each(a(window.parent.document).find('[id*="Alopex_Popup_"]'),function(b,c){c=a(c),null==d?d=c:c.css("z-index")>d.css("z-index")&&(d=c)}),d.prop("callbackData",b),c=d.prop("alopexPopupSetting"),a.alopex.util.isValid(c)){if(c.beforeCloseHandler&&"function"==typeof c.beforeCloseHandler&&c.beforeCloseHandler(d[0]),a.alopex.util.isValid(window.parent.$.alopex.widget.dialog.dialoglist))for(var e=window.parent.$.alopex.widget.dialog.dialoglist,f=0;f<window.parent.$.alopex.widget.dialog.dialoglist.length;f++)e[f]==d[0]&&e.splice(f,1);setTimeout(function(){d.close()},0)}}},beforeunloadHandlerInParent:function(b,c){var d=b,e=JSON.stringify(c);setTimeout(function(){for(var b=a.alopex.popup.children,c=!0,f=0;f<b.length;f++)try{b[f].name===d&&(c=!1)}catch(g){}if(c){var h=a.alopex.popup.config[d];if(h&&(h.modal&&$a.unblock(d),h.callback))try{h.callback.call(window,JSON.parse(e))}catch(g){}var i=a.inArray(d,a.alopex.popup.names);-1!==i&&a.alopex.popup.names.splice(i,1)}},300)}}),a.extend(a.alopex.popup,{setup:function(b){a.extend(a.alopex.popup.defaultOptions,b)},names:[],children:[],config:{},result:null,defaultOptions:{width:parseInt(.9*window.innerWidth),height:parseInt(.9*window.innerHeight),type:"blank",center:!0,scroll:!0,modal:!0,modalclose:!1,iframe:!0,windowpopup:!1,toggle:!1,preLoading:!0,beforeCloseHandler:null}})}(jQuery),!function(a){function b(b){var c,d=b.jquery?b:a(b);return c=d.attr("data-bind")?a.trim(d.attr("data-bind").replace("grid","").replace(":","")):d.attr("id")}function c(a){0===e&&a(),e++}function d(a){e--,0===e&&a&&a()}var e=0,f={async:!0,method:"POST",platform:"default",data:{},dataType:"json",requestHeaders:{},responseHeaders:{},showProgress:function(){var a={cancelable:!1,color:"grey"};window.platformUIComponent?platformUIComponent.showProgressDialog(a):null},dismissProgress:function(){window.platformUIComponent?platformUIComponent.dismissProgressDialog():null}};a.alopex.request=function(b,e){e||(e={});var g=a.extend(!0,{id:b},f,e);g.data=g["interface"],a.alopex.util.isValid(g.platform)&&(g.data=a.extend(!0,g.data,g[g.platform]["interface"]));var h;h="function"!=typeof Http&&"function"==typeof _legacyHttp?_legacyHttp:Http;var i=new h;if(e.data){var j,k,l=a.makeArray(e.data);a.alopex.util.isValid(g.platform)?(j=g[g.platform].object,k=g[g.platform].grid):(j=g.object,k=g.grid);for(var m=0;m<l.length;m++)if("function"==typeof l[m])a.extend(!0,g.data,l[m].call(g,e));else if("object"==typeof l[m])a.extend(!0,g.data,e.data);else{var n=a(l[m]);if(n.length<=0)continue;var o=n[0];if(n.attr("data-alopexgrid")){var p=a.alopex.request.getGridData(o);if(p.key&&p.list){var q=k(p,g.data);q.setList(p.list),a.alopex.util.isValid(p.paging)&&(q.setCurrentPage(p.paging.currentPage),q.setperPage(p.list.currentLength),q.setcurrentLength(p.paging.perPage),q.settotalLength(p.paging.totalLength))}}else{var q=j(o,g.data);a.extend(!0,q,a(o).getData())}}}"function"==typeof f.before&&f.before.call(g,b,e),f.before!==g.before&&"function"==typeof g.before&&g.before.call(g,b,e),g.platform&&g[g.platform]&&"function"==typeof g[g.platform].before&&g[g.platform].before.call(g,b,e),g.showProgress&&c(g.showProgress),e.array&&(g.data=e.array),a.isPlainObject(g.requestHeaders)&&a.each(g.requestHeaders,function(a,b){i.setRequestHeader(a,b)});var r={};a.alopex.util.isValid(g.paramType)&&(r.paramType=g.paramType),a.alopex.util.isValid(g.paramType)&&(r.gridData=g.gridData),r.url=a.isFunction(g.url)?g.url.call(g,b,e):g.url,r.method=a.isFunction(g.method)?g.method.call(g,b,e):g.method,r.onBody="POST"===String(g.method).toUpperCase()||"PUT"===String(g.method).toUpperCase()?!0:!1,r.async=g.async,r.dataType=a.isEmptyObject(g.dataType)?"json":g.dataType,r.jsonp=g.jsonp,r.content="object"==typeof g.data?JSON.stringify(g.data):String(g.data),"GET"!==String(g.method).toUpperCase()&&"DELETE"!==String(g.method).toUpperCase()||!a.isPlainObject(g.data)||a.isEmptyObject(g.data)||(r.url+="?"+a.param(g.data)),r.async&&i.setTimeout(g.timeout||3e4),window.deviceJSNI&&i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.request(r,function(b,c){return function(b){function e(b,c){var d,e,f=a.makeArray(c);a.alopex.util.isValid(g.platform)?(d=b[b.platform].object,e=b[b.platform].grid):(d=b.object,e=b.grid);for(var h=0;h<f.length;h++)if("function"==typeof f[h])f[h].call(b,b.response);else{var i=a(f[h]);if(i.length<=0)continue;var j=i[0];if(i.attr("data-alopexgrid")){var k=e(j,b.response);a(j).alopexGrid("dataSet",k.list,k.list&&k.list.length>0&&a.alopex.util.isValid(k.currentPage)&&k.currentPage>0?{current:k.currentPage,perPage:k.perPage,dataLength:k.totalLength}:void 0)}else{var k=d(j,b.response);i.setData(k)}}}if(c.response=b.response,c.responseHeaders=b.responseHeader,c.http=b,c.platform&&c[c.platform]&&"function"==typeof c[c.platform].after&&c[c.platform].after.call(c,c.response),!c.isError){if(c.isSuccess!==!1&&"function"==typeof f.after&&f.after.call(c,c.response),c.isSuccess!==!1&&f.after!==c.after&&"function"==typeof c.after&&c.after.call(c,c.response),c.showProgress){var h=c.dismissProgress;d(h)}c.isSuccess===!1?(c.platform&&c[c.platform]&&"function"==typeof c[c.platform].fail&&c[c.platform].fail.call(c,c.response),"function"==typeof f.fail&&f.fail.call(c,c.response),f.fail!==c.fail&&"function"==typeof c.fail&&c.fail.call(c,c.response)):(c.platform&&c[c.platform]&&c[c.platform].success&&e(c,c[c.platform].success),f.success&&e(c,f.success),f.success!==c.success&&c.success&&e(c,c.success)),delete c.response,delete b.response,delete c,delete b,c=null,b=null}}}(e,g),function(a,b){return function(a){if(b.responseHeaders=a.responseHeader,b.data=a.status,b.status=a.status,b.statusText=a.statusText,b.showProgress){var c=b.dismissProgress;d(c)}b.platform&&b[b.platform]&&"function"==typeof b[b.platform].error&&b[b.platform].error.call(b,a),"function"==typeof f.error&&f.error.call(b,a),f.error!==b.error&&"function"==typeof b.error&&b.error.call(b,a),delete b.response,delete a.response,delete b,delete a,b=null,a=null}}(e,g))},a.extend(a.alopex.request,{setup:function(){"string"==typeof arguments[0]?f[arguments[0]]?a.extend(!0,f[arguments[0]],arguments[1]):f[arguments[0]]=arguments[1]:a.extend(!0,f,arguments[0])},setupConfig:f,register:a.alopex.services?a.alopex.services:void 0,sendRegistered:a.alopex.services?a.alopex.services.send:void 0,prototype:{},getGridData:function(c){var d=b(c),e=c.jquery?c:a(c),f=AlopexGrid.trimData(e.alopexGrid("dataGet",{_state:{deleted:!0}},{_state:{edited:!0}},{_state:{added:!0}})),g=e.alopexGrid("pageInfo");return{key:d,list:f,paging:{currentPage:g.current,currentLength:f.length,
perPage:g.perPage,totalLength:g.dataLength}}},setGridData:function(a,b){}}),a.alopex.request.setup("default",{"interface":{},grid:function(c,d){var e;return e=a.alopex.util.isValid(c.key)?c.key:b(c),a.alopex.util.isValid(d[e])||(d[e]={}),{list:d[e].list,currentPage:d[e].currentPage,perPage:d[e].perPage,currentLength:d[e].currentLength,totalLength:d[e].totalLength,setList:function(a){d[e].list=a},setCurrentPage:function(a){d[e].currentPage=a},setperPage:function(a){d[e].perPage=a},setcurrentLength:function(a){d[e].currentLength=a},settotalLength:function(a){d[e].totalLength=a}}},object:function(a,b){return b},before:function(a,b){b.useServiceId!==!1&&(this.data.serviceId=a)},after:function(a){}}),a.alopex.request.setup("NEXCORE.J2EE",{"interface":{dataSet:{message:{},fields:{},recordSets:{}},transaction:{},attributes:{}},object:function(a,b){return b.dataSet.fields},grid:function(b,c){var d;if(a.alopex.util.isValid(b.key))d=b.key;else{var e=a(b).attr("data-bind")?a.trim(a(b).attr("data-bind").replace(/\s*grid\s*:/gi,"")):void 0;d=e||b.id}return a.alopex.util.isValid(c.dataSet.recordSets[d])||(c.dataSet.recordSets[d]={}),{list:c.dataSet.recordSets[d].nc_list,currentPage:c.dataSet.recordSets[d].nc_pageNo,perPage:c.dataSet.recordSets[d].nc_recordCountPerPage,currentLength:c.dataSet.recordSets[d].nc_recordCount,totalLength:c.dataSet.recordSets[d].nc_totalRecordCount,setList:function(a){c.dataSet.recordSets[d].nc_list=a},setCurrentPage:function(a){c.dataSet.recordSets[d].nc_pageNo=a},setperPage:function(a){c.dataSet.recordSets[d].nc_recordCountPerPage=a},setcurrentLength:function(a){c.dataSet.recordSets[d].nc_recordCount=a},settotalLength:function(a){c.dataSet.recordSets[d].nc_totalRecordCount=a}}},before:function(a,b){this.requestHeaders["Content-Type"]="application/json; charset=UTF-8",this.data.transaction.id=a},after:function(a){}}),a.alopex.request.setup("NEXCORE.NET",{"interface":{request:{ServiceType:{},ServiceName:{},ServiceData:{DataSet:{DataSetName:{},Tables:[]},Hashtable:{}}}},object:function(a,b){return b.request.ServiceData.Hashtable},grid:function(c,d){var e;e=a.alopex.util.isValid(c.key)?c.key:b(c);var f=d.request.ServiceData.DataSet.Tables,g=null;return a.each(f,function(a,b){b.TableName===e&&(g=b)}),null===g&&(g={TableName:e},f.push(g)),{list:g.Rows,currentPage:g.PageSize,perPage:g.RowspPage,currentLength:g.RowsLength,totalLength:g.TotalRowsLength,setList:function(a){g.Rows=a},setCurrentPage:function(a){g.PageSize=a},setperPage:function(a){g.RowspPage=a},setcurrentLength:function(a){g.RowsLength=a},settotalLength:function(a){g.TotalRowsLength=a}}},before:function(a,b){this.requestHeaders["Content-Type"]="application/json; charset=UTF-8",this.data.request=JSON.stringify(this.data.request)},after:function(b){try{this.response=JSON.parse(b.d)}catch(c){this.http.errorInfo="JSON.parse() error : responseText = "+b.d,a.alopex.util.isValid(c.message)&&(this.http.errorMessage=c.message),a.alopex.util.isValid(c.name)&&(this.http.errorName=c.name),a.alopex.util.isValid(c.stack)&&(this.http.errorStack=c.stack),this.isError=!0,this.http.errorCallback(this.http),delete this.http}}})}(jQuery),!function(a){function b(b,c){a.each(c,function(d,e){!a.isFunction(e)&&c.hasOwnProperty(d)&&(b[d]=a.isPlainObject(e)?a.extend(!0,{},e):e)})}function c(){return"alopexservice"+i++}function d(){a.each(a.alopex.service,function(b,c){a.alopex.service.hasOwnProperty(b)&&a.isFunction(c)&&(a.alopex.service[b]=a.alopex.service.prototype[b]=c)})}function e(a){return a===!0||"pre"===a||"meta"===a||"post"===a}function f(b,c,d){if(a.isArray(c)){var f=[],g=[],h=[],i=!0;return a.each(c,function(b,c){a.isArray(c)&&e(c[0])&&a.isFunction(c[1])&&(c[0]===!0||"meta"===c[0]?f.push(c[1]):"pre"===c[0]?g.push(c[1]):"post"===c[0]&&h.push(c[1]))}),i&&a.each(g,function(c,e){return e.apply(b,a.isFunction(d)?d(b):d)===!1?(i=!1,!1):void 0}),i&&a.each(c,function(c,e){if(a.isFunction(e)){if(e.apply(b,a.isFunction(d)?d(b):d)===!1)return i=!1,!1}else if(a.isArray(e)&&e[0]!==!0)for(var g=0,h=f.length;h>g;g++)if(f[g].apply(b,e)===!1)return i=!1,!1}),i&&a.each(h,function(c,e){return e.apply(b,a.isFunction(d)?d(b):d)===!1?(procees=!1,!1):void 0}),i}}function g(b,c,d){if(a.isFunction(c))b.push(c);else if(a.isArray(c))if(e(c[0])&&a.isFunction(c[1]))b.push(c);else if("string"==typeof c[0])b.push(c);else for(var f=0,h=c.length;h>f;f++)g(b,c[f]);else a.isPlainObject(c)&&b.push(c)}var h=/^(?:before|after|success|fail|error)/i,i=100*Math.random()|0;a.alopex.service=function(e){var f=this;return f instanceof a.alopex.service&&!f.alopexservice?(f.alopexservice=c(),f.settings={success:[],fail:[],error:[]},f.request={},f.response={},f.request.chain=[],f.response.chain=[],e&&e.alopexservice&&b(f.settings,e.settings),e&&e.request&&a.isArray(e.request.chain)&&(f.request.chain=f.request.chain.concat(e.request.chain)),e&&e.response&&a.isArray(e.response.chain)&&(f.response.chain=f.response.chain.concat(e.response.chain))):(f=new a.alopex.service,arguments[0]!==a.alopex&&arguments.length&&f.service.apply(f,arguments)),d(),f},a.extend(a.alopex.service,{settings:{platform:"GENERIC",url:"",method:"GET",async:!0,before:[],after:[],success:[],fail:[],error:[]},fix:function(b){return d(),b&&b.alopexservice?b:new a.alopex.service},clone:function(){return this.alopexservice?new a.alopex.service(this):new a.alopex.service},setup:function(b){var c=this;return a.isPlainObject(b)&&(c.settings=c.settings||{},a.each(b,function(b,d){void 0===d||null===d?(delete c.settings[b],h.test(b)&&(c.settings[b]=[])):h.test(b)?g(c.settings[b],d):a.isPlainObject(d)&&d.platform===!0?(a.alopex.service[b]&&a.alopex.service[b].alopexservice||(a.alopex.service[b]=new a.alopex.service),a.each(d,function(c,d){"before"!==c&&"after"!==c&&"platform"!==c&&"success"!==c&&"fail"!==c&&"error"!==c&&(a.alopex.service[b].settings[c]=d)}),a.each(["after","before","success","fail","error"],function(c,e){d[e]?a.alopex.service[b][e](d[e]):""})):c.settings[b]=d})),c},before:function(b){var c=a.alopex.service.fix(this);return g(c.request.chain,a.makeArray(arguments)),c},after:function(b){var c=a.alopex.service.fix(this);return g(c.response.chain,a.makeArray(arguments)),c},success:function(b){var c=a.alopex.service.fix(this);return g(c.settings.success,a.makeArray(arguments)),c},fail:function(b){var c=a.alopex.service.fix(this);return g(c.settings.fail,a.makeArray(arguments)),c},error:function(b){var c=a.alopex.service.fix(this);return g(c.settings.error,a.makeArray(arguments)),c},service:function(c,d,e,g,h){var i=a.alopex.service.fix(this),j=a.makeArray(arguments),k={data:null,headers:{}},l={data:null,headers:{}};b(k,a.alopex.service.settings);var m=k.platform;if(b(k,i.settings),b(k,i.request),k.chain=[],k.chain=k.chain.concat(k.before||[]).concat(i.request.chain||[]).concat(a.alopex.service[k.platform].request.chain||[]),f(k,k.chain,j)===!1)return!1;l.request=k,l.chain=[],l.chain=l.chain.concat(a.alopex.service[m].response.chain||[]).concat(k.after||[]).concat(i.response.chain||[]);var n;n="function"!=typeof Http&&"function"==typeof _legacyHttp?_legacyHttp:Http;var o=new n,p={};p.url=a.isFunction(k.url)?k.url.apply(k,j):k.url,p.method=a.isFunction(k.method)?k.method.apply(k,j):k.method,p.onBody="POST"===String(k.method).toUpperCase()?!0:!1,p.content=a.isPlainObject(k.data)?JSON.stringify(k.data):String(k.data),p.async=k.async,"GET"===String(k.method).toUpperCase()&&a.isPlainObject(k.data)&&!a.isEmptyObject(k.data)&&(p.url+="?"+a.param(k.data)),a.isPlainObject(k.headers)&&a.each(k.headers,function(a,b){o.setRequestHeader(a,b)}),p.async&&o.setTimeout(k.timeout||3e4);var q={cancelable:!1,color:"grey"};return window.platformUIComponent?platformUIComponent.showProgressDialog(q):null,window.deviceJSNI&&o.setRequestHeader("Content-Type","application/json; charset=UTF-8"),o.request(p,function(b,c,d,e,g){return function(g){var h=c.request.platform;c.response=g.response,c.headers=g.responseHeader,a.isArray(c.chain)&&f(c,c.chain,function(a){return[a.data,a.headers]}),window.platformUIComponent?platformUIComponent.dismissProgressDialog():null,c.success===!1?(f(c,[].concat(a.alopex.service[h].settings.fail).concat(a.alopex.service.settings.fail).concat(b.settings.fail),[c.data,c.headers]),a.isFunction(e)?e.call(c,c.data,c.headers):""):(f(c,[].concat(a.alopex.service[h].settings.success).concat(a.alopex.service.settings.success).concat(b.settings.success),[c.data,c.headers]),a.isFunction(d)?d.call(c,c.data,c.headers):"")}}(i,l,e,g,h),function(b,c,d,e,g){return function(d){var h=c.request.platform;c.originalResponse=c.responseText,c.data=d.status,c.status=d.status,c.statusText=d.statusText,f(c,[].concat(a.alopex.service[h].settings.error).concat(a.alopex.service.settings.error).concat(b.settings.error),[c.data,c.headers]),a.isFunction(g)?g.call(c,c.data,c.headers):"",g||(f(c,[].concat(a.alopex.service[h].settings.fail).concat(a.alopex.service.settings.fail).concat(b.settings.fail),[c.data,c.headers]),a.isFunction(e)?e.call(c,c.data,c.headers):""),window.platformUIComponent?platformUIComponent.dismissProgressDialog():null}}(i,l,e,g,h)),i},prototype:{}})}(jQuery),function(a){a.alopex.service.setup({GENERIC:{platform:!0,before:[function(b,c,d,e,f){var g=this;g.data=a.extend(!0,{},g.data,c),g.url=g.url||b},[!0,function(b){var c=this;b&&(a.isArray(b)||(b=a.makeArray(arguments)),a.each(b,function(b,d){var e=a(d);if(e.length){var f=a.alopex.datamodel(d,!0).get();c.data=a.extend(!0,{},c.data,f)}}))}]],after:[function(a,b){var c=this;try{c.data=JSON.parse(c.responseText)}catch(d){try{if(window.DOMParser)var e=new DOMParser,f=e.parseFromString(c.reponseText,"text/xml");else{var f=new ActiveXObject("Microsoft.XMLDOM");f.async=!1,f.loadXML(c.reponseText)}c.data=c.responseText}catch(g){c.data=c.responseText,c.success=!1}}}],success:[[!0,function(b){var c=this;c.data&&b&&(a.isArray(b)||(b=a.makeArray(b)),a.each(b,function(b,d){var e=a(d);e.length&&a.alopex.databind(c.data,d)}))}]]}})}(jQuery),function(a){a.alopex.service.setup({"NEXCORE.J2EE":{platform:!0,before:[function(a,b,c,d,e){this.data.transaction={id:a},this.headers={"Content-Type":"application/json; charset=UTF-8"}}],after:[function(a,b){var c=this,a={};try{a=JSON.parse(c.responseText),a&&(c.originalResponse=a),a&&a.dataSet&&(c.data=a.dataSet)}catch(d){c.success=!1}},function(a,b){var c=this;c.data&&c.data.message&&"OK"!==c.data.message.result&&(c.success=!1)}]}})}(jQuery),function(a){function b(b,c){if(a.isPlainObject(b)&&!a.isEmptyObject(b)&&a.isPlainObject(c)&&a.isPlainObject(c.recordSets)){var d=b.TableName,e=b.Rows;if(d&&a.isArray(e)){if(c.recordSets[d]={nc_list:e},c.fields["nc_rowCount_"+d]){var f=c.recordSets[d];c.fields["nc_rowCount_"+d]>0&&(f.nc_recordCount=e.length,f.nc_pageNo=c.fields["nc_pageNum_"+d],f.nc_recordCountPerPage=c.fields["nc_rowCount_"+d],f.nc_totalRecordCount=c.fields["nc_totalRowCount_"+d])}}}}function c(a,b,c){var d=b[a];c.DataSet.Tables.push({TableName:a,Rows:d.nc_list}),c.Hashtable["nc_pageNum_"+a]=d.nc_pageNo,c.Hashtable["nc_???_"+a]=d.nc_recordCount,c.Hashtable["nc_rowCount_"+a]=d.nc_recordCountPerPage,c.Hashtable["nc_totalRowCount_"+a]=d.nc_totalRecordCount}function d(a){return encodeURIComponent(JSON.stringify(a))}function e(a){return JSON.parse(decodeURIComponent(a))}a.alopex.service.setup({"NEXCORE.NET":{platform:!0,before:[function(b,e,f,g,h){var i=a.extend(!0,{},this.data.dataSet),j={DataSet:{DataSetName:"DataSetName",Tables:[]},Hashtable:{}};if(this.data={},this.data.request={},-1==b.indexOf("#"))this.data.request.ServiceId=b;else{if(2!=b.split("#").length)return alert("Service 함수의 TransactionId 값이 유효하지 않습니다."),!1;this.data.request.ServiceType=String(b.split("#")[0]),this.data.request.ServiceName=String(b.split("#")[1])}for(var k in i.recordSets)i.recordSets.hasOwnProperty(k)&&c(k,i.recordSets,j);a.extend(j.Hashtable,i.fields),this.data.request.ServiceData=j,this.data.request=d(this.data.request)}],after:[function(a,b){var c=this,a={};try{a=JSON.parse(c.responseText),a.InvokeServiceResult=e(a.InvokeServiceResult),c.originalResponse=a}catch(d){c.success=!1}},function(c,d){var e=this;if(e.success!==!1){var c={fields:{},recordSets:{}},f=e.originalResponse.InvokeServiceResult;a.extend(!0,c.fields,f.Hashtable),f.Object?c.fields.Object=f.Object:0,f.DataTable&&!a.isEmptyObject(f.DataTable)&&b(f.DataTable,c),f.DataSet&&a.isArray(f.DataSet.Tables)&&a.each(f.DataSet.Tables,function(a,d){b(d,c)}),e.data=c}else e.data=e.originalResponse.InvokeServiceResult}]}})}(jQuery),function(a){function b(){return"J2EE"+i++}function c(b,c){var d=c.jquery?c:a(c);if(h(c)&&b&&c&&(c=c||a("#"+tableObject.TableName),c.prop("nodeType")&&c.attr("data-alopexgrid"))){var e=b,f=e.hasOwnProperty("nc_pageNo")&&e.nc_pageNo>0&&e.hasOwnProperty("nc_totalRecordCount")&&e.hasOwnProperty("nc_recordCountPerPage");d.alopexGrid("dataSet",a.isArray(e.nc_list)?e.nc_list:[],f?{current:e.nc_pageNo,total:0|Math.ceil(1*e.nc_totalRecordCount/e.nc_recordCountPerPage),perPage:e.nc_recordCountPerPage,dataLength:e.nc_totalRecordCount}:null)}}function d(b,c){for(var d=b.jquery?b:a(b),e={},f=d.alopexGrid("dataGet"),g=0,h=f.length;h>g;g++)f[g]=AlopexGrid.trimData(f[g]);var i=d.alopexGrid("pageInfo");return e.nc_recordCount=f.length,e.nc_pageNo=i.current,e.nc_recordCountPerPage=i.perPage,e.nc_totalRecordCount=i.dataLength,e.nc_list=f,a.isPlainObject(c)?(a.extend(!0,c,e),c):e}function e(b,c){var d=c&&c.jquery?c:a(c);d.length&&d.prop("nodeType")&&(a.alopex.page["#"+d.prop("id")]?a.alopex.page["#"+d.prop("id")].set(b):(a.alopex.page["#"+d.prop("id")]=a.alopex.datamodel(d,!0),a.alopex.page["#"+d.prop("id")].set(b)))}function f(b,c){var d=b&&b.jquery?b:a(b);if(d.length&&d.prop("nodeType")){a.alopex.page["#"+d.prop("id")]||(a.alopex.page["#"+d.prop("id")]=a.alopex.datamodel("#"+d.prop("id")));var e=a.alopex.page["#"+d.prop("id")].get();return a.isPlainObject(c)&&a.extend(!0,c,e),e}}function g(b,c){var d=a.extend(!0,{},b.fields);return c||(c="Table"),b.recordSets&&b.recordSets[c]&&a.isArray(b.recordSets[c].nc_list)&&a.extend(!0,d,b.recordSets[c].nc_list[0]),d}function h(a){return a&&a.prop("nodeType")?!0:!1}a.alopex.service.setup({before:[function(b,c,d,e,f){this.data={},this.data.attributes={},this.data.dataSet={fields:a.extend(!0,{},c),recordSets:{}}},[!0,function(c){if(c){a.isArray(c)||(c=a.makeArray(arguments));var e=this.data.dataSet;a.each(c,function(c,g){if("string"==typeof g||g&&g.jquery&&g.prop("nodeType")){var h=a(g);if(!h.length||!h.prop("nodeType"))return;if(h.prop("id")||h.prop(id,b()),h.attr("data-alopexgrid")){e.recordSets=a.extend(!0,e.recordSets,{});var i=e.recordSets;i[h.prop("id")]=d(h)}else e.fields=a.extend(!0,e.fields,{}),f(h,e.fields)}if(a.isPlainObject(g)){var i=response.data.recordSets;if(!i)return;a.each(g,function(b,c){a(c).attr("data-alopexgrid")&&(e.recordSets=a.extend(!0,e.recordSets,{}),e.recordSets[h.prop("id")]=d(h))})}})}}]],after:[],success:[[!0,function(d){if(d){a.isArray(d)||(d=a.makeArray(arguments));var f=this;a.each(d,function(d,h){if("string"==typeof h||h&&h.jquery&&h.prop("nodeType")){var i=a(h);if(!i.length||!i.prop("nodeType"))return;if(i.prop("id")||i.prop(k,b()),i.attr("data-alopexgrid")){var j=f.data.recordSets;if(!j)return;j.hasOwnProperty(i.prop("id"))&&c(j[i.prop("id")],i)}else{var k=i.attr("id");e(g(f.data,k),i)}}if(a.isPlainObject(h)){var j=f.data.recordSets;if(!j)return;a.each(h,function(b,d){j.hasOwnProperty(b)&&a(d).attr("data-alopexgrid")&&c(j[b],a(d))})}})}}]]});var i=1e3*Math.random()|0}(jQuery),!function($,window,document){function Response(a){if(this.responseText=a.responseText,this.response=a.responseJSON,!this.response)try{this.response=JSON.parse(this.responseText)}catch(b){}this.status=a.status,this.errorCode=a.status,this.errorText=a.statusText}function Request(id,setup,request){this.id=id,this.headers,this.method,this.timeout,this.url,this.data,this.context,this.setup,this.request,setup=setup?setup:{},this.setup=setup,this.request=request;var setting=$.extend(!0,setting,setup,request);setting.method=setup.method||request.method,setting.url=request.url||setup.url;var Func;if("function"==typeof setting.url?Func=setting.url:-1!=setting.url.indexOf("function")&&(Func=eval("("+setting.url+")")),Func&&(setting.url=Func(id,request)),setting.data=setting.parameter,setting.variables)for(var i in setting.variables)$.alopex.util.setValueOnObject(setting.data,i,setting.variables[i]);setting.dataType="json",setting.requeestHeaders&&(setting.header=setting.requeestHeaders),setting.context=this,this.success=successCallback,this.error=errorCallback,this.method=setting.method,this.url=setting.url,this.data=setting.data,this.response=null,this.proceed=new Proceed(this)}function Proceed(a){this.id=Math.random(),this.status,this.canProceed=!1,this.request=a}function sendRequest(a){var b=$.alopex.services.list[a],c=$.alopex.request.setupConfig,d=new Request(a,c,b);d.setting=b;for(var e in b.parameter)$.alopex.util.setValueOnObject(d.data,e,b.parameter[e]);if(b.parambind)for(var e in b.parambind){var f=b.parambind[e];$.alopex.util.setValueOnObject(d.data,e,$a.getDataByService(f,"data-bind"))}if(c.before)try{var g=window[commonModule][c.before];if(g&&(g(d,d.proceed.next()),!d.proceed.checkProceed()))return}catch(h){}if(b.before&&b.before.length)for(var e=0;e<b.before.length;e++)try{var g=window[pageModule][b.before[e]];if(g&&(g(d,d.proceed.next()),!d.proceed.checkProceed()))return}catch(h){}var i;i="function"!=typeof Http&&"function"==typeof _legacyHttp?_legacyHttp:Http;var j=new i;d.onBody="POST"===String(d.method).toUpperCase()?!0:!1,d.content="object"==typeof d.data?JSON.stringify(d.data):String(d.data),"GET"===String(d.method).toUpperCase()&&$.isPlainObject(d.data)&&!$.isEmptyObject(d.data)&&(entity.url+="?"+$.param(d.data)),d.async&&j.setTimeout(d.timeout||3e4),window.deviceJSNI&&j.setRequestHeader("Content-Type","application/json; charset=UTF-8"),j.request(d,__successCallback(d),__errorCallback(d))}function successCallback(a,b,c){var d=this,e=d.id;d.response=new Response(c);var f=$.alopex.services.list[e],g=$.alopex.request.setupConfig;if(g.after)try{var h=window[commonModule][g.after];if(h&&(h(d,d.response,d.proceed.next()),!d.proceed.checkProceed()))return}catch(i){}if(f.after&&f.after.length)for(var j=0;j<f.after.length;j++)try{var h=window[pageModule][f.after[j]];if(h&&(h(d,d.response,d.proceed.next()),!d.proceed.checkProceed()))return}catch(i){}if("fail"==d.proceed.status)return void failCallback.call(d);if("error"==d.proceed.status)return void errorCallback.call(d,c,d.response.status);if(window[commonModule]&&g.success&&"function"==typeof window[commonModule][g.success]&&window[commonModule][g.success](a,d,d.response),window[pageModule]&&f.success&&"function"==typeof window[pageModule][f.success]&&window[pageModule][f.success](a,d,d.response),d.setting.databind&&d.response.response)for(var j in d.setting.databind){var a=$.alopex.util.getValueOnObject(d.response.response,j);$.alopex.setDataByService(d.setting.databind[j],a,"data-bind")}if($.alopex.services.dependency[e])for(var j=0;j<$.alopex.services.dependency[e].length;j++)sendRequest($.alopex.services.dependency[e][j])}function failCallback(){var a=this,b=a.id,c=$.alopex.services.list[b],d=$.alopex.request.setupConfig;window[commonModule]&&d&&d.fail&&"function"==typeof window[commonModule][d.fail]&&window[commonModule][d.fail](a.response.errorCode,a.response.errorText),window[pageModule]&&c&&c.fail&&c.fail&&"function"==typeof window[pageModule][c.fail]&&window[pageModule][c.fail](a.response.errorCode,a.response.errorText)}function errorCallback(a,b,c){var d=this,e=d.id,f=$.alopex.services.list[e],g=$.alopex.request.setupConfig;d.response||(d.response=new Response(a)),window[commonModule]&&g&&g.error&&"function"==typeof window[commonModule][g.error]&&window[commonModule][g.error](d.response.errorCode,d.response.errorText),window[pageModule]&&f&&f.error&&f.error&&"function"==typeof window[pageModule][f.error]&&window[pageModule][f.error](d.response.errorCode,d.response.errorText)}function __successCallback(a){return function(b,c){successCallback.call(a,b.response,b.status,c)}}function __errorCallback(a){return function(b,c){errorCallback.call(a,c,b.status)}}var commonModule="common",pageModule="page";$.alopex.services=function(a){$.alopex.services.list=$.extend(!0,$.alopex.services.list,a);for(var b in a){if(!a.hasOwnProperty(b))return;var c=document.querySelectorAll('[data-trigger*="@'+b+'"]');if(c)for(var d=new RegExp("\\w+\\s*@\\s*"+b+"(?![\\d\\w])","gi"),e=0;e<c.length;e++){var f,g=c[e],h=g.getAttribute("data-trigger"),i=h.match(d);if(i)for(var j=0;j<i.length;j++)f=$.trim(i[j].split("@")[0]),f&&("load"==f?sendRequest(b):$(g).on(f,function(a){return function(){sendRequest(a)}}(b)))}var k=a[b];if(k.trigger&&k.trigger instanceof Array)for(var e=0;e<k.trigger.length;e++){var l=k.trigger[e];$.alopex.services.dependency[l]||($.alopex.services.dependency[l]=[]),$.alopex.services.dependency[l].push(b)}}},$.alopex.services.dependency={},Proceed.prototype.next=function(){return this.canProceed=!1,function(a){return function(b){a.canProceed=!0,b&&(a.status=b)}}(this)},Proceed.prototype.checkProceed=function(){return this.canProceed?!0:!1},$.alopex.services.defaultSetting={request:{url:"",method:"POST",async:"true",timeout:"1000",parameter:{}},after:{},before:{},response:{failCondition:[],response:{}},success:{callback:void 0,bindMapping:{}},error:{callback:void 0},fail:{callback:void 0}},$.alopex.services.send=sendRequest,$.alopex.services.list={},$.alopex.registerSetup("request",function(a){$.alopex.services.defaultSetting=a}),$.alopex.request&&"function"==typeof $.alopex.request&&($.alopex.request.register=$.alopex.services,$.alopex.request.sendRegistered=sendRequest)}(jQuery,this,this.document,void 0),!function(a){a.alopex.request.setup({}),a.alopex.navigate.setup({url:function(a,b){var c=a;return c}})}(jQuery),!function(a){function b(){}function c(b,c){var e=a(b);return c=c||g,d(e.findAll("["+c+"]").toArray(),b,c)}function d(b,c,d){var e=[],f=a(c);return a(b).each(function(b,c){var g=a(c).parents("["+d+"*=foreach], ["+d+"*=with]").eq(0);0==g.length?e.push(c):g.each(function(a,b){0==f.findAll(b).length&&e.push(c)})}),e}function e(a,b,c){var d=b.split("."),e=a;if(d.length<1)return!1;for(var f=0;f<d.length-1;f++){var g=d[f];e instanceof Array?(0==e.length&&e.push({}),e=e[0]):(e[g]||(e[g]={}),e=e[g])}typeof e[d[d.length-1]]!=typeof c&&(e[d[d.length-1]]=c)}var f="data-bind-format",g="data-bind",h="@",i=":";a.fn.findAll=function(a){return this.find(a).addBack(a)},b.prototype.toObject=function(b){var c,d={},e=b;return c=e.split(h),-1!==e.indexOf(h)&&2===c.length&&(d.firstSegment=a.trim(c[1]),e=a.trim(c[0])),c=e.split(i),c.length<2?d.thirdSegment=e:(d.secondSegment=a.trim(c[0]),c.shift(),d.thirdSegment=a.trim(c.join(i))),d},b.prototype.parseByKey=function(a){for(var b=[],c=this.splitRules(a),d=0;d<c.length;d++){var e=c[d].match(this.regexp);if(1===e.length&&e[0]==c[d]){var f=this.toObject(c[d]);if(f&&f.thirdSegment&&-1!==f.thirdSegment.indexOf("{"))for(var g=f.thirdSegment.replace(/[\{\}]/gi,""),h=this.splitRules(g),i=0;i<h.length;i++){var j=this.toObject(h[i]);j&&b.push({serviceName:f.firstSegment,controlName:f.secondSegment,subcontrolName:j.secondSegment,key:j.thirdSegment})}else b.push({serviceName:f.firstSegment,controlName:f.secondSegment,key:f.thirdSegment})}}return b},b.prototype.parseByControl=function(b){var c,d,e,f,g={},h=this.splitRules(b);for(e=0;e<h.length;e++){for(c=h[e],d=c.match(/[^\{\,\:\s\{\}]+/gi),f=0;f<d.length;f++)c=c.replace(d[f],'"'+d[f]+'"');c="{"+c+"}";try{a.extend(g,JSON.parse(c))}catch(i){}}return g},b.prototype.regexp=/[^\s,{}]+\s*:\s*(\{(\s*[^\s,{}]+\s*:\s*[^\s,{}]+\s*,?)+}|[^\s,{}]+)(\s*\@\s*[^\s,{}]+)?/gi,b.prototype.splitRules=function(a){return a&&a.match?a.match(this.regexp)||[]:[]},b.prototype.isValidServiceData=function(b,c){var d=b.split(h);return d.length>1&&a.trim(d[1])===c?!0:!1};a.alopex.BindParser=new b;a.alopex.setDataOnElements=function(b,c,d,e){c&&(d=d||g,a.each(b,function(b,g){for(var h,i,j=a(g).attr(d),k=a.alopex.BindParser.parseByKey(j),l=0;l<k.length;l++)if((!e||e==k[l].serviceName)&&(i=a.alopex.util.getValueOnObject(c,k[l].key),null!=i&&void 0!=i&&(h=k[l].controlName,a.alopex.DataBinder[h]&&a.alopex.DataBinder[h].render))){var m=a(g).attr(f);a.alopex.util.isValid(m)&&(i=a.alopex.format(i,a(g).attr(f))),a.alopex.DataBinder[h].render(g,k[l].key,i,c,k[l])}}))},a.alopex.getDataFromElements=function(b,c){var d={};return c=c||g,a.each(b,function(b,e){var g,h,i=a(e),j=a(e).attr(c),k=a.alopex.BindParser.parseByKey(j);if("object"!=typeof e){if(0===i.length)return;e=i[0]}for(var l=0;l<k.length;l++)if(g=k[l].controlName,g&&a.alopex.DataBinder[g]&&a.alopex.DataBinder[g].data){var m=a(e).attr(f);h=a.alopex.DataBinder[g].data(e,k[l].key,void 0,d,k[l]),void 0!=h&&null!=h&&(a.alopex.util.isValid(h)&&a.alopex.util.isValid(m)&&(h=a.alopex.unformat(h,a(e).attr(f))),a.alopex.util.setValueOnObject(d,k[l].key,h))}}),d},a.alopex.getCandidates=function(b,c,d){var e=[];return d||(d=document.body),c=c||g,a(d).findAll("["+c+'*="'+h+b+'"]').each(function(a,b){e.push(b)}),e},a.alopex.getBindMapping=function(b,c,d){d=d||g;for(var e=b.getAttribute(d),f=a.alopex.BindParser.parseByKey(e),h=0;h<f.length;h++)f[h].serviceName!=c&&f.splice(h--,1);return f},a.alopex.getBindObject=function(b,c,d){for(var f={},g=a.alopex.getCandidates(b,c,d),h=0;h<g.length;h++)for(var i=a.alopex.getBindMapping(g[h],b),j=0;j<i.length;j++)"foreach"==i[j].controlName||"options"==i[j].controlName?e(f,i[j].key,[]):e(f,i[j].key,"");return f},a.alopex.getBindMappingList=function(b,c,d){for(var e={},f=a.alopex.getCandidates(b,c,d),g=0;g<f.length;g++)for(var h=a.alopex.getBindMapping(f[g],b),i=0;i<h.length;i++)e[h[i].key]={element:"<__ALOPEX_ELEMENT_>"+a.alopex.util.getElementSelector(f[g]),control:h[i].controlName,service:h[i].serviceName};return e},a.alopex.getDataByService=function(b,c){var d=a.alopex.getCandidates(b,c);return a.alopex.getDataFromElements(d,c)},a.alopex.setDataByService=function(b,c,d){var e=a.alopex.getCandidates(b,d);a.alopex.setDataOnElements(e,c,d,b)},a.fn.setData=function(b,c,d){var e;return d=d||g,e=this.findAll("["+d+"]").toArray(),a.alopex.setDataOnElements(e,b,d,c),this},a.fn.getData=function(b,d){var e=this;return d=d||g,b&&b.selectOptions?j.options.setting.selectOption=b.selectOptions:j.options.setting.selectOption=!1,a.alopex.getDataFromElements(c(e,d),d)};var j={};j.html={data:function(b,c,d,e,f){return a(b).html()},render:function(a,b,c,d,e){a.innerHTML=c}},j.text={data:function(b,c,d,e,f){return a(b).text()},render:function(a,b,c,d,e){if("object"==typeof c)try{c=JSON.stringify(c)}catch(f){}a.innerText=c}},j.value={data:function(b,c,d,e,f){var g=a(b),d=g.val();return g.attr("data-maskedinput-rule")&&b.maskedinputOptions.everyRuleRegExpOpposite&&(d=d.replace(b.maskedinputOptions.everyRuleRegExpOpposite,"")),d},render:function(a,b,c,d,e){"undefined"!=typeof c&&null!=c&&a.value!=c&&(a.getAttribute("data-maskedinput-rule")?(a.maskedinputOptions.previousValue=a.value,a.value=$a.maskedinputRegExpCheck(a,c)):a.value=c)}},j.checked={availableValueList:{y:{"true":"y","false":"n"},n:{"true":"y","false":"n"},yes:{"true":"yes","false":"no"},no:{"true":"yes","false":"no"},Y:{"true":"Y","false":"N"},N:{"true":"Y","false":"N"},YES:{"true":"YES","false":"NO"},NO:{"true":"YES","false":"NO"},0:{"true":"1","false":"0"},1:{"true":"1","false":"0"},"true":{"true":!0,"false":!1},"false":{"true":!0,"false":!1},TRUE:{"true":"TRUE","false":"FALSE"},FALSE:{"true":"TRUE","false":"FALSE"},True:{"true":"True","false":"False"},False:{"true":"True","false":"False"}},data:function(b,c,d,e,f){var g,h=a(b),i=j.checked.availableValueList,k=h.attr("data-type")||b.type,l=h.attr("value"),m=h.attr("name");if("checkbox"===k)if(m){for(var n=a('[name="'+m+'"]'),o=[],p=0;p<n.length;p++)n[p].checked&&o.push(n[p].value);g=o}else{var q,r=h.prop("data-checked-model");l?q=l:r&&r[0]&&r[0].get&&(q=r[0].get()),g=void 0!=q&&i[q]?i[q][b.checked]:b.checked}else if(m){var s=a('input[name="'+m+'"]:checked');s.length>0&&(g=a(s[0]).val())}return g},render:function(b,c,d,e,f){var g=j.checked.availableValueList,h=!1,i=a(b).attr("data-type")||b.type,k=a(b).attr("value");if("checkbox"===i)if(d instanceof Array){for(var l=0;l<d.length;l++)if(b.value===d[l]){h=!0;break}}else"boolean"==typeof d?d&&(h=!0):k?k===d&&(h=!0):g[d]&&d==g[d]["true"]&&(h=!0);else b.value===d&&(h=!0);var m=a(b).parent();h?(b.checked=!0,b.setAttribute("checked",!0),(m.hasClass("ImageCheckbox")||m.hasClass("ImageRadio"))&&m.addClass("Checked")):(b.checked=!1,b.removeAttribute("checked"),(m.hasClass("ImageCheckbox")||m.hasClass("ImageRadio"))&&m.removeClass("Checked"))}},j.options={setting:{valueKey:void 0,textKey:void 0,selectOption:!1},data:function(b,c,d,e,f){var g=[];if(1!=j.options.setting.selectOption)return void 0;var h,i=j.options.setting.valueKey||"value",k=j.options.setting.textKey||"text";if(h=b.getAttribute("data-bind-option")){var l=h.split(":");i=a.trim(l[0]),k=a.trim(l[1])}return a(b).find("option").each(function(){if(!a(this).attr("data-placeholder")){var b={};b[i]=a(this).attr("value"),b[k]=a(this).text(),g.push(b)}}),g},render:function(b,c,d,e,f){var g=b,h=a(b),i=null;"divselect"==h.attr("data-type")&&"div"===h[0].tagName.toLowerCase()&&(i=h.find(">select:eq(0)"));var k,l=j.options.setting.valueKey,m=j.options.setting.textKey;if(k=b.getAttribute("data-bind-option")){var n=k.split(":");l=a.trim(n[0]),m=a.trim(n[1])}h.val();if(i?i.empty():h.empty(),("select"==h.attr("data-type")||"divselect"==h.attr("data-type")||"mselect"==h.attr("data-type"))&&h.attr("data-placeholder")){var o=h.attr("data-placeholder");h.setPlaceholder(o)}if(void 0!=d)for(var p=0;p<d.length;p++){var q=d[p],r=document.createElement("option");if("string"==typeof q)r.setAttribute("value",q),r.innerHTML=q;else{var s="";l?s=q[l]:q.value?s=q.value:q.VALUE&&(s=q.VALUE);var t="";m?t=q[m]:q.text?t=q.text:q.TEXT&&(t=q.TEXT),r.setAttribute("value",s),r.innerHTML=t}i?i[0].appendChild(r):h[0].appendChild(r)}g._waiting&&(g._selectedOptionsRefresh=!0,a.alopex.DataBinder.selectedOptions&&a.alopex.DataBinder.selectedOptions.render&&a.alopex.DataBinder.selectedOptions.render(g,c,g._value,e,f)),a.fn.multiselect&&h.is('[data-type="mselect"]')?a.alopex.util.isConverted(b)&&h.multiselect("refresh"):a.alopex.util.isValid(b)&&a.alopex.util.isValid(h.refresh)&&("divselect"===h.parent("div").attr("data-type")?h.parent("div").refresh():h.refresh())}},j.selectedOptions={data:function(b,c,d,e,f){var g=a(b);return"divselect"==g.attr("data-type")&&"DIV"===b.tagName?b._value||g.find(">select:eq(0)").val()||"":"divselect"==g.attr("data-type")&&"SELECT"===b.tagName?b.divSelect._value||"":g.val()||""},render:function(b,c,d,e,f){var g=null;if("divselect"==a(b).attr("data-type")&&"DIV"===b.tagName&&(g=a(b).find(">select:eq(0)")),d instanceof Array)a(b).find("option").prop("selected",!1),a.each(d,function(c,d){a(b).find("option[value='"+d+"']").prop("selected",!0)});else{b._waiting&&b._selectedOptionsRefresh&&(b._waiting=!1,d=b._value);var h=!1;a(b).find("option").each(function(){return a(this).val()==d?(h=!0,!1):void 0}),h?(g?g.val(d):a(b).val(d),b.divSelect?b.divSelect._value=d.toString():b._value=d.toString()):(b._waiting=!0,b._selectedOptionsRefresh=!1,b._value=d);var i=a(b).parent("div");(i&&"divselect"==i.attr("data-type")||b.divSelect)&&i.refresh()}a.fn.multiselect&&a(b).is('[data-type="mselect"]')?a.alopex.util.isConverted(b)&&a(b).multiselect("refresh"):a.alopex.util.isValid(b)&&a.alopex.util.isValid(a(b).refresh)&&a(b).refresh()}},j.attr={data:function(b,c,d,e,f){return a(b).attr(f.subcontrolName)},render:function(b,c,d,e,f){a(b).attr(f.subcontrolName,d)}},j.css={render:function(b,c,d,e,f){a(b).css(f.subcontrolName,d)},data:function(b,c,d,e,f){return a(b).css(f.subcontrolName)}},j.visible={render:function(b,c,d,e,f){d?a(b).show():a(b).hide()},data:function(a,b,c,d,e){return"none"!=a.style.display}},j["with"]={render:function(b,c,d,e,f){a(b).setData(d)},data:function(b,c,d,e,f){var g={};return a(b).find("> *").each(function(b,c){
a.extend(g,a(c).getData())}),g}},j.foreach={data:function(b,c,d,e,f){for(var g,h=a(b).children(),i=[],j=0;j<h.length;j++)g=h[j],a(g).attr("alopex-databind-template")||i.push(a(g).getData());return i},render:function(b,c,d,e,f){if(d instanceof Array){a(b).find("[alopex-databind-created=true]").remove();var h=a(b).data("databind-template");if(!h){var i=a.alopex.BindParser.parseByControl(a(b).attr(g));i&&i.template&&i.template.id?h=a("#"+i.template.id).html():(h=b.innerHTML,a(b).find("> *").attr("alopex-databind-template","true").hide()),a(b).data("databind-template",h)}for(var j=0;j<d.length;j++){var k=a(h).clone().attr("alopex-databind-created","true").appendTo(b);k.find("[data-bind]").each(function(){var a=this.getAttribute("data-bind");this.setAttribute("data-bind",a.replace(new RegExp(":"+c+".\\d+.","gi"),":"))}),a(k).setData(d[j],f.serviceName,g)}var l;document.createEvent?(l=document.createEvent("Event"),l.initEvent("dataupdate",!0,!0),l.datalength=d.length,l.perpage=0,l.totallength=0,b.dispatchEvent(l)):a(b).trigger("dataupdate",{datalength:d.length,perpage:0,totallength:0})}}},j.template={getTemplate:function(b){var c,d,e=a(b).data("databind-template");return e||(d=a.alopex.BindParser.parseByControl(a(b).attr(g)),d&&d.template&&(c=a("#"+d.template.name),c.length>0&&(e=c.html(),a(b).data("databind-template",e)))),e},render:function(b,c,d,e,f){var g=j.template.getTemplate(b);if(a(b).empty(),a.alopex.util.isValid(d)&&a.alopex.util.isValid(g))if(d instanceof Array)if(0==d.length);else for(var h=0;h<d.length;h++){var i=a(g).appendTo(b);i.setData(d[h])}else{var i=a(g).clone().appendTo(b);i.setData(d)}},data:function(b,c,d,e,f){if("foreach"==f.subcontrolName){var h=j.template.getTemplate(b);if(f=a.alopex.BindParser.parseByControl(a(b).attr(g)),a.alopex.util.isValid(h)&&f&&f.template){if(f.template.foreach){for(var i=[],k=b.children,l=0;l<k.length;l++)i.push(a(k[l]).getData());return i}f.template}}}},j.binder={data:function(a,b,c,d,e){if(a&&a.binder&&a.binder.getBindElement){var f=a.binder.getBindElement();if(f&&f.tagName)return f}return""},render:function(a,b,c,d,e){if(a&&a.binder&&a.binder.setBindElement){document.body.querySelector("iframe").contentDocument;c?a.binder.setBindElement(c):a.binder.removeBindElement()}}},j.grid={render:function(b,c,d,e,f){var g=b.jquery?b:a(b);a.alopex.util.isValid(a(b).attr("data-alopexgrid"))&&a.alopex.util.isValid(a.fn.alopexGrid)&&(a.isPlainObject(d)?g.alopexGrid("dataSet",a.isArray(d.list)?d.list:[],g.alopexGrid("readOption").pager?{current:d.currentPage,perPage:d.perPage,dataLength:d.totalLength}:void 0):a.isArray(d)&&g.alopexGrid("dataSet",d))},data:function(b,c,d,e,f){var g,h,i,j;return g=b.jquery?b:a(b),g.attr("data-alopexgrid")?(h=AlopexGrid.trimData(g.alopexGrid("dataGet")),g.alopexGrid("readOption").pager?(j={list:h},i=g.alopexGrid("pageInfo"),i&&a.extend(j,{currentLength:h.length,currentPage:i.current,perPage:i.perPage,totalLength:i.dataLength}),j._griddata=!0,j):h):void 0}},j.time={render:function(b,c,d,e,f){var g,h,i=new Date(d);if(isNaN(i.getTime())){var j=d.match(/(\d+)(?::(\d\d))?\s*(p?)/i);if(!j)return;g=parseInt(j[1],10),h=parseInt(j[2],10)||0}else g=i.getHours(),h=i.getMinutes();var k=b.querySelector("[data-hour]"),l=b.querySelector("[data-minute]"),m=b.querySelector("[data-ampm]");m?(a(m).val(m.am),"12H"===a(b).data("hours")?("string"==typeof d&&d.toUpperCase().indexOf(m.pm)>-1||g>=12)&&(a(m).val(m.pm),g>12?g-=12:0==g&&(g+=12)):("string"==typeof d&&d.toUpperCase().indexOf(m.pm)>-1&&12>g&&(g+=12,0==g&&(g+=12)),g>=12?a(m).val(m.pm):a(m).val(m.am))):"12H"===a(b).data("hours")&&g>12&&(g-=12),a(k).val(10>g?"0"+g:g),a(l).val(10>h?"0"+h:h)},data:function(b,c,d,e,f){for(var g,h=a(b).children(),i="",j=0;j<h.length;j++)g=a(h[j]),(g.is("[data-hour]")||g.is("[data-minute]")||g.is("[data-seperator]")||g.is("[data-ampm]"))&&(g.val()?i+=0===j?g.val():" "+g.val():g.text()&&(i+=0===j?g.text():" "+g.text()));return i}},j.addBinder=function(b,c){j[b]={},a.extend(j[b],c)},a.alopex.DataBinder=j,a.alopex.registerSetup("databind",function(a){a.optionsValueKey&&(j.options.setting.valueKey=a.optionsValueKey),a.optionsTextKey&&(j.options.setting.textKey=a.optionsTextKey)})}(jQuery),!function(a){function b(a,b){this._parent=b,this._key=a}function c(a,c){this._scope=a,this._data=c;for(var d in c)c.hasOwnProperty(d)&&(this[d]=new b(d,this))}b.prototype.get=function(){try{return a(this._parent._scope).getData()[this._key]}catch(b){return}},b.prototype.set=function(b){var c={};c[this._key]=b;try{return a(this._parent._scope).setData(c)}catch(d){}},c.prototype.get=function(){return a(this._scope).getData()},c.prototype.set=function(b){return a(this._scope).setData(b)},a.alopex.databind=function(b,d){return d=d||document.body,a(d).setData(b),new c(d,b)},a.alopex.datamodel=function(){var b="body";"undefined"==typeof arguments[0]||"boolean"==typeof arguments[0]||(b=arguments[0]);var d=a(b).getData;return a(b).setData(d),new c(b,d)},a.fn.alopex=function(b,c){return"dataSet"===b||"setData"===b?a(this).setData(c):"dataGet"===b||"getData"===b?a(this).getData():void 0},a.alopex.data={bind:a.alopex.databind,model:a.alopex.datamodel,control:a.alopex.DataBinder.addBinder}}(jQuery),!function(a){var b="data-bind-format";a(document).ready(function(){a(document.body).on("focus","["+b+"]",function(c){var d=c.currentTarget,e=a.alopex.unformat(d.value,a(d).attr(b));d.value=e}),a(document.body).on("blur","["+b+"]",function(c){var d=c.currentTarget,e=a.alopex.format(d.value,a(d).attr(b));d.value=e})}),a.alopex.format=function(b,c){return a.alopex.Formatter[c]?a.alopex.Formatter[c].toFormat(b):b},a.alopex.unformat=function(b,c){return a.alopex.Formatter[c]?a.alopex.Formatter[c].toValue(b):b},a.alopex.Formatter={},a.alopex.Formatter.currency={toFormat:function(a){var b,c,d,e,f;if(f=a.toString().replace(/[^0-9\.]/gi,""),f!==a.toString()||null!==f.match(/\./gi)&&1!==f.match(/\./gi).length)return a;for(b=a.toString().split("."),c=b[0].split(""),d=c.length-3;d>0;d-=3)c.splice(d,0,",");return e=c.join(""),2==b.length&&(e+=e[1]),e},toValue:function(a){return a.replace(new RegExp(",","g"),"")},validate:function(a){return 32>a||a>=48&&57>=a||127===a?!0:!1}},a.alopex.Formatter.dollar={toFormat:function(b){return isNaN(parseInt(a.alopex.Formatter.currency.toFormat(b)))?b:"$"+a.alopex.Formatter.currency.toFormat(b)},toValue:function(b){return a.alopex.Formatter.currency.toValue(b.replace("$",""))},validate:function(b){return a.alopex.Formatter.currency.validate(b)}},a.alopex.Formatter.date={normalize:function(){return"yyyy/MM/dd"},toFormat:function(a){var b=a.match(/(\d{4})(\d{2})(\d{2})/);return b?b[1]+"/"+b[2]+"/"+b[3]:""},toValue:function(a){return a.replace(new RegExp("/","g"),"")},validate:function(a){var b=a.match(/(\d{4})(\d{2})(\d{2})/),c=b[1],d=b[2],e=b[3];if(1>d||d>12)return!1;if(1>e||e>31)return!1;if((4==d||6==d||9==d||11==d)&&31==e)return!1;if(2==d){var f=c%4==0&&(c%100!=0||c%400==0);if(e>29||29==e&&!f)return!1}return!0}},a.alopex.Formatter.time={normalize:function(){return"hh:mm:ss"},toFormat:function(a){var b=a.match(/(\d{2})(\d{2})(\d{2})/);return b?b[1]+":"+b[2]+":"+b[3]:""},toValue:function(a){return a.replace(new RegExp(":","g"),"")},validate:function(a){var b=str.match(/(\d{2})(\d{2})(\d{2})/),c=b[1],d=b[2],e=b[3];return 0>c||c>24?!1:0>d||d>59?!1:0>e||e>59?!1:!0}},a.alopex.addFormatter=function(b){a.extend(!0,a.alopex.Formatter,b)}}(jQuery),+function(a){function b(b){return a.alopex.datamodel("body").get()}function c(){this.servicelist={},this.requestlist={}}c.prototype.loadServiceInfo=function(b,c){this.servicelist={},this.requestlist={};var d=this;a.get(b,function(b){var e={};"string"==typeof b?e=JSON.parse(b):"object"==typeof b&&(e=b),a.extend(d.servicelist,e),c&&"function"==typeof c&&c()})},c.prototype.isCached=function(a,b){return b?this.requestlist[a]&&this.requestlist[a].data===b.data:!1},c.prototype.bind=function(c,d){if(d||(d={}),this.successCallback=d.success,this.errorCallback=d.error,this.callback=d.complete,this.isCached(c,d)){this.requestlist[c].responseObj;this.databinding(c)}else{var e=this.servicelist[c];e&&(a.extend(e,d,{type:e.method,complete:this._requestCallback,error:this._requestErrorCallback,success:this._requestSuccessCallback}),e.staticSchema&&(e.data=a.extend({},e.data,b(c))),this.requestlist[c]={data:e.data,responseText:"",responseObject:null},a.ajax(e),a.alopex.datasource.object=this)}},c.prototype._requestSuccessCallback=function(){var b=a.alopex.datasource.object;b.successArguments=arguments},c.prototype._requestErrorCallback=function(){var b=a.alopex.datasource.object;b.errorArguments=arguments},c.prototype._requestCallback=function(b,c){var d;for(var e in a.alopex.datasource.servicelist){var f=this.url.split("?")[0].trim();if(a.alopex.datasource.servicelist[e].url===f){d=e;break}}var g=a.alopex.datasource.object;try{g.requestlist[d].responseText=b.responseText,g.requestlist[d].responseObject=JSON.parse(b.responseText);var h=g.databinding(d);"success"===c&&g.successCallback?g.successCallback.apply(this,g.successArguments):"success"!=c&&g.errorCallback&&g.errorCallback.apply(this,g.errorArguments),g.callback&&g.callback.call(this,arguments[0],arguments[1],h)}catch(i){}},c.prototype.databinding=function(b){var c,d=this;return $candidate=a('[data-provider*="'+b+'"]'),$candidate.each(function(){var e=this.getAttribute("data-provider"),f=e.split(":")[0];if(b===f){var g;if(1===e.split(":").length)g=d.requestlist[b].responseObject;else for(var h=e.split(":")[1],i=h.split("."),g=d.requestlist[b].responseObject,j=0;j<i.length;j++)g=g[i[j]];if(c=a.alopex.databind(g),a.alopex.data.servicemodel[b]=c,document.createElement){var k=document.createEvent("Events");k.initEvent("databind",!0,!0),document.dispatchEvent(k)}else a(document).trigger("databind")}}),c},c.prototype.update=function(b,c,d){var e=d.get();c.data=e,c.type&&(c.method=c.type);var f=this.servicelist[b];a.extend(f,c),f.method="post",a.ajax(f),a.alopex.datasource.object=this},c.prototype.search=function(b){b||(b="body");var c=this;a(b).find("[data-trigger]").addBack("[data-trigger]").each(function(){var b=a(this),d=b.attr("data-trigger"),e=new a.alopex.datarule(d);for(var f in e.object)"load"==e.object[f]?c.bind(f):b.data("_data_trigger_"+f)||(b.on(e.object[f],function(a){c.bind(f)}),b.data("_data_trigger_"+f,e.object[f]))})},a.alopex.datasource=new c}(jQuery),function($,window){function idFilterValue(a){if("string"==typeof a&&0===a.indexOf("#")){var b=$(a);return b.length?b.val():a}return a}function generateUniqueId(){return"alopexvalidator"+uniqueidbase++}function stringify(a,b){var c="";if($.isPlainObject(a)){c+="{";var d=!1;for(var e in a)a.hasOwnProperty(e)&&(d?c+=",":d=!0,c+=e+":",c+=stringify(a[e],b));c+="}"}else if($.isArray(a)){for(var f=[],g=0;g<a.length;g++)f[g]=stringify(a[g],b);c+="["+f.join(",")+"]"}else if("string"==typeof a){var h="string"==typeof b?b:"'";c+=h+a+h}else c+=a;return c}function evalObjectString(str){if("string"!=typeof str||""===str||!str)return null;var result=eval("("+str+")");return $.isPlainObject(result)?result:null}function getObjectProperty(){var a=$.makeArray(arguments);return a.length<=1||!$.isPlainObject(a[0])?a[0]:(a[1]=a[0][a[1]],getObjectProperty.apply(null,a.slice(1)))}function hasClass(a,b){return new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)}function addClass(a,b){hasClass(a,b)||(a.className=a.className+(a.className?" ":"")+b)}function removeClass(a,b){hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}function serializeInputs(a){return a.filter(function(){var a=this.type;return this.name&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(a)&&(this.checked||!manipulation_rcheckableType.test(a))}).map(function(a,b){var c=jQuery(this).val();return null==c?null:jQuery.isArray(c)?jQuery.map(c,function(a){return{name:b.name,value:a.replace(rCRLF,"\r\n")}}):{name:b.name,value:c.replace(rCRLF,"\r\n")}}).get()}function extractValueFromArray(a,b){var c=null;return $.each(b,function(b,d){d.name===a&&(null===c?c=d.value:(c=$.isArray(c)?c:[c],c.push(d.value)))}),c}function isNullValue(a){return null===a||void 0===a||""===a?!0:!1}function getByteLength(a){if(isNullValue(a))return 0;if(a.hasOwnProperty("length")){for(var b,c=0,d=0;b=a.charCodeAt(d++);c+=b>>11?3:b>>7?2:1);return c}return 0}function getValueLength(a){return isNullValue(a)?0:a.hasOwnProperty("length")?a.length||0:0}function validate(a,b,c,d,e,f){var g=!0,h={};return b.filter("[data-validate-rule],[data-validation-rule]").each(function(a){var b=this,i=b.attributes.type,j=b.attributes.name,k=$.extend({},evalObjectString(b.attributes["data-validation-rule"]?b.attributes["data-validation-rule"].value:null),evalObjectString(b.attributes["data-validate-rule"]?b.attributes["data-validate-rule"].value:null));if(!$.isEmptyObject(k)){var l=$.extend({},Validator.defaultOption,$.data(b,"data-validation-option"),evalObjectString(b.attributes["data-validation-option"]?b.attributes["data-validation-option"].value:null),evalObjectString(b.attributes["data-validate-option"]?b.attributes["data-validate-option"].value:null)),m=$.extend({},Validator.message,$.data(b,"data-validation-message"),evalObjectString(b.attributes["data-validation-message"]?b.attributes["data-validation-message"].value:null),evalObjectString(b.attributes["data-validate-message"]?b.attributes["data-validate-message"].value:null)),n=b.attributes["data-validate-name"]||b.attributes["data-validation-name"],o=!0,p=b.id;i=i?i.value:"text",j=j?j.value:"";var q=extractValueFromArray(j,d);for(var r in k){var s=Validator.method[r],t=k[r],u=$.isFunction(s)?s(q,t,b):!1;if("optional"===u){delete h[j],o=!0;break}if(u||!j||h[j]||(h[j]=[]),!u){var v=m[r]||"";if($.isFunction(v))v=v.call(b,b,t);else{for(var w=$.isArray(t)?t:[t],x=0;x<w.length;x++)v=v.split("{"+x+"}").join(idFilterValue(w[x]));v=v.replace(/{param}/g,$.isArray(t)?'"'+t.join('", "')+'"':idFilterValue(t)),v=v.replace(/{attr:([^}]*)}/g,function(a,c,d,e){return b.getAttribute(c)})}v=l.title?v.replace("{title}",l.title):v,n&&n.value&&(h[j]?h[j].name=n.value:""),h[j]?h[j].push(v):""}if(u===!1&&(o=!1,e!==!0))break}isNullValue(q)&&k.required!==!0&&"string"!=typeof k.required&&(o=!0,delete h[j]),f!==!0&&(c?c.each(function(){var a=!1;l.messageToLabel&&"LABEL"===this.tagName&&this.attributes["for"]&&this.attributes["for"].value===p&&(a=!0),l.messageToDataFor&&this.attributes["data-for"]&&this.attributes["data-for"].value===p&&(a=!0),a&&(this.innerText=e===!0?(h[j]||[]).join(" "):getObjectProperty(h,j,0)||"",l.validMessageClass?(o?addClass:removeClass)(this,l.validMessageClass):"",l.invalidMessageClass?(o?removeClass:addClass)(this,l.invalidMessageClass):"")}):"",(l.validClass||l.invalidClass)&&(l.validClass?(o?addClass:removeClass)(b,l.validClass):"",l.invalidClass?(o?removeClass:addClass)(b,l.invalidClass):"")),o===!1&&(g=!1)}}),f===!0?h:g}function locateForm(a){a.jquery&&a.length>0&&(a=a[0]);for(var b=a.tagName;"FORM"!==b&&"BODY"!==b&&"HEAD"!==b;){if(a=a.parentNode,!a)return document.body;b=a.tagName}return"BODY"===b||"HEAD"===b?document.body:a}function createNameForInputs(a){a.filter(function(){var a=this.type;return!this.name&&(this.attributes["data-validate-rule"]||this.attributes["data-validation-rule"])&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(a)&&((this.checked||manipulation_rcheckableType.test(a))&&(this.value||this.value.length)||!manipulation_rcheckableType.test(a))}).each(function(){this.name||(this.name=generateUniqueId())})}function addGroupInputs(a,b){return b.each(function(c,d){var e=d.type;manipulation_rcheckableType.test(e)&&(b=b.add(a.find('[name="'+d.name+'"]')))}),b}var rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i,manipulation_rcheckableType=/^(?:checkbox|radio)$/i,rCRLF=/\r?\n/g,Validator={defaultOption:{},addMethod:function(a,b){this.method[a]=function(a,c,d){return b(d,a,c)}},defineMethod:function(a,b){this.method[a]=b},test:function(a,b,c){var d=this.method[a];return $.isFunction(d)?d(b,c):"No such method : "+a},method:{required:function(a,b,c){if("string"==typeof b){var d=$(b),e=d.attr("type")||"";if(manipulation_rcheckableType.test(e)){var f=d.attr("name"),g=$(locateForm(d));d=d.add(g.find('[name="'+f+'"]'))}var h=getValueLength(extractValueFromArray(f,serializeInputs(d)));if(0===h)return"optional"}return isNullValue(a)&&b!==!1?!1:!0},checkOnlySpace:function(a,b,c){var d=/^\s+|\s+$/g;return""==a.replace(d,"")?!1:!0},equalTo:function(a,b,c){return("string"==typeof b&&0===b.indexOf("#")?$(b).val():b)===a},minlength:function(a,b,c){return getValueLength(a)>=b},maxlength:function(a,b,c){return getValueLength(a)<=b},rangelength:function(a,b,c){if(!$.isArray(b))return!1;var d=getValueLength(a);return b[0]<=d&&d<=b[1]},minblength:function(a,b,c){return getByteLength(a)>=b},maxblength:function(a,b,c){return getByteLength(a)<=b},rangeblength:function(a,b,c){if(!$.isArray(b))return!1;var d=getByteLength(a);return b[0]<=d&&d<=b[1]},min:function(a,b,c){return Number(a)>=Number(b)},max:function(a,b,c){return Number(a)<=Number(b)},range:function(a,b,c){return $.isArray(b)?Number(b[0])<=Number(a)&&Number(a)<=Number(b[1]):!1},digits:function(a,b,c){return/^\s*\d+\s*$/.test(a)},number:function(a,b,c){return!isNaN(Number(a))},integer:function(a,b,c){return/^\s*(\+|-)?\d+\s*$/.test(a)},alphabet:function(a,b,c){return/^[a-zA-Z]*$/.test(a)},numalpha:function(a,b,c){return/^[0-9a-zA-Z]*$/.test(a)},nospace:function(a,b,c){return!/\s/g.test(a)},hangul:function(a,b,c){return/^[ㄱ-힣]*$/.test(a)},numhan:function(a,b,c){return/^[0-9ㄱ-힣]*$/.test(a)},email:function(a,b,c){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a)},url:function(a,b,c){var d=new RegExp("^(http[s]?:\\/\\/(www\\.)?|ftp:\\/\\/(www\\.)?|(www\\.)?){1}([0-9A-Za-z-\\.@:%_‌​+~#=]+)+((\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\?(.)*)?");return d.test(a)},date:function(a,b,c){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},mindate:function(a,b,c){var d=new Date(a).getTime(),e=new Date(idFilterValue(b)).getTime();return isNaN(d)||isNaN(e)?!1:d>=e},maxdate:function(a,b,c){var d=new Date(a).getTime(),e=new Date(idFilterValue(b)).getTime();return isNaN(d)||isNaN(e)?!1:e>=d},daterange:function(a,b,c){var d=/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a);if(!d||!$.isArray(b))return!1;var e=new Date(idFilterValue(b[0])).getTime(),f=new Date(idFilterValue(b[1])).getTime(),g=new Date(a).getTime();return isNaN(e)||isNaN(f)||isNaN(g)?!1:g>=e&&f>=g},oneof:function(a,b,c){if($.isArray(b))for(var d=0,e=b.length;e>d;d++)if(a===b[d])return!0;return!1},phone:function(a,b,c){var d=/^(01[016789]{1}|02|0[3-9]{1}[0-9]{1})?-?[0-9]{3,4}-?[0-9]{4}$/;return d.test(a)},mobile:function(a,b,c){var d=/^(01[016789]{1})-?[0-9]{3,4}-?[0-9]{4}$/;return d.test(a)},decimal:function(a,b,c){var d=String(a).split(",").join("");if(isNaN(parseFloat(d))||!isFinite(d))return!1;var e=String(d).replace(/[+\-,]/g,""),f=b[0],g=b[1]||0,h=e.split(".")[0],i=e.split(".")[1];return f&&h&&h.length>f-g?!1:i&&i.length>g?!1:!0}},defaultOption:{onsubmit:!0,oninit:!1,onkeyup:!0,onchange:!0,onblur:!0,messageToLabel:!1,messageToDataFor:!0,validClass:null,invalidClass:null,validMessageClass:"valid",invalidMessageClass:"invalid"},message:{required:"반드시 입력해야 하는 항목입니다.",checkOnlySpace:"공백만을 입력할 수 없습니다.",required_select:"반드시 선택해야 하는 항목입니다.",minlength:"최소 {0}글자 이상 입력하십시오.",maxlength:"최대 {0}글자 까지 입력 가능합니다.",rangelength:"{0}에서 {1} 글자 사이로 입력하십시오.",minblength:"최소 {0}바이트 이상 입력하십시오.",maxblength:"최대 {0}바이트 까지 입력 가능합니다.",rangeblength:"{0}에서 {1} 바이트 사이로 입력하십시오.",min:"최소 입력가능 값은 {0}입니다.",max:"최대 입력가능 값은 {0}입니다.",range:"{0}에서 {1} 사이의 값을 입력해 주십시오.",email:"이메일 형식에 맞게 입력해 주십시오.",url:"url 형식에 맞게 입력해 주십시오.",date:"날짜를 YYYY/MM/DD 또는 YYYY-MM-DD 형식에 맞게 입력해 주십시오.",mindate:"{0} 또는 {0} 이후의 날짜를 입력해 주십시오.",maxdate:"{0} 또는 {0} 이전의 날짜를 입력해 주십시오.",daterange:"{0}에서 {1} 사이의 날짜를 입력해 주십시오.",oneof:"다음중 하나의 값을 입력해 주십시오 : {param}.",number:"실수를 입력해 주십시오.",integer:"정수를 입력해 주십시오.",digits:"숫자만 입력 가능합니다.",alphabet:"알파벳만 입력 가능합니다.",equalTo:"{0} 값만 가능합니다.",numalpha:"숫자 또는 영문자만 입력 가능합니다.",nospace:"스페이스는 입력할 수 없습니다.",hangul:"한글만 입력 가능합니다.",numhan:"숫자 또는 한글만 입력 가능합니다.",phone:"대시(-)가 들어간 전화번호 형태를 입력해 주십시오.",mobile:"대시(-)가 들어간 휴대전화번호 형태를 입력해 주십시오.",decimal:"소숫점 {1}자리를 포함하여 최대 {0}자리까지 허용됩니다."},setMessage:function(a,b){this.message[a]=b},mergeErrorMessage:function(a,b){function c(a,b){var c="";return b=b||a.name,$.isArray(a)&&(c=b?b+" : ":"",$.each(a,function(a,b){c+=b+" "})),c}function d(a){var b="";return $.isPlainObject(a)&&$.each(a,function(a,d){b+=c(d,null)+"\n"}),b}return $.isArray(a)?c(a,b):d(a)}},uniqueidbase=(new Date).getTime()%100;$.fn.validate=function(){var a=this.eq(0),b=null,c=null,d=null,e=null,f=!1,g=!1,h=0;$.isPlainObject(arguments[0])&&(g=arguments[h++]);var i=arguments[h++],j=arguments[h++];if($.isPlainObject(a[0])&&(f=a[0]),b=$(locateForm(a)),f){var c=$();$.each(a[0],function(a,b){var d=$('<input type="hidden">');d.attr("name",a).attr("value",b),c=c.add(d)})}else"FORM"===a.prop("tagName")?c=b.map(function(){var a=jQuery.prop(this,"elements");return jQuery.makeArray(a)}):rsubmittable.test((a.prop("tagName")+"").toLowerCase())?c=this:(b=this,c=b.find("[data-validate-rule],[data-validation-rule]"));g&&c.validator(g),c=addGroupInputs(b,c),createNameForInputs(c),e=serializeInputs(c),d=b.find("[for], [data-for]");var k=validate(b,c,d,e,i,j);return j===!0&&"FORM"!==a.prop("tagName")&&a.prop("name")&&(k=k[a.prop("name")]||null),k},$.fn.validator=function(a){var b=this,c=(locateForm(this),!1);return"FORM"===this.prop("tagName")&&(b=b.add($($.makeArray(this.prop("elements")))),c=!0),b.each(function(){var b=$(this),d="FORM"===this.tagName,e=(b.attr("type"),b.attr("name"));if($.isPlainObject(a)&&!$.isEmptyObject(a)){if(!d){var f=$.extend({},evalObjectString(b.attr("data-validation-rule")),evalObjectString(b.attr("data-validate-rule")),getObjectProperty(a,"rule"),getObjectProperty(a,"elements",e,"rule")),g=$.extend({},b.data("data-validation-message"),evalObjectString(b.attr("data-validation-message")),evalObjectString(b.attr("data-validate-message")),getObjectProperty(a,"message"),getObjectProperty(a,"elements",e,"message"));$.isEmptyObject(f)||b.attr("data-validation-rule",stringify(f)).removeAttr("data-validate-rule"),$.isEmptyObject(g)||b.data("data-validation-message",g).removeAttr("data-validate-message").removeAttr("data-validation-message")}var h=$.extend({},b.data("data-validation-option"),evalObjectString(b.attr("data-validation-option")),evalObjectString(b.attr("data-validate-option")),!d&&c?null:getObjectProperty(a,"option"),getObjectProperty(a,"elements",e,"option"));$.isEmptyObject(h)||b.data("data-validation-option",h).removeAttr("data-validate-option").removeAttr("data-validation-option")}var i=$.extend({},b.data("data-validation-rule"),evalObjectString(b.attr("data-validation-rule")),evalObjectString(b.attr("data-validate-rule"))),j=$.extend({},Validator.defaultOption,b.data("data-validation-option"),evalObjectString(b.attr("data-validation-option")),evalObjectString(b.attr("data-validate-option")));$.extend({},Validator.message,b.data("data-validation-message"),evalObjectString(b.attr("data-validation-message")),evalObjectString(b.attr("data-validate-message")));if(d)b.off(".alopexvalidatorFormSubmit"),j.onsubmit&&b.on("submit.alopexvalidatorFormSubmit",j.submitHandler||function(a){$(this).validate()||a.preventDefault()});else{if("string"==typeof i.required&&0===i.required.indexOf("#")){var k=$(i.required);k.data("alopexvalidatorDependency",b.add(k.data("alopexvalidatorDependency")))}b.off(".alopexvalidatorInputChange");var l=[];j.onkeyup&&(j.onclick=!0),$.each(["onkeyup","onchange","onblur","onclick"],function(a,b){j[b]&&l.push(b.split("on")[1]+".alopexvalidatorInputChange")}),l.length&&b.on(l.join(" "),function(a){var b=$(this);setTimeout(function(){b.validate();var a=b.data("alopexvalidatorDependency");if(a){var c=$.extend({},evalObjectString(a.attr("data-validation-rule")),evalObjectString(a.attr("data-validate-rule"))),d=$.isPlainObject(c)&&c.required==="#"+b.prop("id");if(d)a.validate();else{var e=k.data("alopexvalidatorDependency");e&&e.jquery&&(e=e.remove("#"+b.prop("id"))),e&&e.length||b.removeData("alopexvalidatorDependency")}}},0)})}(j.oninit||getObjectProperty(a,"oninit"))&&setTimeout(function(){b.validate()},0)}),this};var _getErrorMessageConflict=$.fn.getErrorMessage;$.fn.getErrorMessage=function(){if(_getErrorMessageConflict){var a=!0,b=this;if(b.prop("elements")&&(b=b.add($($.makeArray(b.prop("elements"))))),b.each(function(){return this.attributes["data-validate-rule"]||this.attributes["data-validation-rule"]?(a=!1,!1):void 0}),a)return _getErrorMessageConflict.apply(this,arguments)}return this.validate(!0,!0)},window.Validator=Validator,$.alopex.validator=Validator,$.extend($.alopex.validator,{setup:function(a){$.extend(!0,$.alopex.validator,a)}})}(jQuery,window);